{"version":3,"sources":["assets/files.js","components/TextEditor/TextEditor.js","actions/index.js","components/MultilanguageEditor/multiFile.js","actions/outputAction.js","components/IDE.js","components/DrawingBoard/drawBoard.js","components/Recorder/Recorder.js","components/DrawingBoard/drawBoardPlayer.js","components/Player/Player.js","components/RecorderForm/recorderForm.js","reducers/filenameSelection.js","reducers/outputModalReducer.js","reducers/languageSelection.js","reducers/index.js","components/Card/card.js","components/Lectures/allLectures.js","index.js","components/StartingComponent/startingCompoent.js"],"names":["files","name","language","value","TextEditor","props","srcDoc","useSelector","state","srcDocs","modalActive","outputModal","fileName","dispatch","useDispatch","file","handleCloseModal","type","className","id","disabled","onClick","console","log","style","color","backgroundColor","padding","borderRadius","height","width","theme","path","defaultLanguage","defaultValue","saveViewState","onChange","cursorSmoothCaretAnimation","isOpen","contentLabel","onRequestClose","overlayClassName","ariaHideApp","title","sandbox","frameBorder","MultiFile","useState","outputValue","setOutputValue","inputValue","setInputValue","cursor","words","split","code","i","length","input","a","url","axios","post","stdin","versionIndex","script","runCode","then","e","data","output","event","CustomEvent","detail","document","documentElement","dispatchEvent","options","fontSize","fontWeight","fontFamily","beforeMount","monaco","editor","defineTheme","base","inherit","rules","colors","rows","cols","target","placeholder","App","refresh","generator","rough","DrawingBoard","startTime","initialState","index","setIndex","history","setHistory","action","overwrite","newState","historyCopy","updatedState","slice","prevState","useHistory","elements","setElementState","undo","redo","fill","setFill","fillStyle","setFillStyle","strokeColor","setStrokeColor","strokeWidth","setStrokeWidth","elementType","setTool","setAction","selectedElement","setSelectedElement","points","setPoints","createElement","x1","y1","x2","y2","stroke","roughElement","line","rectangle","x","y","b","diameter","Math","round","distance","circle","Error","updateElement","elementsCopy","updatedElement","sqrt","pow","nearPoint","abs","onLine","maxDistance","c","offset","positionWithinElement","element","on","start","end","topLeft","topRight","bottomLeft","bottomRight","radius","some","point","nextPoint","getElementAtPosition","map","position","find","drawElement","roughCanvas","context","draw","d","reduce","acc","arr","x0","y0","push","join","getSvgPathFromStroke","getStroke","size","Path2D","useLayoutEffect","canvas","getElementById","getContext","clearRect","forEach","useEffect","addEventListener","htmlFor","checked","viewBox","strokeLinecap","top","window","innerWidth","innerHeight","onMouseDown","clientX","clientY","xOffsets","yOffsets","offsetX","offsetY","onMouseMove","cursorForPosition","newPoints","_","newX1","newY1","newX2","newY2","coordiantes","resizedCoordinates","onMouseUp","includes","adjustmentRequired","minX","min","maxX","max","adjustElementCorrdinates","onPointerDown","setPointerCapture","pointerId","pageX","pageY","pressure","onPointerMove","buttons","bottom","DrawingBoardPlayer","elementsUser","setUserElementState","selectedUserElement","setSelectedUserElement","selection","pencil","click","zIndex","Preloader","RecorderForm","lectureName","lectureType","lectureCreator","languageType","languageList","C","select","key","option","text","add","creator","display","pathname","filenameReducer","outputModalReducer","languageReducer","allReducers","combineReducers","Card","mainWindow","lectures","lecture","playButton","textContent","nameHeading","appendChild","innerHTML","AllLectures","setLectures","lecturesArray","isLoading","setLoading","firebase","firestore","collection","orderBy","limit","get","result","doc","apps","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","middleware","thunk","composeEnhancer","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","allReducer","applyMiddleware","ReactDOM","render","StrictMode","exact","component","childValue","location","Recording","events","lastMouse","lastKey","lastKeyClass","handlers","eventName","handler","time","Date","now","keyCode","Mp3Recorder","MicRecorder","bitRate","prefix","startRecording","catch","error","stopRecording","removeEventListener","localStorage","setItem","JSON","stringify","getElementsByClassName","recordingString","createdAt","FieldValue","serverTimestamp","audioString","stop","getMp3","buffer","blob","File","lastModified","reader","FileReader","readAsDataURL","onloadend","storageRef","storage","ref","parse","getItem","removeItem","child","putString","snapshot","alert","preventDefault","IDE","parentCallBack","childData","ide","setRefresh","drawing","setDrawing","offsetPlay","videoPlayer","recording","recordingJsonValue","where","FieldPath","documentId","snap","err","getDownloadURL","audioPlayer","src","fakeCursor","startPlay","paused","pausefunction","playfunction","frames","left","handleButtonEvents","tar","focus","flashClass","drawEvent","clearInterval","setInterval","el","classList","setTimeout","remove","pause","curTime","currentTime","play","controls","controlsList"],"mappings":"iQAyEeA,EArDD,CACZ,YAAa,CACXC,KAAM,YACNC,SAAU,aACVC,MAxBmB,IA0BrB,YAAa,CACXF,KAAM,YACNC,SAAU,MACVC,MA3BoB,IA6BtB,aAAc,CACZF,KAAM,aACNC,SAAU,OACVC,MA9BqB,IAgCvB,EAAK,CACHF,KAAM,SACNC,SAAU,MACVC,MAjCkB,IAmCpB,IAAO,CACLF,KAAM,WACNC,SAAU,MACVC,MApCsB,IAsCxB,IAAO,CACLF,KAAM,WACNC,SAAU,MACVC,MAvCoB,IAyCtB,MAAS,CACPF,KAAM,WACNC,SAAU,MACVC,MA1CsB,IA4CxB,MAAS,CACPF,KAAM,WACNC,SAAU,MACVC,MA7CsB,IA+CxB,QAAW,CACTF,KAAM,SACNC,SAAU,SACVC,MAhDwB,IAkD1B,QAAW,CACTF,KAAM,SACNC,SAAU,SACVC,MAnDwB,K,MCkGbC,MA5Gf,SAAoBC,GAClB,IAAMC,EAASC,aAAY,SAAAC,GAAK,OAAIA,EAAMC,WACpCC,EAAcH,aAAY,SAAAC,GAAK,OAAIA,EAAMG,eAEzCC,EAAWL,aAAY,SAAAC,GAAK,OAAIA,EAAMI,YACtCC,EAAWC,cAEXC,EAAOf,EAAMY,GAYnB,SAASI,IACPH,ECHO,CACHI,KAAM,gBDKZ,OACE,yBAAKC,UAAY,eAGjB,yBAAKA,UAAY,kBACjB,yBAAKA,UAAY,mBACf,0BAAMC,GAAK,iBAAX,YACA,4BAAQD,UAAY,sBAItB,yBAAKA,UAAY,qBAEhB,4BACGA,UAAY,WACZE,SAAuB,eAAbR,EACVS,QAAS,kBAAMR,EClCZ,CACHI,KAAM,WDmCR,uBAAGC,UAAW,iBALf,IAKmC,0BAAMA,UAAY,mBAAoBlB,EAAM,cAAcC,KAA1D,MAGnC,4BACGiB,UAAY,UACZE,SAAuB,cAAbR,EACVS,QAAS,kBAAMR,EChDZ,CACHI,KAAM,UDiDR,uBAAGC,UAAY,oBALhB,IAKuC,0BAAMA,UAAY,oBAAqBlB,EAAM,aAAaC,KAA1D,MAGtC,4BACEiB,UAAY,SACZE,SAAuB,cAAbR,EACVS,QAAS,kBAAMR,EC9DZ,CACHI,KAAM,SD+DR,uBAAGC,UAAU,qBALb,IAKqC,0BAAMA,UAAY,qBAAsBlB,EAAM,aAAaC,KAA3D,OAKvC,yBAAKiB,UAAY,kBACjB,4BAAQG,QAlDW,WACnBR,ECSO,CACHI,KAAO,cDTXJ,ECJO,CACHI,KAAM,eDIVK,QAAQC,IAAI,MA+CmBC,MAAS,CAACC,MAAQ,QAASC,gBAAiB,QAASC,QAAS,MAAOC,aAAc,OAAQV,UAAU,UAAS,uBAAGM,MAAS,CAACC,MAAQ,SAAUP,UAAU,gBAAkB,0BAAMA,UAAY,aAAaM,MAAS,CAACC,MAAQ,QAASC,gBAAiB,UAA3E,kBAKxM,yBAAKR,UAAY,UACjB,kBAAC,IAAD,CACQW,OAAO,QACPC,MAAM,OACNC,MAAM,WACNC,KAAMjB,EAAKd,KACXgC,gBAAiBlB,EAAKb,SACtBgC,aAAcnB,EAAKZ,MACnBgC,eAAe,EACfC,SApEV,SAA4BjC,GAC1BY,EAAKZ,MAAQA,GAoELkC,2BAA6B,OAC7BlC,MAAOY,EAAKZ,SAKpB,kBAAC,IAAD,CACQe,UAAU,oBACVoB,OAAQ5B,EACR6B,aAAa,yBACbC,eAAgBxB,EAChByB,iBAAiB,UACjBC,aAAa,GAGb,yBAAKxB,UAAU,eAAc,uBAAGA,UAAU,sBAAsBG,QAASL,KACzE,4BACEV,OAAQA,EACRqC,MAAM,SACNzB,UAAU,eACV0B,QAAQ,gBACRC,YAAY,S,gDE0DXC,MA9Jf,SAAmBzC,GAAQ,IAAD,EACQ0C,mBAAS1C,EAAMH,UADvB,mBACjBA,EADiB,KAGlBW,GAHkB,KAEPN,aAAY,SAACC,GAAD,OAAWA,EAAMN,YAC7BY,eAHO,EAIciC,mBAAS,IAJvB,mBAIjBC,EAJiB,KAIJC,EAJI,OAKYF,mBAAS,IALrB,mBAKjBG,EALiB,KAKLC,EALK,KAMlBpC,EAAOf,EAAME,GA0FnB,OACE,oCACE,yBAAKgB,UAAU,oBACb,yBAAKA,UAAU,UACb,0BAAMA,UAAU,YAAhB,OACc,YAAbhB,GAAuC,YAAbA,EAAyB,MAAO,QAE3D,yBAAKgB,UAAU,gBACb,4BACEA,UAAU,iBACVM,MAAO,CACLC,MAAO,QACP2B,OAAQ,UACR1B,gBAAiB,QACjBE,aAAc,MACdD,QAAQ,OAEVN,QAnCZ,WAGE,IAFA,IAAMgC,EAAQtC,EAAKZ,MAAMmD,MAAM,MAC3BC,EAAO,GACFC,EAAI,EAAGA,EAAIH,EAAMI,OAAQD,IAChCD,GAAcF,EAAMG,GAEtB3C,ECvFmB,SAACX,EAAUqD,EAAMG,GAAjB,8CAA2B,WAAM7C,GAAN,eAAA8C,EAAA,6DAK1CC,EAAM,2CALoC,SAOjCC,IAAMC,KAAMF,EAAI,cAAe,CACxC1D,SAAUA,EACV6D,MAAML,EACNM,aAAc,IACdC,OAAOV,IAXmC,mFAA3B,sDDuFVW,CAAQhE,EAAUqD,EAAML,IAAaiB,MAAK,SAACC,GAClDnB,EAAemB,EAAEC,KAAKC,QACtB,IAAMD,EAAO,CACXC,OAAQF,EAAEC,KAAKC,QAGXC,EAAQ,IAAIC,YAAY,SAAU,CAAEC,OAAQJ,IAElDK,SAASC,gBAAgBC,cAAcL,QAYjC,SAeJ,yBAAKrD,UAAU,UACb,kBAAC,IAAD,CACEW,OAAO,QACPC,MAAM,OACNC,MAAM,WACN7B,SAAS,MACT2E,QAAS,CAAEC,SAAU,GAAIC,WAAY,IAAKC,WAAY,WACtD5C,SAtHV,SAA4BjC,GAC1BY,EAAKZ,MAAQA,GAsHLA,MAAOY,EAAKZ,MACZ8E,YApHV,SAA+BC,GAC7BA,EAAOC,OAAOC,YAAY,gBAAiB,CACzCC,KAAM,UACNC,SAAS,EACTC,MAAO,GACPC,OAAQ,CAAE,oBAAqB,gBAiH3B,yBAAKtE,UAAU,eACb,yBAAKA,UAAU,aACb,qCACA,8BACEuE,KAAK,KACLC,KAAK,KACLxE,UAAU,gBACVkB,SA/Dd,SAAqBgC,GACnBjB,EAAciB,EAAEuB,OAAOxF,QA+DXyF,YAAY,iBAGhB,yBAAK1E,UAAU,cACb,sCACA,8BACEuE,KAAK,KACLC,KAAK,KACLxE,UAAU,iBACVkB,SA7Ed,SAAoBgC,GAClB9C,QAAQC,IAAI6C,IA6EAjE,MAAO6C,UE/IR6C,MARf,SAAaxF,GACX,OACE,oCACgB,QAAfA,EAAMJ,KAAiB,kBAAC,EAAD,CAAY6F,QAAWzF,EAAMyF,UAAY,kBAAC,EAAD,CAAW5F,SAAUG,EAAMH,SAAU4F,QAAWzF,EAAMyF,Y,sCCDrHC,G,MAAYC,IAAMD,aA8nBTE,IC1nBXC,ED0nBWD,EA/lBf,WAAyB,IAAD,EA7BL,SAACE,GAAkB,IAAD,EACTpD,mBAAS,GADA,mBAC5BqD,EAD4B,KACrBC,EADqB,OAEJtD,mBAAS,CAACoD,IAFN,mBAE3BG,EAF2B,KAElBC,EAFkB,KAwBnC,MAAO,CAACD,EAAQF,GArBC,SAACI,GAA+B,IAAvBC,EAAsB,wDACxCC,EAA6B,oBAAXF,EAAyBA,EAAOF,EAAQF,IAAUI,EAE1E,GAAGC,EAAW,CACZ,IAAME,EAAW,YAAOL,GACxBK,EAAYP,GAASM,EACrBH,EAAWI,OACP,CACJ,IAAMC,EAAe,YAAIN,GAASO,MAAM,EAAGT,EAAM,GACjDG,GAAW,SAAAO,GAAS,4BAAQF,GAAR,CAAsBF,OAC1CL,GAAS,SAAAS,GAAS,OAAGA,EAAU,OAItB,WACXxF,QAAQC,IAAI,SACZ6E,EAAM,GAAKC,GAAS,SAAAS,GAAS,OAAGA,EAAU,MAG/B,kBAAMV,EAAME,EAAQ7C,OAAO,GAAK4C,GAAS,SAAAS,GAAS,OAAGA,EAAU,OAS5BC,CAAW,IAFrC,mBAEfC,EAFe,KAELC,EAFK,KAEYC,EAFZ,KAEkBC,EAFlB,OAGEpE,mBAAS,eAHX,mBAGfqE,EAHe,KAGTC,EAHS,OAIYtE,mBAAS,SAJrB,mBAIfuE,EAJe,KAIJC,EAJI,OAKgBxE,mBAAS,SALzB,mBAKfyE,EALe,KAKFC,EALE,OAMgB1E,mBAAS,KANzB,mBAMf2E,EANe,KAMFC,EANE,OAOS5E,mBAAS,aAPlB,mBAOf6E,EAPe,KAOFC,EAPE,OAQM9E,mBAAS,QARf,mBAQfyD,EARe,KAQPsB,EARO,OASuB/E,mBAAS,QAThC,mBASfgF,EATe,KASEC,EATF,OAUMjF,mBAAS,IAVf,mBAUfkF,EAVe,KAUPC,EAVO,KAatB,SAASC,EAAchH,EAAIiH,EAAGC,EAAGC,EAAGC,EAAGtH,GAA6E,IAAvEmG,EAAsE,uDAAjE,cAAeE,EAAkD,uDAAxC,QAASkB,EAA+B,uDAAxB,QAASd,EAAe,uDAAH,EAE9G,OAAQzG,GACN,IAAK,OAGH,IAAK,QAEH,MAAO,CAACE,KAAIiH,KAAIC,KAAIC,KAAIC,KAAItH,OAAKwH,aADlB1C,EAAU2C,KAAKN,EAAGC,EAAGC,EAAGC,EAAI,CAACb,YAAYA,EAAac,OAAOA,KAE9E,IAAK,YAEL,MAAO,CAACrH,KAAIiH,KAAIC,KAAIC,KAAIC,KAAItH,OAAKwH,aADlB1C,EAAU4C,UAAUP,EAAGC,EAAGC,EAAGF,EAAGG,EAAGF,EAAI,CAACjB,KAAMA,EAAME,UAAUA,EAAWkB,OAAOA,EAAQd,YAAYA,KAEnH,IAAK,SACL,IAAM/D,EAAI,CAACiF,EAAER,EAAIS,EAAER,GACbS,EAAI,CAACF,EAAEN,EAAIO,EAAEN,GACbQ,EAAWC,KAAKC,MAAMC,EAASvF,EAAEmF,IAEvC,MAAO,CAAC3H,KAAIiH,KAAIC,KAAIC,KAAIC,KAAItH,OAAKwH,aADlB1C,EAAUoD,OAAOH,KAAKC,OAAOb,EAAGE,GAAI,GAAGU,KAAKC,OAAOZ,EAAGE,GAAI,GAAGQ,EAAU,CAAC3B,KAAKA,EAAME,UAAUA,EAAWkB,OAAOA,EAAQd,YAAYA,KAElJ,IAAK,SACL,MAAO,CAACvG,KAAGF,OAAMgH,OAAO,CAAC,CAACW,EAAER,EAAGS,EAAER,KACnC,QACE,MAAM,IAAIe,MAAJ,wBAIZ,IAAMC,EAAgB,SAAClI,EAAGiH,EAAGC,EAAIC,EAAIC,EAAItH,EAAMmG,EAAME,EAAWkB,EAAOd,GAGrE,IAAM4B,EAAY,YAAOtC,GACzB,OAAO/F,GACL,IAAK,OACL,IAAK,YACL,IAAK,SACL,IAAK,QACH,IAAMsI,EAAiBpB,EAAchH,EAAGiH,EAAGC,EAAGC,EAAGC,EAAGtH,EAAMmG,EAAME,EAAWkB,EAAOd,GAClF4B,EAAanI,GAAMoI,EACnB,MACF,IAAK,SAEHD,EAAanI,GAAI8G,OAAjB,sBAA+BqB,EAAanI,GAAI8G,QAAhD,CAAwD,CAACW,EAAEN,EAAGO,EAAEN,KAChE,MACF,QACE,MAAM,IAAIa,MAAM,uBAEpBnC,EAAgBqC,GAAc,IAG1BJ,EAAW,SAACvF,EAAGmF,GAAJ,OAAUE,KAAKQ,KAAKR,KAAKS,IAAI9F,EAAEiF,EAAIE,EAAEF,EAAG,GAAKI,KAAKS,IAAI9F,EAAEkF,EAAIC,EAAED,EAAG,KAE5Ea,EAAY,SAACd,EAAEC,EAAET,EAAGC,EAAGpI,GAC3B,OAAO+I,KAAKW,IAAIf,EAAER,GAAM,GAAKY,KAAKW,IAAId,EAAER,GAAM,EAAIpI,EAAO,MAGrD2J,EAAS,SAACxB,EAAGC,EAAGC,EAAGC,EAAGK,EAAEC,GAAsB,IAAnBgB,EAAkB,uDAAN,EACrClG,EAAI,CAACiF,EAAER,EAAIS,EAAER,GACbS,EAAI,CAACF,EAAEN,EAAIO,EAAEN,GACbuB,EAAI,CAAClB,IAAGC,KACRkB,EAASb,EAASvF,EAAEmF,IAAMI,EAASvF,EAAEmG,GAAKZ,EAASJ,EAAEgB,IAC3D,OAAOd,KAAKW,IAAII,GAAUF,EAAc,SAAW,MAG/CG,EAAwB,SAACpB,EAAEC,EAAEoB,GAAa,IACvChJ,EAAoBgJ,EAApBhJ,KAAKmH,EAAe6B,EAAf7B,GAAGE,EAAY2B,EAAZ3B,GAAGD,EAAS4B,EAAT5B,GAAGE,EAAM0B,EAAN1B,GACrB,GAAY,SAATtH,EAAgB,CACjB,IAAMiJ,EAAKN,EAAOxB,EAAGC,EAAGC,EAAGC,EAAGK,EAAEC,GAC1BsB,EAAQT,EAAUd,EAAEC,EAAET,EAAGC,EAAG,SAC5B+B,EAAMV,EAAUd,EAAEC,EAAEP,EAAGC,EAAI,OACjC,OAAO4B,GAASC,GAAOF,EACnB,GAAY,cAATjJ,EAAqB,CAC5B,IAAMoJ,EAAUX,EAAUd,EAAGC,EAAGT,EAAIC,EAAI,MAClCiC,EAAWZ,EAAUd,EAAGC,EAAGP,EAAID,EAAI,MACnCkC,EAAab,EAAUd,EAAGC,EAAGT,EAAIG,EAAI,MACrCiC,EAAcd,EAAUd,EAAGC,EAAGP,EAAIC,EAAI,MAE5C,OAAO8B,GAAWC,GAAYC,GAAcC,IAD7B5B,GAAKR,GAAMQ,GAAKN,GAAMO,GAAKR,GAAMQ,GAAKN,EAAK,SAAW,MAGlE,GAAU,WAAPtH,EAAgB,CACtB,IAEMwJ,EAASvB,EAFL,CAACN,EAAER,EAAIS,EAAER,GACT,CAACO,EAAEN,EAAIO,EAAEN,IACU,EAGvBwB,EAASb,EAFL,CAACN,GAAGR,EAAGE,GAAI,EAAGO,GAAGR,EAAGE,GAAI,GACxB,CAACK,IAAGC,MAEd,OAAGkB,EAAOU,EACD,SACAV,EAAOU,GAAUV,EAAOU,EAAO,EAE/B,gBAEA,KAEL,GAAU,WAAPxJ,EAOP,OANwBgJ,EAAQhC,OAAOyC,MAAK,SAACC,EAAOvE,GAClD,IAAMwE,EAAYX,EAAQhC,OAAO7B,EAAM,GACvC,QAAIwE,GAE6D,OAA1DhB,EAAOe,EAAM/B,EAAG+B,EAAM9B,EAAE+B,EAAUhC,EAAEgC,EAAU/B,EAAGD,EAAEC,MAEnC,SAAW,MAKxC,SAASgC,EAAqBjC,EAAEC,EAAE7B,GAChC,OAAOA,EACN8D,KAAI,SAAAb,GAAO,kCAASA,GAAT,IAAkBc,SAASf,EAAsBpB,EAAEC,EAAEoB,QAChEe,MAAK,SAAAf,GAAO,OAAyB,OAArBA,EAAQc,YAqC3B,SAASE,GAAYC,EAAaC,EAASlB,GACzC,OAAQA,EAAQhJ,MACd,IAAK,OACL,IAAK,YACL,IAAK,SACHiK,EAAYE,KAAKnB,EAAQxB,cAC3B,MACA,IAAK,SAEH,IAAMD,EAzBmB,SAACA,GAC5B,IAAKA,EAAO/E,OAAQ,MAAO,GAE3B,IAAM4H,EAAI7C,EAAO8C,QACf,SAACC,EAAD,EAAgB/H,EAAGgI,GAAS,IAAD,mBAApBC,EAAoB,KAAhBC,EAAgB,mBACRF,GAAKhI,EAAI,GAAKgI,EAAI/H,QADV,GAClB2E,EADkB,KACdC,EADc,KAGzB,OADAkD,EAAII,KAAKF,EAAIC,GAAKD,EAAKrD,GAAM,GAAIsD,EAAKrD,GAAM,GACrCkD,IAJD,CAMP,KANO,mBAMC/C,EAAO,IANR,CAMY,OAItB,OADA6C,EAAEM,KAAK,KACAN,EAAEO,KAAK,KAYGC,CAAqBC,YAAU7B,EAAQhC,OAAQ,CAC5D8D,KAAK,KAGPZ,EAAQ/D,KAAK,IAAI4E,OAAOxD,IACxB,MACF,IAAK,QACH0C,EAAYE,KAAKnB,EAAQxB,cAGtBwB,EAAQ1B,GAAG0B,EAAQ5B,GAAG,IACvB6C,EAAYxC,KAAKuB,EAAQ3B,GAAG2B,EAAQ1B,GAAI0B,EAAQ3B,GAAG,GAAI2B,EAAQ1B,GAAG,GAAI,CAACb,YAAYA,IACnFwD,EAAYxC,KAAKuB,EAAQ3B,GAAG2B,EAAQ1B,GAAI0B,EAAQ3B,GAAG,GAAI2B,EAAQ1B,GAAG,GAAI,CAACb,YAAYA,KAE7EuC,EAAQ1B,GAAG0B,EAAQ5B,IACzB6C,EAAYxC,KAAKuB,EAAQ3B,GAAG2B,EAAQ1B,GAAI0B,EAAQ3B,GAAG,GAAI2B,EAAQ1B,GAAG,GAAI,CAACb,YAAYA,IACnFwD,EAAYxC,KAAKuB,EAAQ3B,GAAG2B,EAAQ1B,GAAI0B,EAAQ3B,GAAG,GAAI2B,EAAQ1B,GAAG,GAAI,CAACb,YAAYA,KAE7EuC,EAAQ3B,IAAI2B,EAAQ7B,IAC1B9G,QAAQC,IAAI,cACZ2J,EAAYxC,KAAKuB,EAAQ3B,GAAG2B,EAAQ1B,GAAI0B,EAAQ3B,GAAG,GAAI2B,EAAQ1B,GAAG,GAAI,CAACb,YAAYA,IACnFwD,EAAYxC,KAAKuB,EAAQ3B,GAAG2B,EAAQ1B,GAAI0B,EAAQ3B,GAAG,GAAI2B,EAAQ1B,GAAG,GAAI,CAACb,YAAYA,KAE7EuC,EAAQ7B,GAAG6B,EAAQ3B,KAEzB4C,EAAYxC,KAAKuB,EAAQ3B,GAAG2B,EAAQ1B,GAAI0B,EAAQ3B,GAAG,GAAI2B,EAAQ1B,GAAG,GAAI,CAACb,YAAYA,IACnFwD,EAAYxC,KAAKuB,EAAQ3B,GAAG2B,EAAQ1B,GAAI0B,EAAQ3B,GAAG,GAAI2B,EAAQ1B,GAAG,GAAI,CAACb,YAAYA,KAErF,MACA,QACE,MAAM,IAAI0B,MAAJ,8BAAkCa,EAAQhJ,QA8SxD,OA1SAgL,2BAAgB,WACd,IAAMC,EAASxH,SAASyH,eAAe,UACjChB,EAAUe,EAAOE,WAAW,MAClCjB,EAAQkB,UAAU,EAAG,EAAGH,EAAOpK,MAAOoK,EAAOrK,QAC7C,IAAMqJ,EAAclF,IAAMkG,OAAOA,GACjClF,EAASsF,SAAQ,SAAArC,GAAO,OAAIgB,GAAYC,EAAaC,EAASlB,QAC7D,CAACjD,IAEJuF,qBAAU,WACR,IAAMnF,EAAO1C,SAASyH,eAAe,QAC/B3D,EAAS9D,SAASyH,eAAe,UACjCzE,EAAchD,SAASyH,eAAe,eACtC7E,EAAY5C,SAASyH,eAAe,aAEvB,cAAhBvE,IAEFR,EAAKoF,iBAAiB,UAAU,WAC/BnF,EAAQD,EAAKjH,UAGfmH,EAAUkF,iBAAiB,UAAU,WACnCjF,EAAaD,EAAUnH,UAGzBqI,EAAOgE,iBAAiB,UAAU,WAChC/E,EAAee,EAAOrI,UAGxBuH,EAAY8E,iBAAiB,UAAU,WACrC7E,EAAeD,EAAYvH,aAI7B,IA0QA,6BACI,yBAAKe,UAAU,eACb,yBAAKA,UAAU,cACX,yBAAKA,UAAU,iBAEZ,2BAAOA,UAAY,QAAQuL,QAAQ,aAAY,2BAAOxL,KAAK,QAAQE,GAAG,YAAYuL,QAAyB,cAAd9E,EAA2BxF,SAAU,kBAAMyF,EAAQ,gBAChJ,yBAAK8E,QAAQ,eAAe,0BAAMtB,EAAE,qSAKpC,2BAAOnK,UAAY,QAAQuL,QAAQ,QAAnC,IAA2C,2BAAOxL,KAAK,QAAQE,GAAG,OAAOuL,QAAyB,SAAd9E,EAAsBxF,SAAU,kBAAMyF,EAAQ,WAElI,yBAAK8E,QAAQ,WAAU,0BAAMvE,GAAG,IAAIC,GAAG,IAAIC,GAAG,IAAIC,GAAG,IAAIC,OAAO,eAAeoE,cAAc,YAK7F,2BAAO1L,UAAY,QAAQuL,QAAQ,aAAnC,IAAgD,2BAAOxL,KAAK,QAAQE,GAAG,YAAYuL,QAAyB,cAAd9E,EAA2BxF,SAAU,kBAAMyF,EAAQ,gBAEjJ,yBAAK8E,QAAQ,eAAc,0BAAMtB,EAAE,gHAKnC,2BAAOnK,UAAY,QAAQuL,QAAQ,UAAnC,IAA6C,2BAAOxL,KAAK,QAAQE,GAAG,SAASuL,QAAuB,WAAd9E,EAAwBxF,SAAU,kBAAMyF,EAAQ,aAEtI,yBAAK8E,QAAQ,eAAc,0BAAMtB,EAAE,4EAKnC,2BAAOnK,UAAY,QAAQuL,QAAQ,UAAnC,IAA6C,2BAAOxL,KAAK,QAAQE,GAAG,SAASuL,QAAuB,WAAd9E,EAAwBxF,SAAU,kBAAMyF,EAAQ,aAEtI,yBAAK8E,QAAQ,eAAc,0BAAMvF,KAAK,eAAeiE,EAAE,2PAKvD,2BAAOnK,UAAY,QAAQuL,QAAQ,SAAnC,MAA8C,2BAAOxL,KAAK,QAAQE,GAAG,QAAQuL,QAAuB,UAAd9E,EAAuBxF,SAAU,kBAAMyF,EAAQ,YAErI,yBAAK8E,QAAQ,cAAczL,UAAU,cAAa,0BAAMmK,EAAE,0OAK7C,cAAhBzD,EAA8B,yBAAK1G,UAAU,aACzC,oCAEE,4BAAQC,GAAG,QACT,+CACA,uCACA,yCACA,0CAJF,QAKO,2CAGT,yCAEA,4BAAQA,GAAG,aACT,yCACA,2CACA,0CACA,4CAGF,sCAEA,4BAAQA,GAAG,UACT,yCACA,uCACA,yCACA,wCACA,4CAGF,2CAEC,4BAAQA,GAAG,eACT,qCACA,qCACA,qCACA,yCAGE,KAKlB,0BAAMK,MAAS,CAAEuJ,SAAW,WAAY8B,IAAM,MAC7C,4BAAQ1L,GAAG,SACXW,MAASgL,OAAOC,WAChBlL,OAAUiL,OAAOE,YACjBC,YAtWoB,SAAC1I,GAAU,IAE1B2I,EAAoB3I,EAApB2I,QAASC,EAAW5I,EAAX4I,QAEhB,GAAmB,cAAhBvF,GACD,GAAuB,IAApBZ,EAASvD,OAAa,CAEzB,IAAMwG,EAAUY,EAAqBqC,EAASC,EAASnG,GAEvD,GAAGiD,EAAQ,CACT,GAAoB,WAAjBA,EAAQhJ,KAAkB,CAC3B,IAAMmM,EAAWnD,EAAQhC,OAAO6C,KAAI,SAAAH,GAAK,OAAIuC,EAAUvC,EAAM/B,KACvDyE,EAAWpD,EAAQhC,OAAO6C,KAAI,SAAAH,GAAK,OAAIwC,EAAUxC,EAAM9B,KAC7Db,EAAmB,2BAAKiC,GAAN,IAAemD,WAAUC,kBACxC,CACH,IAAMC,EAAUJ,EAAUjD,EAAQ7B,GAC5BmF,EAAUJ,EAAUlD,EAAQ5B,GAClCL,EAAmB,2BAAKiC,GAAN,IAAeqD,UAASC,aAG5C,GADAtG,GAAgB,SAAAH,GAAS,OAAEA,KACH,WAArBmD,EAAQc,SAAuB,CAChCjD,EAAU,UACV,IAOMvD,EAAQ,IAAIC,YAAY,cAAe,CAAEC,OAPlC,CACXwF,QAAQA,EACR7C,KAAKA,EACLE,UAAUA,EACVE,YAAYA,EACZE,YAAYA,KAGdhD,SAASC,gBAAgBC,cAAcL,OAErC,CACFuD,EAAU,UACV,IAOMvD,EAAQ,IAAIC,YAAY,cAAe,CAAEC,OAPlC,CACXwF,QAAQA,EACR7C,KAAKA,EACLE,UAAUA,EACVE,YAAYA,EACZE,YAAYA,KAGdhD,SAASC,gBAAgBC,cAAcL,UAIxC,CACH,IAIIF,EAJElD,EAAK6F,EAASvD,OACdwG,EAAU9B,EAAchH,EAAG+L,EAAQC,EAAQD,EAAQC,EAASvF,GAElEX,GAAgB,SAAAH,GAAS,4BAAQA,GAAR,CAAmBmD,OAG1C5F,EADkB,WAAjB4F,EAAQhJ,KACF,CACLE,GAAGA,EACH+L,QAAQA,EACRC,QAAQA,EACRlM,KAAK2G,GAGA,CACLzG,GAAGA,EACH+L,QAAQA,EACRC,QAAQA,EACRlM,KAAK2G,EACLR,KAAKA,EACLE,UAAUA,EACVE,YAAYA,EACZE,YAAYA,GAIhB,IAAMnD,EAAQ,IAAIC,YAAY,YAAa,CAAEC,OAAQJ,IAErDK,SAASC,gBAAgBC,cAAcL,GACvCyD,EAAmBiC,GACnBnC,EAAU,aA2RV0F,YAtOoB,SAACjJ,GAAU,IAE1B2I,EAAoB3I,EAApB2I,QAASC,EAAW5I,EAAX4I,QAChB,GAAmB,cAAhBvF,GACsB,IAApBZ,EAASvD,OAAa,CACvB,IAAMwG,EAAUY,EAAqBqC,EAASC,EAASnG,GACvDzC,EAAMoB,OAAOnE,MAAM4B,OAAS6G,EAlCR,SAAAc,GACxB,OAAQA,GACN,IAAK,KACL,IAAK,KACL,IAAK,QACL,IAAK,MACH,MAAO,cACT,IAAK,KACL,IAAK,KAEL,IAAK,gBACH,MAAO,cACT,QACE,MAAO,QAqB+B0C,CAAkBxD,EAAQc,UAAY,UAIhF,GAAc,YAAXvE,EAAqB,CACxB,IAIInC,EAJE+B,EAAQY,EAASvD,OAAO,EADN,EAERuD,EAASZ,GAAlBgC,EAFiB,EAEjBA,GAAGC,EAFc,EAEdA,GAEVgB,EAAcjD,EAAMgC,EAAGC,EAAI6E,EAASC,EAASvF,EAAaR,EAAME,EAAWE,EAAYE,GAIrFrD,EAF0B,WAAzB2C,EAASZ,GAAOnF,KAEZ,CACHE,GAAGiF,EACH8G,QAAQA,EACRC,QAAQA,EACRlM,KAAK2G,GAGA,CACLzG,GAAGiF,EACHgC,GAAGA,EACHC,GAAGA,EACH6E,QAAQA,EACRC,QAAQA,EACRlM,KAAK2G,EACLR,KAAKA,EACLE,UAAUA,EACVE,YAAYA,EACZE,YAAYA,GAKd,IAAMnD,EAAQ,IAAIC,YAAY,UAAW,CAAEC,OAAQJ,IAEnDK,SAASC,gBAAgBC,cAAcL,QAEnC,GAAY,WAATiC,EACP,GAA4B,WAAzBuB,EAAgB9G,KAAkB,CACnC,IAAMyM,EAAY3F,EAAgBE,OAAO6C,KAAI,SAAC6C,EAAGvH,GAAJ,MAAe,CAC1DwC,EAAGsE,EAAUnF,EAAgBqF,SAAShH,GACtCyC,EAAGsE,EAAUpF,EAAgBsF,SAASjH,OAElCkD,EAAY,YAAOtC,GACzBsC,EAAavB,EAAgB5G,IAAI8G,OAASyF,EAC1CzG,EAAgBqC,GAAc,OAC3B,CAAC,IACInI,EAA8C4G,EAA9C5G,GAAIiH,EAA0CL,EAA1CK,GAAIE,EAAsCP,EAAtCO,GAAID,EAAkCN,EAAlCM,GAAIE,EAA8BR,EAA9BQ,GAAItH,EAA0B8G,EAA1B9G,KAAMqM,EAAoBvF,EAApBuF,QAASC,EAAWxF,EAAXwF,QACrCzL,EAAQwG,EAAGF,EACXvG,EAAS0G,EAAGF,EAGZuF,EAAQV,EAAUI,EAClBO,EAAQV,EAAUI,EACxBlE,EAAclI,EAAIyM,EAAOC,EAAMD,EAAQ9L,EAAO+L,EAAMhM,EAAQZ,EAAMmG,EAAME,EAAWE,EAAYE,GAC/F,IAaMnD,EAAQ,IAAIC,YAAY,SAAU,CAAEC,OAb7B,CACXtD,GAAGA,EACHyM,MAAMA,EACNC,MAAMA,EACNC,MAAMF,EAAM9L,EACZiM,MAAMF,EAAMhM,EACZZ,KAAKA,EACLmG,KAAKA,EACLE,UAAUA,EACVE,YAAYA,EACZE,YAAYA,KAKdhD,SAASC,gBAAgBC,cAAcL,QAErC,GAAc,WAAXiC,EAAoB,CAAC,IACpBrF,EAAqC4G,EAArC5G,GAAIF,EAAiC8G,EAAjC9G,KAAK8J,EAA4BhD,EAA5BgD,SAAaiD,EADH,YACkBjG,EADlB,4BAhIJ,SAACmF,EAASC,EAASpC,EAAUiD,GAAiB,IAChE5F,EAAe4F,EAAf5F,GAAGC,EAAY2F,EAAZ3F,GAAGC,EAAS0F,EAAT1F,GAAGC,EAAMyF,EAANzF,GAChB,OAAQwC,GACN,IAAK,KACL,IAAK,QACH,MAAO,CAAE3C,GAAI8E,EAAS7E,GAAI8E,EAAS7E,KAAIC,MACzC,IAAK,KACH,MAAO,CAAEH,KAAIC,GAAI8E,EAAS7E,GAAI4E,EAAS3E,MACzC,IAAK,KACH,MAAO,CAAEH,GAAI8E,EAAS7E,KAAIC,KAAIC,GAAI4E,GACpC,IAAK,KACL,IAAK,MACH,MAAO,CAAE/E,KAAIC,KAAIC,GAAI4E,EAAS3E,GAAI4E,GACpC,IAAK,gBACH,MAAO,CAAC/E,GAAG8E,EAAQ7E,GAAG8E,EAAQ7E,KAAIC,MACpC,QACE,OAAO,MAkHa0F,CAAmBf,EAASC,EAASpC,EAAUiD,GAA9D5F,EAFoB,EAEpBA,GAAGC,EAFiB,EAEjBA,GAAGC,EAFc,EAEdA,GAAGC,EAFW,EAEXA,GAcVhE,EAAQ,IAAIC,YAAY,WAAY,CAACC,OAb9B,CACXtD,GAAGA,EACHiH,GAAGA,EACHC,GAAGA,EACHC,GAAGA,EACHC,GAAGA,EACHtH,KAAKA,EACLmG,KAAKA,EACLE,UAAUA,EACVE,YAAYA,EACZE,YAAYA,KAIdhD,SAASC,gBAAgBC,cAAcL,GACvC8E,EAAclI,EAAGiH,EAAGC,EAAGC,EAAGC,EAAGtH,EAAMmG,EAAME,EAAWE,EAAYE,KAsIhEwG,UAhIkB,WACpB,GAAuB,IAApBlH,EAASvD,QACTsE,EAAgB,CACjB,IAAM3B,EAAQ2B,EAAgB5G,GADb,EAEE6F,EAASZ,GAArBjF,EAFU,EAEVA,GAAIF,EAFM,EAENA,KACX,IAAgB,YAAXuF,GAAmC,aAAXA,IAPN,SAAAvF,GAAI,MAAI,CAAC,OAAQ,YAAY,UAAUkN,SAASlN,GAOhBmN,CAAmBnN,GAAO,CAAC,IAAD,EA7VpD,SAAAgJ,GAAY,IACpChJ,EAAqBgJ,EAArBhJ,KAAMmH,EAAe6B,EAAf7B,GAAGC,EAAY4B,EAAZ5B,GAAGC,EAAS2B,EAAT3B,GAAGC,EAAM0B,EAAN1B,GACtB,GAAY,cAATtH,EAAqB,CACtB,IAAMoN,EAAOrF,KAAKsF,IAAIlG,EAAGE,GACnBiG,EAAOvF,KAAKwF,IAAIpG,EAAGE,GAGzB,MAAO,CAACF,GAAGiG,EAAMhG,GAFJW,KAAKsF,IAAIjG,EAAGE,GAECD,GAAGiG,EAAMhG,GADtBS,KAAKwF,IAAInG,EAAGE,IAGzB,OAAIH,EAAGE,GAAMF,IAAOE,IAAOD,EAAGE,EACrB,CAACH,KAAGC,KAAGC,KAAGC,MAEV,CAACH,GAAGE,EAAGD,GAAGE,EAAGD,GAAGF,EAAGG,GAAGF,GAkVPoG,CAAyBzH,EAASZ,IAAjDgC,EADwE,EACxEA,GAAGC,EADqE,EACrEA,GAAGC,EADkE,EAClEA,GAAGC,EAD+D,EAC/DA,GAChBc,EAAclI,EAAIiH,EAAGC,EAAGC,EAAGC,EAAGtH,EAAMmG,EAAME,EAAWE,EAAYE,GACjE,IAaQnD,EAAQ,IAAIC,YAAY,UAAW,CAAEC,OAbhC,CACTtD,GAAGiF,EACHgC,GAAGA,EACHC,GAAGA,EACHC,GAAGA,EACHC,GAAGA,EACHtH,KAAKA,EACLmG,KAAKA,EACLE,UAAUA,EACVE,YAAYA,EACZE,YAAYA,KAKdhD,SAASC,gBAAgBC,cAAcL,IAI7CuD,EAAU,QACVE,EAAmB,OAqGjB0G,cAlPsB,SAACtK,GACzBA,EAAEuB,OAAOgJ,kBAAkBvK,EAAEwK,WAC7B1G,EAAU,CAAC,CAAC9D,EAAEyK,MAAOzK,EAAE0K,MAAO1K,EAAE2K,aAiP9BC,cA9OsB,SAAC5K,GACP,IAAdA,EAAE6K,SACN/G,EAAU,GAAD,mBAAKD,GAAL,CAAa,CAAC7D,EAAEyK,MAAOzK,EAAE0K,MAAO1K,EAAE2K,iBA+OzC,yBAAKvN,MAAO,CAACuJ,SAAS,QAASmE,OAAO,EAAGvN,QAAQ,KAC/C,4BAAQN,QAAS6F,GAAjB,QACA,4BAAQ7F,QAAS8F,GAAjB,W,qDExnBFpB,EAAYC,IAAMD,YA4oBToJ,MA/mBf,SAA4B9O,GAAO,MAGG0C,mBAAS,IAHZ,mBAG1BiE,EAH0B,KAGhBC,EAHgB,OA3BhB,SAACd,GAAkB,IAAD,EACTpD,mBAAS,GADA,mBAC5BqD,EAD4B,KACrBC,EADqB,OAEJtD,mBAAS,CAACoD,IAFN,mBAE3BG,EAF2B,KAElBC,EAFkB,KAwBnC,MAAO,CAACD,EAAQF,GArBC,SAACI,GAA+B,IAAvBC,EAAsB,wDACxCC,EAA6B,oBAAXF,EAAyBA,EAAOF,EAAQF,IAAUI,EAE1E,GAAGC,EAAW,CACZ,IAAME,EAAW,YAAOL,GACxBK,EAAYP,GAASM,EACrBH,EAAWI,OACP,CACJ,IAAMC,EAAe,YAAIN,GAASO,MAAM,EAAGT,EAAM,GACjDG,GAAW,SAAAO,GAAS,4BAAQF,GAAR,CAAsBF,OAC1CL,GAAS,SAAAS,GAAS,OAAGA,EAAU,OAItB,WACXxF,QAAQC,IAAI,SACZ6E,EAAM,GAAKC,GAAS,SAAAS,GAAS,OAAGA,EAAU,MAG/B,kBAAMV,EAAME,EAAQ7C,OAAO,GAAK4C,GAAS,SAAAS,GAAS,OAAGA,EAAU,OAUpBC,CAAW,IALlC,mBAK1BqI,EAL0B,KAKZC,EALY,KAKSnI,EALT,KAKeC,EALf,OAMTpE,mBAAS,eANA,mBAM1BqE,EAN0B,KAMpBC,EANoB,OAOCtE,mBAAS,SAPV,mBAO1BuE,EAP0B,KAOfC,EAPe,OAQKxE,mBAAS,SARd,mBAQ1ByE,EAR0B,KAQbC,EARa,OASK1E,mBAAS,KATd,mBAS1B2E,EAT0B,KASbC,EATa,OAUF5E,mBAAS,IAVP,mBAU1B6E,EAV0B,KAUbC,EAVa,OAWL9E,mBAAS,QAXJ,mBAW1ByD,EAX0B,KAWlBsB,EAXkB,OAYY/E,mBAAS,QAZrB,mBAYTiF,GAZS,aAaoBjF,mBAAS,QAb7B,mBAa1BuM,EAb0B,KAaLC,EAbK,OAcLxM,mBAAS,IAdJ,mBAc1BkF,EAd0B,KAclBC,GAdkB,KAiBjC,SAASC,GAAchH,EAAIiH,EAAGC,EAAGC,EAAGC,EAAGtH,GAA6E,IAAvEmG,EAAsE,uDAAjE,cAAeE,EAAkD,uDAAxC,QAASkB,EAA+B,uDAAxB,QAASd,EAAe,uDAAH,EAE9G,OAAQzG,GACN,IAAK,OAGH,IAAK,QAEH,MAAO,CAACE,KAAIiH,KAAIC,KAAIC,KAAIC,KAAItH,OAAKwH,aADlB1C,EAAU2C,KAAKN,EAAGC,EAAGC,EAAGC,EAAI,CAACb,YAAYA,EAAac,OAAOA,KAE9E,IAAK,YAEL,MAAO,CAACrH,KAAIiH,KAAIC,KAAIC,KAAIC,KAAItH,OAAKwH,aADlB1C,EAAU4C,UAAUP,EAAGC,EAAGC,EAAGF,EAAGG,EAAGF,EAAI,CAACjB,KAAMA,EAAME,UAAUA,EAAWkB,OAAOA,EAAQd,YAAYA,KAEnH,IAAK,SACL,IAAM/D,EAAI,CAACiF,EAAER,EAAIS,EAAER,GACbS,EAAI,CAACF,EAAEN,EAAIO,EAAEN,GACbQ,EAAWC,KAAKC,MAAMC,GAASvF,EAAEmF,IAEvC,MAAO,CAAC3H,KAAIiH,KAAIC,KAAIC,KAAIC,KAAItH,OAAKwH,aADlB1C,EAAUoD,OAAOH,KAAKC,OAAOb,EAAGE,GAAI,GAAGU,KAAKC,OAAOZ,EAAGE,GAAI,GAAGQ,EAAU,CAAC3B,KAAKA,EAAME,UAAUA,EAAWkB,OAAOA,EAAQd,YAAYA,KAElJ,IAAK,SACL,MAAO,CAACvG,KAAGF,OAAMgH,OAAO,CAAC,CAACW,EAAER,EAAGS,EAAER,KACnC,QACE,MAAM,IAAIe,MAAJ,wBAIZ,IAAMC,GAAgB,SAAClI,EAAGiH,EAAGC,EAAIC,EAAIC,EAAItH,EAAMmG,EAAME,EAAWkB,EAAOd,GACrE,IAAI4B,EAOJ,OAN2B,IAAxB8F,EAAa3L,OACd6F,EAAY,YAAO8F,GACY,IAAxBA,EAAa3L,SACpB6F,EAAY,YAAOtC,IAGd/F,GACL,IAAK,OACL,IAAK,YACL,IAAK,SACL,IAAK,QACH,IAAMsI,EAAiBpB,GAAchH,EAAGiH,EAAGC,EAAGC,EAAGC,EAAGtH,EAAMmG,EAAME,EAAWkB,EAAOd,GAClF4B,EAAanI,GAAMoI,EACnB,MACF,IAAK,SAEHD,EAAanI,GAAI8G,OAAjB,sBAA+BqB,EAAanI,GAAI8G,QAAhD,CAAwD,CAACW,EAAEN,EAAGO,EAAEN,KAChE,MACF,QACE,MAAM,IAAIa,MAAM,uBAEO,IAAxBgG,EAAa3L,OACd4L,EAAoB/F,GAAc,GACH,IAAxB8F,EAAa3L,QACpBwD,EAAgBqC,IAKdJ,GAAW,SAACvF,EAAGmF,GAAJ,OAAUE,KAAKQ,KAAKR,KAAKS,IAAI9F,EAAEiF,EAAIE,EAAEF,EAAG,GAAKI,KAAKS,IAAI9F,EAAEkF,EAAIC,EAAED,EAAG,KAE5Ea,GAAY,SAACd,EAAEC,EAAET,EAAGC,EAAGpI,GAC3B,OAAO+I,KAAKW,IAAIf,EAAER,GAAM,GAAKY,KAAKW,IAAId,EAAER,GAAM,EAAIpI,EAAO,MAGrD2J,GAAS,SAACxB,EAAGC,EAAGC,EAAGC,EAAGK,EAAEC,GAAsB,IAAnBgB,EAAkB,uDAAN,EACrClG,EAAI,CAACiF,EAAER,EAAIS,EAAER,GACbS,EAAI,CAACF,EAAEN,EAAIO,EAAEN,GACbuB,EAAI,CAAClB,IAAGC,KACRkB,EAASb,GAASvF,EAAEmF,IAAMI,GAASvF,EAAEmG,GAAKZ,GAASJ,EAAEgB,IAC3D,OAAOd,KAAKW,IAAII,GAAUF,EAAc,SAAW,MAG/CG,GAAwB,SAACpB,EAAEC,EAAEoB,GAAa,IACvChJ,EAAoBgJ,EAApBhJ,KAAKmH,EAAe6B,EAAf7B,GAAGE,EAAY2B,EAAZ3B,GAAGD,EAAS4B,EAAT5B,GAAGE,EAAM0B,EAAN1B,GACrB,GAAY,SAATtH,EAAgB,CACjB,IAAMiJ,EAAKN,GAAOxB,EAAGC,EAAGC,EAAGC,EAAGK,EAAEC,GAC1BsB,EAAQT,GAAUd,EAAEC,EAAET,EAAGC,EAAG,SAC5B+B,EAAMV,GAAUd,EAAEC,EAAEP,EAAGC,EAAI,OACjC,OAAO4B,GAASC,GAAOF,EACnB,GAAY,cAATjJ,EAAqB,CAC5B,IAAMoJ,EAAUX,GAAUd,EAAGC,EAAGT,EAAIC,EAAI,MAClCiC,EAAWZ,GAAUd,EAAGC,EAAGP,EAAID,EAAI,MACnCkC,EAAab,GAAUd,EAAGC,EAAGT,EAAIG,EAAI,MACrCiC,EAAcd,GAAUd,EAAGC,EAAGP,EAAIC,EAAI,MAE5C,OAAO8B,GAAWC,GAAYC,GAAcC,IAD7B5B,GAAKR,GAAMQ,GAAKN,GAAMO,GAAKR,GAAMQ,GAAKN,EAAK,SAAW,MAGlE,GAAU,WAAPtH,EAAgB,CACtB,IAEMwJ,EAASvB,GAFL,CAACN,EAAER,EAAIS,EAAER,GACT,CAACO,EAAEN,EAAIO,EAAEN,IACU,EAGvBwB,EAASb,GAFL,CAACN,GAAGR,EAAGE,GAAI,EAAGO,GAAGR,EAAGE,GAAI,GACxB,CAACK,IAAGC,MAEd,OAAGkB,EAAOU,EACD,SACAV,EAAOU,GAAUV,EAAOU,EAAO,EAE/B,gBAEA,KAEL,GAAU,WAAPxJ,EAOP,OANwBgJ,EAAQhC,OAAOyC,MAAK,SAACC,EAAOvE,GAClD,IAAMwE,EAAYX,EAAQhC,OAAO7B,EAAM,GACvC,QAAIwE,GAE6D,OAA1DhB,GAAOe,EAAM/B,EAAG+B,EAAM9B,EAAE+B,EAAUhC,EAAEgC,EAAU/B,EAAGD,EAAEC,MAEpC,SAAU,MAKtC,SAASgC,GAAqBjC,EAAEC,EAAE7B,GAChC,OAAOA,EACN8D,KAAI,SAAAb,GAAO,kCAASA,GAAT,IAAkBc,SAASf,GAAsBpB,EAAEC,EAAEoB,QAChEe,MAAK,SAAAf,GAAO,OAAyB,OAArBA,EAAQc,YAqC3B,SAASE,GAAYC,EAAaC,EAASlB,GAEzC,OAAQA,EAAQhJ,MACd,IAAK,OACL,IAAK,YACL,IAAK,SACHiK,EAAYE,KAAKnB,EAAQxB,cAC3B,MACA,IAAK,SAEH,IAAMD,EA1BmB,SAACA,GAC5B,IAAKA,EAAO/E,OAAQ,MAAO,GAE3B,IAAM4H,EAAI7C,EAAO8C,QACf,SAACC,EAAD,EAAgB/H,EAAGgI,GAAS,IAAD,mBAApBC,EAAoB,KAAhBC,EAAgB,mBACRF,GAAKhI,EAAI,GAAKgI,EAAI/H,QADV,GAClB2E,EADkB,KACdC,EADc,KAGzB,OADAkD,EAAII,KAAKF,EAAIC,GAAKD,EAAKrD,GAAM,GAAIsD,EAAKrD,GAAM,GACrCkD,IAJD,CAMP,KANO,mBAMC/C,EAAO,IANR,CAMY,OAItB,OADA6C,EAAEM,KAAK,KACAN,EAAEO,KAAK,KAaGC,CAAqBC,YAAU7B,EAAQhC,OAAQ,CAC5D8D,KAAK,KAGPZ,EAAQ/D,KAAK,IAAI4E,OAAOxD,IACxB,MACF,IAAK,QACH0C,EAAYE,KAAKnB,EAAQxB,cAEtBwB,EAAQ7B,KAAO6B,EAAQ3B,IAAM2B,EAAQ5B,KAAO4B,EAAQ1B,KACpD0B,EAAQ1B,GAAG0B,EAAQ5B,GAAG,IACvB6C,EAAYxC,KAAKuB,EAAQ3B,GAAG2B,EAAQ1B,GAAI0B,EAAQ3B,GAAG,GAAI2B,EAAQ1B,GAAG,GAAI,CAACb,YAAYA,IACnFwD,EAAYxC,KAAKuB,EAAQ3B,GAAG2B,EAAQ1B,GAAI0B,EAAQ3B,GAAG,GAAI2B,EAAQ1B,GAAG,GAAI,CAACb,YAAYA,KAE7EuC,EAAQ1B,GAAG0B,EAAQ5B,IACzB6C,EAAYxC,KAAKuB,EAAQ3B,GAAG2B,EAAQ1B,GAAI0B,EAAQ3B,GAAG,GAAI2B,EAAQ1B,GAAG,GAAI,CAACb,YAAYA,IACnFwD,EAAYxC,KAAKuB,EAAQ3B,GAAG2B,EAAQ1B,GAAI0B,EAAQ3B,GAAG,GAAI2B,EAAQ1B,GAAG,GAAI,CAACb,YAAYA,KAE7EuC,EAAQ3B,IAAI2B,EAAQ7B,IAC1B9G,QAAQC,IAAI,cACZ2J,EAAYxC,KAAKuB,EAAQ3B,GAAG2B,EAAQ1B,GAAI0B,EAAQ3B,GAAG,GAAI2B,EAAQ1B,GAAG,GAAI,CAACb,YAAYA,IACnFwD,EAAYxC,KAAKuB,EAAQ3B,GAAG2B,EAAQ1B,GAAI0B,EAAQ3B,GAAG,GAAI2B,EAAQ1B,GAAG,GAAI,CAACb,YAAYA,KAE7EuC,EAAQ7B,GAAG6B,EAAQ3B,KAEzB4C,EAAYxC,KAAKuB,EAAQ3B,GAAG2B,EAAQ1B,GAAI0B,EAAQ3B,GAAG,GAAI2B,EAAQ1B,GAAG,GAAI,CAACb,YAAYA,IACnFwD,EAAYxC,KAAKuB,EAAQ3B,GAAG2B,EAAQ1B,GAAI0B,EAAQ3B,GAAG,GAAI2B,EAAQ1B,GAAG,GAAI,CAACb,YAAYA,MAErF,MACA,QACE,MAAM,IAAI0B,MAAJ,8BAAkCa,EAAQhJ,QAgTxD,OA5SAgL,2BAAgB,WACd,IAAMC,EAASxH,SAASyH,eAAe,UACjChB,EAAUe,EAAOE,WAAW,MAClCjB,EAAQkB,UAAU,EAAG,EAAGH,EAAOpK,MAAOoK,EAAOrK,QAC7C,IAAMqJ,EAAclF,IAAMkG,OAAOA,GACjCkD,EAAa9C,SAAQ,SAAArC,GAAO,OAAIgB,GAAYC,EAAaC,EAASlB,MAClEjD,EAASsF,SAAQ,SAAArC,GAAO,OAAIgB,GAAYC,EAAaC,EAASlB,QAC7D,CAACjD,EAASoI,IAEb7C,qBAAU,WACR,IAAMnF,EAAO1C,SAASyH,eAAe,QAC/B3D,EAAS9D,SAASyH,eAAe,UACjCzE,EAAchD,SAASyH,eAAe,eACtC7E,EAAY5C,SAASyH,eAAe,aAEzC/E,EAAKoF,iBAAiB,UAAU,WAC9BnF,EAAQD,EAAKjH,UAGfmH,EAAUkF,iBAAiB,UAAU,WACnCjF,EAAaD,EAAUnH,UAGzBqI,EAAOgE,iBAAiB,UAAU,WAChC/E,EAAee,EAAOrI,UAGxBuH,EAAY8E,iBAAiB,UAAU,WACrC7E,EAAeD,EAAYvH,YAE9B,IAEFoM,qBAAU,WACR8C,EAAoB,IAAI,GACxB,IAAM3G,EAAOhE,SAASyH,eAAe,QAC/BxD,EAAYjE,SAASyH,eAAe,aACpChD,EAASzE,SAASyH,eAAe,UACjCqD,EAAY9K,SAASyH,eAAe,aACpCsD,EAAS/K,SAASyH,eAAe,UACvC,GAAwB,cAArB9L,EAAMkE,MAAMtD,KAAsB,CACnC,GAA8B,SAA3BZ,EAAMkE,MAAMpE,MAAMc,KAAgB,CACjCyH,EAAKgH,QACL,IAAMvO,EAAKd,EAAMkE,MAAMpE,MAAMgB,GACvB+L,EAAU7M,EAAMkE,MAAMpE,MAAM+M,QAC5BC,EAAU9M,EAAMkE,MAAMpE,MAAMgN,QAC5BvF,EAAcvH,EAAMkE,MAAMpE,MAAMc,KAChCmG,EAAO/G,EAAMkE,MAAMpE,MAAMiH,KACzBE,EAAYjH,EAAMkE,MAAMpE,MAAMmH,UAC9BE,EAAcnH,EAAMkE,MAAMpE,MAAMqH,YAChCE,EAAcrH,EAAMkE,MAAMpE,MAAMuH,YACtCpG,QAAQC,IAAIJ,EAAG+L,EAAQC,EAAQD,EAASC,EAASvF,GACjD,IAAMqC,EAAU9B,GAAchH,EAAG+L,EAAQC,EAAQD,EAAQC,EAASvF,EAAaR,EAAME,EAAWE,EAAaE,GAE7GT,GAAgB,SAAAH,GAAS,4BAAQA,GAAR,CAAmBmD,OAEhD,GAA8B,cAA3B5J,EAAMkE,MAAMpE,MAAMc,KAAqB,CACtC0H,EAAU+G,QACV,IAAMvO,EAAKd,EAAMkE,MAAMpE,MAAMgB,GACvB+L,EAAU7M,EAAMkE,MAAMpE,MAAM+M,QAC5BC,EAAU9M,EAAMkE,MAAMpE,MAAMgN,QAC5BvF,EAAcvH,EAAMkE,MAAMpE,MAAMc,KAChCmG,EAAO/G,EAAMkE,MAAMpE,MAAMiH,KACzBE,EAAYjH,EAAMkE,MAAMpE,MAAMmH,UAC9BE,EAAcnH,EAAMkE,MAAMpE,MAAMqH,YAChCE,EAAcrH,EAAMkE,MAAMpE,MAAMuH,YACtCpG,QAAQC,IAAIJ,EAAG+L,EAAQC,EAAQD,EAASC,EAASvF,GACjD,IAAMqC,EAAU9B,GAAchH,EAAG+L,EAAQC,EAAQD,EAAQC,EAASvF,EAAYR,EAAME,EAAWE,EAAaE,GAE5GT,GAAgB,SAAAH,GAAS,4BAAQA,GAAR,CAAmBmD,OAEhD,GAA8B,WAA3B5J,EAAMkE,MAAMpE,MAAMc,KAAkB,CACrCkI,EAAOuG,QACP,IAAMvO,EAAKd,EAAMkE,MAAMpE,MAAMgB,GACvB+L,EAAU7M,EAAMkE,MAAMpE,MAAM+M,QAC5BC,EAAU9M,EAAMkE,MAAMpE,MAAMgN,QAC5BvF,EAAcvH,EAAMkE,MAAMpE,MAAMc,KAChCmG,EAAO/G,EAAMkE,MAAMpE,MAAMiH,KACzBE,EAAYjH,EAAMkE,MAAMpE,MAAMmH,UAC9BE,EAAcnH,EAAMkE,MAAMpE,MAAMqH,YAChCE,EAAcrH,EAAMkE,MAAMpE,MAAMuH,YACtCpG,QAAQC,IAAIJ,EAAG+L,EAAQC,EAAQD,EAASC,EAASvF,GACjD,IAAMqC,EAAU9B,GAAchH,EAAG+L,EAAQC,EAAQD,EAAQC,EAASvF,EAAYR,EAAME,EAAWE,EAAaE,GAE5GT,GAAgB,SAAAH,GAAS,4BAAQA,GAAR,CAAmBmD,OAE9C,GAA8B,WAA3B5J,EAAMkE,MAAMpE,MAAMc,KAAkB,CACrCwO,EAAOC,QACP,IAAMvO,EAAKd,EAAMkE,MAAMpE,MAAMgB,GACvB+L,EAAU7M,EAAMkE,MAAMpE,MAAM+M,QAC5BC,EAAU9M,EAAMkE,MAAMpE,MAAMgN,QAG5BlD,EAAU9B,GAAchH,EAAG+L,EAAQC,EAAQD,EAAQC,EAFrC9M,EAAMkE,MAAMpE,MAAMc,MAItCgG,GAAgB,SAAAH,GAAS,4BAAQA,GAAR,CAAmBmD,QAGhD,GAAwB,YAArB5J,EAAMkE,MAAMtD,KAAmB,CAChC,IAAMmF,EAAQY,EAASvD,OAAO,EACxB2E,EAAK/H,EAAMkE,MAAMpE,MAAMiI,GACvBC,EAAKhI,EAAMkE,MAAMpE,MAAMkI,GACvB6E,EAAU7M,EAAMkE,MAAMpE,MAAM+M,QAC5BC,EAAU9M,EAAMkE,MAAMpE,MAAMgN,QAC5BvF,EAAcvH,EAAMkE,MAAMpE,MAAMc,KAChCmG,EAAO/G,EAAMkE,MAAMpE,MAAMiH,KACzBE,EAAYjH,EAAMkE,MAAMpE,MAAMmH,UAC9BE,EAAcnH,EAAMkE,MAAMpE,MAAMqH,YAChCE,EAAcrH,EAAMkE,MAAMpE,MAAMuH,YACtC2B,GAAcjD,EAAMgC,EAAGC,EAAI6E,EAASC,EAASvF,EAAYR,EAAME,EAAWE,EAAaE,GASzF,GAJwB,gBAArBrH,EAAMkE,MAAMtD,MACbuO,EAAUE,QAGY,WAArBrP,EAAMkE,MAAMtD,KAAkB,CAC/B,IAAME,EAAKd,EAAMkE,MAAMpE,MAAMgB,GACvByM,GAAOvN,EAAMkE,MAAMpE,MAAMyN,MACzBC,GAAQxN,EAAMkE,MAAMpE,MAAM0N,MAC1BC,GAAQzN,EAAMkE,MAAMpE,MAAM2N,MAC1BC,GAAQ1N,EAAMkE,MAAMpE,MAAM4N,MAC1B9M,GAAOZ,EAAMkE,MAAMpE,MAAMc,KACzBmG,GAAO/G,EAAMkE,MAAMpE,MAAMiH,KACzBE,GAAYjH,EAAMkE,MAAMpE,MAAMmH,UAC9BE,GAAcnH,EAAMkE,MAAMpE,MAAMqH,YAChCE,GAAcrH,EAAMkE,MAAMpE,MAAMqH,YACtC6B,GAAclI,EAAIyM,GAAOC,GAAMC,GAAOC,GAAO9M,GAAMmG,GAAME,GAAWE,GAAaE,IAMnF,GAJwB,gBAArBrH,EAAMkE,MAAMtD,MACbuO,EAAUE,QAGU,aAAnBrP,EAAMkE,MAAMtD,KAAkB,CAC/B,IAAME,GAAKd,EAAMkE,MAAMpE,MAAMgB,GACvBiH,GAAK/H,EAAMkE,MAAMpE,MAAMiI,GACvBC,GAAKhI,EAAMkE,MAAMpE,MAAMkI,GACvBC,GAAKjI,EAAMkE,MAAMpE,MAAMmI,GACvBC,GAAKlI,EAAMkE,MAAMpE,MAAMoI,GACvBtH,GAAOZ,EAAMkE,MAAMpE,MAAMc,KACzBmG,GAAO/G,EAAMkE,MAAMpE,MAAMiH,KACzBE,GAAYjH,EAAMkE,MAAMpE,MAAMmH,UAC9BE,GAAcnH,EAAMkE,MAAMpE,MAAMqH,YAChCE,GAAcrH,EAAMkE,MAAMpE,MAAMqH,YACtC6B,GAAclI,GAAGiH,GAAGC,GAAGC,GAAGC,GAAGtH,GAAMmG,GAAME,GAAWE,GAAaE,IAG3C,YAArBrH,EAAMkE,MAAMtD,OACb6G,EAAU,QACVE,EAAmB,SAEtB,CAAC3H,EAAMkE,QAqJN,6BACI,yBAAKrD,UAAU,eACf,yBAAKM,MAAO,CAACuJ,SAAS,QAAS4E,OAAO,EAAGT,OAAO,EAAGvN,QAAQ,KAC3D,4BAAQN,QAAS6F,GAAjB,QACA,4BAAQ7F,QAAS8F,GAAjB,SAEE,yBAAKjG,UAAU,cACX,yBAAKA,UAAU,iBAEZ,2BAAOA,UAAY,QAAQuL,QAAQ,aAAY,2BAAOxL,KAAK,QAAQE,GAAG,YAAYuL,QAAyB,cAAd9E,EAA2BxF,SAAU,kBAAMyF,EAAQ,gBAChJ,yBAAK8E,QAAQ,eAAe,0BAAMtB,EAAE,qSAKpC,2BAAOnK,UAAY,QAAQuL,QAAQ,QAAnC,IAA2C,2BAAOxL,KAAK,QAAQE,GAAG,OAAOuL,QAAyB,SAAd9E,EAAsBxF,SAAU,kBAAMyF,EAAQ,WAElI,yBAAK8E,QAAQ,WAAU,0BAAMvE,GAAG,IAAIC,GAAG,IAAIC,GAAG,IAAIC,GAAG,IAAIC,OAAO,eAAeoE,cAAc,YAK7F,2BAAO1L,UAAY,QAAQuL,QAAQ,aAAnC,IAAgD,2BAAOxL,KAAK,QAAQE,GAAG,YAAYuL,QAAyB,cAAd9E,EAA2BxF,SAAU,kBAAMyF,EAAQ,gBAEjJ,yBAAK8E,QAAQ,eAAc,0BAAMtB,EAAE,gHAKnC,2BAAOnK,UAAY,QAAQuL,QAAQ,UAAnC,IAA6C,2BAAOxL,KAAK,QAAQE,GAAG,SAASuL,QAAuB,WAAd9E,EAAwBxF,SAAU,kBAAMyF,EAAQ,aAEtI,yBAAK8E,QAAQ,eAAc,0BAAMtB,EAAE,4EAKnC,2BAAOnK,UAAY,QAAQuL,QAAQ,UAAnC,IAA6C,2BAAOxL,KAAK,QAAQE,GAAG,SAASuL,QAAuB,WAAd9E,EAAwBxF,SAAU,kBAAMyF,EAAQ,aAEtI,yBAAK8E,QAAQ,eAAc,0BAAMvF,KAAK,eAAeiE,EAAE,2PAKvD,2BAAOnK,UAAY,QAAQuL,QAAQ,SAAnC,MAA8C,2BAAOxL,KAAK,QAAQE,GAAG,QAAQuL,QAAuB,UAAd9E,EAAuBxF,SAAU,kBAAMyF,EAAQ,YAErI,yBAAK8E,QAAQ,cAAczL,UAAU,cAAa,0BAAMmK,EAAE,0OAK7C,cAAhBzD,EAA8B,yBAAK1G,UAAU,aACzC,oCAEE,4BAAQC,GAAG,QACT,+CACA,uCACA,yCACA,0CAJF,QAKO,2CAGT,yCAEA,4BAAQA,GAAG,aACT,yCACA,2CACA,0CACA,4CAGF,sCAEA,4BAAQA,GAAG,UACT,yCACA,uCACA,yCACA,wCACA,4CAGF,2CAEC,4BAAQA,GAAG,eACT,qCACA,qCACA,qCACA,yCAGE,KAKlB,0BAAMK,MAAS,CAAEuJ,SAAW,WAAY8B,IAAM,MAC7C,4BAAQ1L,GAAG,SACXW,MAASgL,OAAOC,WAChBlL,OAAUiL,OAAOE,YACjBC,YApPoB,SAAC1I,GAAU,IAE1B2I,EAAoB3I,EAApB2I,QAASC,EAAW5I,EAAX4I,QAEhB,GAAmB,cAAhBvF,GACD,GAA2B,IAAxBwH,EAAa3L,OAAa,CAE7B,IAAMwG,EAAUY,GAAqBqC,EAASC,EAASnG,GAEvD,GAAGiD,EAAQ,CACT,GAAoB,WAAjBA,EAAQhJ,KAAkB,CAC3B,IAAMmM,EAAWnD,EAAQhC,OAAO6C,KAAI,SAAAH,GAAK,OAAIuC,EAAUvC,EAAM/B,KACvDyE,EAAWpD,EAAQhC,OAAO6C,KAAI,SAAAH,GAAK,OAAIwC,EAAUxC,EAAM9B,KAC7D0G,EAAuB,2BAAKtF,GAAN,IAAemD,WAAUC,kBAC5C,CACH,IAAMC,EAAUJ,EAAUjD,EAAQ7B,GAC5BmF,EAAUJ,EAAUlD,EAAQ5B,GAClCkH,EAAuB,2BAAKtF,GAAN,IAAeqD,UAASC,aAEhD8B,GAAoB,SAAAvI,GAAS,OAAIA,KACT,WAArBmD,EAAQc,SACTjD,EAAU,UAGVA,EAAU,gBAIX,CACH,IACMmC,EAAU9B,GADLiH,EAAa3L,OACSyJ,EAAQC,EAAQD,EAAQC,EAASvF,GAElEyH,GAAoB,SAAAvI,GAAS,4BAAQA,GAAR,CAAmBmD,OAChDsF,EAAuBtF,GACvBnC,EAAU,aAmNV0F,YA9JoB,SAACjJ,GAAU,IAE1B2I,EAAoB3I,EAApB2I,QAASC,EAAW5I,EAAX4I,QAChB,GAAmB,cAAhBvF,GAC0B,IAAxBwH,EAAa3L,OAAa,CAC3B,IAAMwG,EAAUY,GAAqBqC,EAASC,EAASiC,GACvD7K,EAAMoB,OAAOnE,MAAM4B,OAAS6G,EAlCR,SAAAc,GACxB,OAAQA,GACN,IAAK,KACL,IAAK,KACL,IAAK,QACL,IAAK,MACH,MAAO,cACT,IAAK,KACL,IAAK,KAEL,IAAK,gBACH,MAAO,cACT,QACE,MAAO,QAqB+B0C,CAAkBxD,EAAQc,UAAY,UAIhF,GAAc,YAAXvE,EAAqB,CACxB,IAAMJ,EAAQgJ,EAAa3L,OAAO,EADV,EAER2L,EAAahJ,GAAtBgC,EAFiB,EAEjBA,GAAGC,EAFc,EAEdA,GAEVgB,GAAcjD,EAAMgC,EAAGC,EAAI6E,EAASC,EAASvF,EAAaR,EAAME,EAAWE,EAAYE,QACjF,GAAY,WAATlB,EACP,GAAgC,WAA7B8I,EAAoBrO,KAAkB,CACvC,IAAMyM,EAAY4B,EAAoBrH,OAAO6C,KAAI,SAAC6C,EAAGvH,GAAJ,MAAe,CAC9DwC,EAAGsE,EAAUoC,EAAoBlC,SAAShH,GAC1CyC,EAAGsE,EAAUmC,EAAoBjC,SAASjH,OAEtCkD,EAAY,YAAO8F,GACzB9F,EAAagG,EAAoBnO,IAAI8G,OAASyF,EAC9C2B,EAAoB/F,GAAc,OAC/B,CAAC,IACInI,EAA8CmO,EAA9CnO,GAAIiH,EAA0CkH,EAA1ClH,GAAIE,EAAsCgH,EAAtChH,GAAID,EAAkCiH,EAAlCjH,GAAIE,EAA8B+G,EAA9B/G,GAAItH,EAA0BqO,EAA1BrO,KAAMqM,EAAoBgC,EAApBhC,QAASC,EAAW+B,EAAX/B,QAKrCK,EAAQV,EAAUI,EAClBO,EAAQV,EAAUI,EACxBlE,GAAclI,EAAIyM,EAAOC,EAAMD,GANjBtF,EAAGF,GAM6ByF,GAL/BtF,EAAGF,GAK0CpH,EAAMmG,EAAME,EAAWE,EAAYE,QAE7F,GAAc,WAAXlB,EAAoB,CAAC,IACpBrF,EAAqCmO,EAArCnO,GAAIF,EAAiCqO,EAAjCrO,KAAK8J,EAA4BuE,EAA5BvE,SAAaiD,EADH,YACkBsB,EADlB,4BAnFJ,SAACpC,EAASC,EAASpC,EAAUiD,GAAiB,IAChE5F,EAAe4F,EAAf5F,GAAGC,EAAY2F,EAAZ3F,GAAGC,EAAS0F,EAAT1F,GAAGC,EAAMyF,EAANzF,GAChB,OAAQwC,GACN,IAAK,KACL,IAAK,QACH,MAAO,CAAE3C,GAAI8E,EAAS7E,GAAI8E,EAAS7E,KAAIC,MACzC,IAAK,KACH,MAAO,CAAEH,KAAIC,GAAI8E,EAAS7E,GAAI4E,EAAS3E,MACzC,IAAK,KACH,MAAO,CAAEH,GAAI8E,EAAS7E,KAAIC,KAAIC,GAAI4E,GACpC,IAAK,KACL,IAAK,MACH,MAAO,CAAE/E,KAAIC,KAAIC,GAAI4E,EAAS3E,GAAI4E,GACpC,IAAK,gBACH,MAAO,CAAC/E,GAAG8E,EAAQ7E,GAAG8E,EAAQ7E,KAAIC,MACpC,QACE,OAAO,MAqEa0F,CAAmBf,EAASC,EAASpC,EAAUiD,GAA9D5F,EAFoB,EAEpBA,GAAGC,EAFiB,EAEjBA,GAAGC,EAFc,EAEdA,GAAGC,EAFW,EAEXA,GAChBc,GAAclI,EAAGiH,EAAGC,EAAGC,EAAGC,EAAGtH,EAAMmG,EAAME,EAAWE,EAAYE,KA0HhEwG,UApHkB,WACpB,GAA2B,IAAxBkB,EAAa3L,QACb6L,EAAoB,CACrB,IAAMlJ,EAAQkJ,EAAoBnO,GADb,EAEFiO,EAAahJ,GAAzBjF,EAFc,EAEdA,GAAIF,EAFU,EAEVA,KACX,IAAgB,YAAXuF,GAAmC,aAAXA,IAPN,SAAAvF,GAAI,MAAI,CAAC,OAAQ,YAAY,UAAUkN,SAASlN,GAOhBmN,CAAmBnN,GAAO,CAAC,IAAD,EAhXpD,SAAAgJ,GAAY,IACpChJ,EAAqBgJ,EAArBhJ,KAAMmH,EAAe6B,EAAf7B,GAAGC,EAAY4B,EAAZ5B,GAAGC,EAAS2B,EAAT3B,GAAGC,EAAM0B,EAAN1B,GACtB,GAAY,cAATtH,EAAqB,CACtB,IAAMoN,EAAOrF,KAAKsF,IAAIlG,EAAGE,GACnBiG,EAAOvF,KAAKwF,IAAIpG,EAAGE,GAGzB,MAAO,CAACF,GAAGiG,EAAMhG,GAFJW,KAAKsF,IAAIjG,EAAGE,GAECD,GAAGiG,EAAMhG,GADtBS,KAAKwF,IAAInG,EAAGE,IAGzB,OAAIH,EAAGE,GAAMF,IAAOE,IAAOD,EAAGE,EACrB,CAACH,KAAGC,KAAGC,KAAGC,MAEV,CAACH,GAAGE,EAAGD,GAAGE,EAAGD,GAAGF,EAAGG,GAAGF,GAqWPoG,CAAyBW,EAAahJ,IAArDgC,EADwE,EACxEA,GAAGC,EADqE,EACrEA,GAAGC,EADkE,EAClEA,GAAGC,EAD+D,EAC/DA,GAChBc,GAAclI,EAAIiH,EAAGC,EAAGC,EAAGC,EAAGtH,EAAMmG,EAAME,EAAWE,EAAYE,IAIrEI,EAAU,QACVyH,EAAuB,OAyGrBb,cA1KsB,SAACtK,GACzBA,EAAEuB,OAAOgJ,kBAAkBvK,EAAEwK,WAC7B1G,GAAU,CAAC,CAAC9D,EAAEyK,MAAOzK,EAAE0K,MAAO1K,EAAE2K,aAyK9BC,cAtKsB,SAAC5K,GACP,IAAdA,EAAE6K,SACN/G,GAAU,GAAD,mBAAKD,GAAL,CAAa,CAAC7D,EAAEyK,MAAOzK,EAAE0K,MAAO1K,EAAE2K,mBC5d/C,SAASa,IACP,OACE,yBAAK1O,UAAY,UACjB,yBAAKA,UAAW,aACnB,yBAAKA,UAAW,OACf,yBAAKA,UAAW,cACf,yBAAKA,UAAW,mBAChB,yBAAKA,UAAW,oBAChB,yBAAKA,UAAW,oBAChB,yBAAKA,UAAW,mBAChB,yBAAKA,UAAW,iBAGlB,yBAAKA,UAAW,OACf,yBAAKA,UAAW,cACf,yBAAKA,UAAW,mBAChB,yBAAKA,UAAW,oBAChB,yBAAKA,UAAW,oBAChB,yBAAKA,UAAW,mBAChB,yBAAKA,UAAW,iBAGlB,yBAAKA,UAAW,QACf,yBAAKA,UAAW,iBAEjB,yBAAKA,UAAW,QACf,yBAAKA,UAAW,iBAEjB,yBAAKA,UAAW,QACf,yBAAKA,UAAW,iBAEjB,yBAAKA,UAAW,QACf,yBAAKA,UAAW,iBAEjB,yBAAKA,UAAW,QACf,yBAAKA,UAAW,iBAEjB,yBAAKA,UAAW,QACf,yBAAKA,UAAW,iBAEjB,yBAAKA,UAAW,QACf,yBAAKA,UAAW,mB,OCyBH2O,MA1Ef,WACI,IACIC,EACAC,EACAC,EACAC,EAJE3J,EAAUS,cAUVmJ,EAAe,CACjB,WAAY,UACZC,EAAG,IACH,OAAQ,MACR,MAAO,MACP,SAAU,QACV,SAAU,QACV,WAAY,WAuChB,OAnCA5D,qBAAU,WAEN,IAAM6D,EAAS1L,SAASyH,eAAe,YACvC,IAAK,IAAIkE,KAAOH,EAAc,CAC5B,IAAII,EAAS5L,SAASyD,cAAc,UACpCmI,EAAOC,KAAOF,EACdC,EAAOnQ,MAAQ+P,EAAaG,GAC5BC,EAAOpP,UAAYgP,EAAaG,GAChCD,EAAOI,IAAIF,GAGb,IAAMrP,EAAOyD,SAASyH,eAAe,eAC/BlM,EAAOyE,SAASyH,eAAe,eAC/BsE,EAAU/L,SAASyH,eAAe,WACzBzH,SAASyH,eAAe,UAEhCK,iBAAiB,SAAS,WAC7BuD,EAAc9O,EAAKd,MACnB2P,EAAc7P,EAAKE,MACnB6P,EAAiBS,EAAQtQ,MAErB8P,EADe,QAAhBF,EACgBK,EAAOjQ,MAEP,MAGvBc,EAAKuL,iBAAiB,UAAU,SAACpI,GACP,QAAnBA,EAAEuB,OAAOxF,MACRiQ,EAAO5O,MAAMkP,QAAU,QAEvBN,EAAO5O,MAAMkP,QAAU,YAGjC,IAGE,oCACA,8BACI,2BAAOvP,GAAG,cAAcyE,YAAY,kBACpC,2BAAOzE,GAAG,UAAUyE,YAAY,YAChC,4BAAQ3F,KAAK,WAAWkB,GAAG,aAC3B,4BAAQA,GAAG,eACP,4BAAQhB,MAAM,OAAd,qBACA,4BAAQA,MAAM,OAAd,OACA,4BAAQA,MAAM,OAAd,gBAEJ,4BAAQc,KAAK,SAAUI,QA9DD,kBAAMiF,EAAQqF,KAAK,CAC7CgF,SAAS,YACTnQ,MAAM,CAACuP,cAAYD,cAAaE,iBAAgBC,mBA4DW9O,GAAG,UAA1D,aC1BGyP,EA7CS,WAAmC,IAAlCpQ,EAAiC,uDAAzB,aAAcgG,EAAW,uCACxD,OAAQA,EAAOvF,MACb,IAAK,KAEH,OADAT,EAAQ,YAEV,IAAK,MAEH,OADAA,EAAQ,YAEV,IAAK,OAEH,OADAA,EAAQ,aAEV,QACE,OAAOA,ICqBEqQ,EA/BY,WAA4B,IAA3BrQ,EAA0B,wDAAXgG,EAAW,uCAElD,OAAOA,EAAOvF,MACV,IAAK,aAED,OADAT,GAAQ,EAEZ,IAAK,cAED,OADAA,GAAQ,EAEZ,QACI,OAAOA,ICgBFsQ,EA5BO,WAAwB,IAAvBtQ,EAAsB,uDAAhB,IAAKgG,EAAW,uCAC3C,OAAOA,EAAOvF,MACZ,IAAK,IAEH,OADAT,EAAQ,IAEV,IAAK,MAEH,OADAA,EAAQ,MAEV,IAAK,MAEH,OADAA,EAAQ,MAEV,IAAK,QAEH,OADAA,EAAQ,QAEV,IAAK,QAEH,OADAA,EAAQ,QAEV,IAAK,UAEH,OADAA,EAAQ,UAEV,IAAK,UAEH,OADAA,EAAQ,UAEV,QACE,OAAOA,ICbAuQ,EAPKC,YAAgB,CAChCpQ,SAAUgQ,EACVjQ,YAAakQ,EACbpQ,QFS4B,WAAyB,IAAxBD,EAAuB,uDAAf,GAAIgG,EAAW,uCAEpD,OAAOA,EAAOvF,MACV,IAAK,YAQD,OAPAT,EAAK,oDAEKR,EAAM,cAAcG,MAFzB,yCAGMH,EAAM,aAAaG,MAHzB,2CAIOH,EAAM,aAAaG,MAJ1B,+CAQT,QACI,OAAOK,IErBfN,SAAS4Q,I,eC4CEG,MAjDf,SAAc5Q,GACV,IAAMiG,EAAUS,cAwChB,OAvCAwF,qBAAU,WAEN,IADA,IAAM2E,EAAaxM,SAASyH,eAAe,eACnC3I,EAAE,EAAEA,EAAEnD,EAAM8Q,SAAS1N,OAAOD,IAAI,CACpC,IAAI4N,EAAU1M,SAASyD,cAAc,OACjCkJ,EAAa3M,SAASyD,cAAc,UACxCkJ,EAAWC,YAAc,eACzB,IAAIC,EAAc7M,SAASyD,cAAc,MACrCsI,EAAU/L,SAASyD,cAAc,MACjCjI,EAAWwE,SAASyD,cAAc,MACtCoJ,EAAYrQ,UAAY,gBACxBuP,EAAQvP,UAAY,gBACpBhB,EAASgB,UAAY,oBACrBmQ,EAAWnQ,UAAYb,EAAM8Q,SAAS3N,GAAGvC,KAAOZ,EAAM8Q,SAAS3N,GAAGtD,SAClEmR,EAAWlQ,GAAKd,EAAM8Q,SAAS3N,GAAGrC,GAClCiQ,EAAQI,YAAYD,GACpBH,EAAQI,YAAYf,GACpBW,EAAQI,YAAYtR,GACpBkR,EAAQI,YAAYH,GACpBE,EAAYE,UAAY,UAAYpR,EAAM8Q,SAAS3N,GAAGvD,KACtDwQ,EAAQgB,UAAY,aAAepR,EAAM8Q,SAAS3N,GAAGiN,QACnB,KAA/BpQ,EAAM8Q,SAAS3N,GAAGtD,WACjBA,EAASuR,UAAY,aAAepR,EAAM8Q,SAAS3N,GAAGtD,UAE1DgR,EAAWM,YAAYJ,GAG3BF,EAAW1E,iBAAiB,SAAS,SAACpI,GAClC,IAAMjD,EAAMiD,EAAEuB,OAAOxE,GACrBG,QAAQC,IAAI6C,GACZ,IAAMnD,EAAQmD,EAAEuB,OAAOzE,UACvBI,QAAQC,IAAIN,GACXK,QAAQC,IAAI6C,EAAEuB,OAAOxE,IACtBmF,EAAQqF,KAAK,CACTgF,SAAS,eACTnQ,MAAM,CAACW,KAAGF,eAGpB,IAGE,oCACA,yBAAKE,GAAG,kBC1ChB,SAASyO,IACL,OACE,yBAAK1O,UAAY,UACjB,yBAAKA,UAAW,aAChB,yBAAKA,UAAW,OACZ,yBAAKA,UAAW,cACZ,yBAAKA,UAAW,mBAChB,yBAAKA,UAAW,oBAChB,yBAAKA,UAAW,oBAChB,yBAAKA,UAAW,mBAChB,yBAAKA,UAAW,iBAGxB,yBAAKA,UAAW,OACZ,yBAAKA,UAAW,cACZ,yBAAKA,UAAW,mBAChB,yBAAKA,UAAW,oBAChB,yBAAKA,UAAW,oBAChB,yBAAKA,UAAW,mBAChB,yBAAKA,UAAW,iBAGxB,yBAAKA,UAAW,QACZ,yBAAKA,UAAW,iBAEpB,yBAAKA,UAAW,QACZ,yBAAKA,UAAW,iBAEpB,yBAAKA,UAAW,QACZ,yBAAKA,UAAW,iBAEpB,yBAAKA,UAAW,QACZ,yBAAKA,UAAW,iBAEpB,yBAAKA,UAAW,QACZ,yBAAKA,UAAW,iBAEpB,yBAAKA,UAAW,QACZ,yBAAKA,UAAW,iBAEpB,yBAAKA,UAAW,QACZ,yBAAKA,UAAW,mBA2BXwQ,MArBf,WAAwB,IAAD,EACa3O,mBAAS,IADtB,mBACZoO,EADY,KACFQ,EADE,KAEfC,EAAgB,GAFD,EAGa7O,oBAAS,GAHtB,mBAGZ8O,EAHY,KAGDC,EAHC,KAcnB,OAVAvF,qBAAU,WACNwF,IAASC,YAAYC,WAAW,eAAeC,QAAQ,YAAa,QACnEC,MAAM,IAAIC,MAAMjO,MAAK,SAACkO,GACnBA,EAAO/F,SAAQ,SAACgG,GACZV,EAAcjG,KAAK2G,EAAIjO,WAE3BsN,EAAYC,GACZE,GAAW,QAEhB,IAEC,oCACKD,EAAY,kBAAC,EAAD,CAAMV,SAAUA,IAAa,kBAAC,EAAD,QCzC3B,IAAvBY,IAASQ,KAAK9O,QAChBsO,IAASS,cAXY,CACrBC,OAAQ,0CACRC,WAAY,+BACZC,UAAW,eACXC,cAAe,2BACfC,kBAAmB,cACnBC,MAAO,2CACPC,cAAe,iBAOjB,IAAMC,EAAa,CAACC,KAEdC,EAAkBpG,OAAOqG,sCAAwCC,IAEjEC,EAAQC,YACZC,EACAL,EAAgBM,IAAe,WAAf,EAAmBR,KAGrCS,IAASC,OACP,kBAAC,IAAD,CAAUL,MAAOA,GACjB,kBAAC,IAAMM,WAAP,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOC,OAAK,EAAC5R,KAAO,YAAY6R,UAAanC,IAC7C,kBAAC,IAAD,CAAOkC,OAAK,EAAC5R,KAAO,aAAa6R,UAAa5N,IAC9C,kBAAC,IAAD,CAAO2N,OAAK,EAAC5R,KAAO,cAAc6R,UAAahE,IAC/C,kBAAC,IAAD,CAAO+D,OAAK,EAAC5R,KAAO,YAAY6R,UVpCzB,SAAkBxT,GAC/B,IAKIO,EAMAkT,EAXE7T,EAAOI,EAAM0T,SAASvT,MAAMuP,YAC5B7P,EAAWG,EAAM0T,SAASvT,MAAMyP,aAChC+D,EAAY,CAAEC,OAAQ,IACxBC,EAAY,CAACtL,EAAI,EAAGC,EAAI,GACxBsL,EAAU,GAEF,QAATlU,EACDW,EAAUV,EACK,QAARD,IACPW,EAAS,cAGX,IAAIwT,EAAe,GAObC,EAAW,CACf,CACEC,UAAW,YACXC,QAAS,SAAyBnQ,GAChC8P,EAAa,CAACtL,EAAIxE,EAAEyK,MAAOhG,EAAGzE,EAAE0K,OAChCkF,EAAUC,OAAOtI,KAAK,CACpB1K,KAAM,YACN0E,OAAQyO,EACRxL,EAAGxE,EAAEyK,MACLjO,SAAWA,EACXiI,EAAGzE,EAAE0K,MACL3O,MAAOgU,EACPK,KAAMC,KAAKC,MAAQxO,MAIzB,CACEoO,UAAW,QACXC,QAAS,SAAqBnQ,GAChB,QAATnE,GAA2B,UAATA,IACO,YAAvBmE,EAAEuB,OAAOzE,WAAkD,qBAAvBkD,EAAEuB,OAAOzE,WAA2D,oBAAvBkD,EAAEuB,OAAOzE,YAAiCN,EAAW,aAC/G,WAAvBwD,EAAEuB,OAAOzE,WAAiD,sBAAvBkD,EAAEuB,OAAOzE,WAA4D,kBAAvBkD,EAAEuB,OAAOzE,YAA+BN,EAAW,aAC7G,aAAvBwD,EAAEuB,OAAOzE,WAAmD,oBAAvBkD,EAAEuB,OAAOzE,WAA0D,oBAAvBkD,EAAEuB,OAAOzE,YAAiCN,EAAW,cAEzIoT,EAAUC,OAAOtI,KAAK,CACpB1K,KAAM,QACN0E,OAAQvB,EAAEuB,OAAOzE,UACjB0H,EAAGxE,EAAEyK,MACLjO,SAAUA,EACViI,EAAGzE,EAAE0K,MACL0F,KAAMC,KAAKC,MAAQxO,OAK3B,CACEoO,UAAW,QACXC,QAAS,SAAwBnQ,GAC/B9C,QAAQC,IAAIvB,EAAMY,IACN,QAATX,GAA2B,QAATA,IACnBkU,EAAUL,EACVM,EAAehQ,EAAEuB,OAAOzE,UACxB8S,EAAUC,OAAOtI,KAAK,CACpB1K,KAAM,QACN0E,OAAQvB,EAAEuB,OAAOzE,UACjB0H,EAAGsL,EAAUtL,EACbC,EAAGqL,EAAUrL,EACbjI,SAAUA,EACVT,MAA+B,kBAAvBiE,EAAEuB,OAAOzE,UAAiCkD,EAAEuB,OAAOxF,MAAOH,EAAMY,GAAUT,MAClFwU,QAASvQ,EAAEuQ,QACXH,KAAMC,KAAKC,MAAQxO,OAK3B,CACEoO,UAAW,QACXC,QAAS,SAAqBnQ,GAChB,QAATnE,IACgB,MAAdC,GACU,QAAbA,GACa,QAAbA,GACa,UAAbA,GACa,UAAbA,GACa,YAAbA,GACa,YAAbA,IACEU,EAAWV,GAEb8T,EAAUC,OAAOtI,KAAK,CACpB1K,KAAM,QACN0E,OAAQvB,EAAEuB,OAAOzE,UACjB0H,EAAGxE,EAAEyK,MACLjO,SAAUA,EACViI,EAAGzE,EAAE0K,MACL3O,MAAMH,EAAMY,GAAUT,MACtBqU,KAAMC,KAAKC,MAAQxO,OAK3B,CACEoO,UAAU,SACVC,QAAQ,SAAsBnQ,GAC5B4P,EAAUC,OAAOtI,KAAK,CACpB1K,KAAK,SACL0E,OAAO,iBACP6O,KAAKC,KAAKC,MAAQxO,EAClB/F,MAAMiE,EAAEK,OAAOH,WAIrB,CACEgQ,UAAU,YACVC,QAAQ,SAAsBnQ,GAC9B4P,EAAUC,OAAOtI,KAAK,CACpB1K,KAAK,YACLuT,KAAKC,KAAKC,MAAQxO,EAClB/F,MAAMiE,EAAEK,WAIZ,CACE6P,UAAU,UACVC,QAAQ,SAAsBnQ,GAC9B4P,EAAUC,OAAOtI,KAAK,CACpB1K,KAAK,UACLuT,KAAKC,KAAKC,MAAQxO,EAClB/F,MAAMiE,EAAEK,WAIZ,CACE6P,UAAU,UACVC,QAAQ,SAAsBnQ,GAC9B4P,EAAUC,OAAOtI,KAAK,CACpB1K,KAAK,UACLuT,KAAKC,KAAKC,MAAQxO,EAClB/F,MAAMiE,EAAEK,WAIZ,CACE6P,UAAU,cACVC,QAAQ,SAAsBnQ,GAC5B4P,EAAUC,OAAOtI,KAAK,CACpB1K,KAAK,cACLuT,KAAKC,KAAKC,MAAQxO,EAClB/F,MAAMiE,EAAEK,OAAOwF,YAIrB,CACEqK,UAAU,SACVC,QAAQ,SAAsBnQ,GAC5B4P,EAAUC,OAAOtI,KAAK,CACpB1K,KAAK,SACLuT,KAAKC,KAAKC,MAAMxO,EAChB/F,MAAMiE,EAAEK,WAId,CACE6P,UAAU,cACVC,QAAQ,SAAsBnQ,GAC5B4P,EAAUC,OAAOtI,KAAK,CACpB1K,KAAK,cACLuT,KAAKC,KAAKC,MAAQxO,EAClB/F,MAAMiE,EAAEK,WAId,CACE6P,UAAU,WACVC,QAAQ,SAAsBnQ,GAC5B4P,EAAUC,OAAOtI,KAAK,CACpB1K,KAAK,WACLuT,KAAKC,KAAKC,MAAMxO,EAChB/F,MAAMiE,EAAEK,YAMVmQ,EAAc,IAAIC,IAAY,CAClCC,QAAS,IACTC,OAAQ,2BAOV,SAASC,IACP9O,EAAYuO,KAAKC,MACjBV,EAAUC,OAAS,GACnBI,EAASvJ,KAAI,SAAClC,GAAD,OAPC0L,EAOa1L,EAAE0L,UAPJC,EAOe3L,EAAE2L,QANnC7P,SAASC,gBAAgB6H,iBAAiB8H,EAAWC,GAAS,GADvE,IAAgBD,EAAWC,KAQzBK,EACCzK,QACAhG,MAAK,WACJ7C,QAAQC,IAAI,wBACX0T,OAAM,SAAC7Q,GAAD,OAAO9C,QAAQ4T,MAAM9Q,MAmBhC,SAAS+Q,IAEPd,EAASvJ,KAAI,SAAClC,GAAD,OAlBS0L,EAkBa1L,EAAE0L,UAlBJC,EAkBe3L,EAAE2L,QAjB3C7P,SAASC,gBAAgByQ,oBAC9Bd,EACAC,GACA,GAJJ,IAAwBD,EAAWC,KAmBjCc,aAAaC,QAAQ,YAAaC,KAAKC,UAAUxB,IACjDtP,SAAS+Q,uBAAuB,eAAe,GAAGjU,MAAMkP,QAAQ,OAChEhM,SAAS+Q,uBAAuB,UAAU,GAAGjU,MAAMkP,QAAQ,QAC3D,IAAMgF,EAAkBH,KAAKC,UAAUxB,GACvC1S,QAAQC,IAAIyS,GACZjC,IAASC,YAAYC,WAAW,UAAUzB,IAAI,CAC5CkF,kBACAC,UAAW5D,IAASC,UAAU4D,WAAWC,kBACzC5V,KAAKI,EAAM0T,SAASvT,MAAMsP,YAC1BW,QAAQpQ,EAAM0T,SAASvT,MAAMwP,eAC7B/O,KAAKZ,EAAM0T,SAASvT,MAAMuP,cACzB5L,MAAK,SAACkO,GAaP,IAAIyD,EAZJT,aAAaC,QAAQ,cAAeC,KAAKC,UAAUnD,EAAOlR,KAC1D4Q,IAASC,YAAYC,WAAW,eAAezB,IAAI,CACjDmF,UAAW5D,IAASC,UAAU4D,WAAWC,kBACzC5V,KAAKI,EAAM0T,SAASvT,MAAMsP,YAC1B7O,KAAKZ,EAAM0T,SAASvT,MAAMuP,YAC1BU,QAAQpQ,EAAM0T,SAASvT,MAAMwP,eAC7B9P,SAASA,EACTiB,GAAGkR,EAAOlR,KACTgD,MAAK,SAACkO,GACP/Q,QAAQC,IAAI,4BAEdD,QAAQC,IAAI,mBAEZqT,EACCmB,OACAC,SACA7R,MAAK,YAAqB,IAAD,mBAAlB8R,EAAkB,KAAVC,EAAU,KACxB,IAAIC,KAAKF,EAAQ,qBAAsB,CACrChV,KAAMiV,EAAKjV,KACXmV,aAAc3B,KAAKC,QAErB,IAAI2B,EAAS,IAAIC,WACjBD,EAAOE,cAAcL,GACrBG,EAAOG,UAAY,WACfV,EAAcO,EAAOhE,OACrB,IAAIoE,EAAa1E,IAAS2E,UAAUC,MAC5BxV,EAAKoU,KAAKqB,MAAMvB,aAAawB,QAAQ,gBAE3CxB,aAAayB,WAAW,eACTL,EAAWM,MAAM5V,GACvB6V,UAAUlB,EAAa,YAAY3R,MAAK,SAAC8S,GAChDC,MAAM,mBACLjC,OAAM,SAAC7Q,GACR9C,QAAQC,IAAI6C,UAGnB6Q,OAAM,SAAC7Q,GAAD,OAAO9C,QAAQC,IAAI6C,SAUhC,OACE,oCACE,yBAAKlD,UAAU,YACf,yBAAKA,UAAY,mBACf,uBAAGA,UAAU,2BAA2BG,QAzE9C,SAAqB+C,GACnBA,EAAE+S,iBACFzS,SAAS+Q,uBAAuB,UAAU,GAAGjU,MAAMkP,QAAQ,OAC3DhM,SAAS+Q,uBAAuB,eAAe,GAAGjU,MAAMkP,QAAQ,QAChEsE,IACA1T,QAAQC,IAAI,8BAqER,uBAAGL,UAAU,sCAAsCG,QAXzD,SAAoB+C,GAClBA,EAAE+S,iBACFhC,IACA7T,QAAQC,IAAI,0BAUA,QAATtB,EAAgB,kBAAC,EAAD,MAAgB,kBAACmX,EAAD,CAAKnX,KAAMA,EAAMC,SAAUA,EAAUmX,eAhR1E,SAA0BC,GACxBxD,EAAawD,QUoB8CC,IAAI,QAC3D,kBAAC,IAAD,CAAO3D,OAAK,EAAC5R,KAAO,eAAe6R,URW5B,SAAexT,GAC5B,IAAMJ,EAAOI,EAAM0T,SAASvT,MAAMS,KAAK4F,MAAM,EAAE,GACzC3G,EAAWG,EAAM0T,SAASvT,MAAMS,KAAK4F,MAAM,EAAG,IAFjB,EAGL9D,mBAAS,IAHJ,mBAG5B+C,EAH4B,KAGnB0R,EAHmB,OAILzU,mBAAS,WAJJ,mBAK7BlC,GAL6B,UAKlBC,eALkB,EAOLiC,mBAAS,IAPJ,mBAO5B0U,EAP4B,KAOnBC,EAPmB,KA0QnC,OAjQAnL,qBAAU,WACR,IAAIoL,EAAa,EACjBtC,aAAaC,QAAQ,uBAAwBC,KAAKC,UAAUmC,IAC5D,IAAMC,EAAclT,SAAS+Q,uBAAuB,eAAe,GAC7DpE,EAAa3M,SAAS+Q,uBAAuB,cAAc,GAE7DoC,EAAY,CAAE5D,OAAQ,IACpB6D,EAAqBzC,aAAawB,QAAQ,aAE1C1V,EAAMd,EAAM0T,SAASvT,MAAMW,GACjC4Q,IAASC,YAAYC,WAAW,UAAU8F,MAAMhG,IAASC,UAAUgG,UAAUC,aAAc,KAAM9W,GAAIiR,MACpGjO,MAAK,SAAC+T,GACHA,EAAK5L,SAAQ,SAACgG,GACThR,QAAQC,IAAI+Q,EAAIjO,QAChBwT,EAAYtC,KAAKqB,MAAMtE,EAAIjO,OAAOqR,uBAEtCT,OAAM,SAACkD,GACR7W,QAAQC,IAAI4W,MAGU,MAAtBL,IAA4BD,EAAYtC,KAAKqB,MAAMkB,IAItC/F,IAAS2E,UAAUC,MACzBI,MAAO5V,GAAKiX,iBAAiBjU,MAAK,SAACP,GAC5CyU,EAAYC,IAAM1U,EAClByR,aAAaC,QAAQ,MAAO1R,MAC3BqR,OAAM,SAAC7Q,GACR9C,QAAQC,IAAI6C,MAId,IAAMmU,EAAa7T,SAASyD,cAAc,OAC1CzD,SAASyH,eAAe,QAAQqF,YAAY+G,GAC5CA,EAAW/W,MAAMkP,QAAU,OAC3B,IACI8H,EADEH,EAAc3T,SAASyH,eAAe,gBAG5CkM,EAAY7L,iBAAiB,WAAW,SAACpI,GACvC9C,QAAQC,IAAI,4BACZD,QAAQC,IAAI6C,MAGdmU,EAAWrX,UAAY,eAEvB,IAAIsC,EAAI,EACJiV,GAAS,EA0Db,SAASC,IACPH,EAAW/W,MAAMkP,QAAU,OAC3B+H,GAAS,EACTpD,aAAaC,QAAQ,uBAAwBC,KAAKC,UAAUmC,IAI9D,SAASgB,IAON,IAAIC,EAEJ,SAASxN,IAEL,IAAI7G,EAAQsT,EAAU5D,OAAOzQ,GACxBe,IAKJoT,EADmD,OAAjDtC,aAAawB,QAAQ,wBACVtB,KAAKqB,MAAMvB,aAAawB,QAAQ,yBAA2BpC,KAAKC,MAAQ8D,EAG7C,GAA1B/D,KAAKC,MAAQ8D,GAG1BjU,EAAMiQ,MAAQmD,KA8DvB,SAAmBpT,EAAOgU,GACxB,GAAmB,cAAfhU,EAAMtD,KAAsB,CAE9BsX,EAAW/W,MAAMqX,KAAOtD,KAAKC,UAAUjR,EAAMqE,GAAK,KAClD2P,EAAW/W,MAAMqL,IAAM0I,KAAKC,UAAUjR,EAAMsE,GAAK,KACjD,IAAM7G,EAAOuC,EAAMoB,OACnBmT,EAAmBvU,EAAM3D,UACzB,IAAImY,EAAMrU,SAAS+Q,uBAAuBzT,GAAM,GACrC,MAAP+W,GACFA,EAAIC,QAIW,UAAfzU,EAAMtD,OAERgY,EAAWV,EAAY,SAEZ,OADXQ,EAAMrU,SAAS+Q,uBAAuBlR,EAAMoB,QAAQ,MAElDmT,EAAmBvU,EAAM3D,UACzBkY,EAAmBvU,EAAMoB,QACzBsT,EAAWF,EAAK,aAGpB,GAAmB,UAAfxU,EAAMtD,KAAkB,CAC1B,IAAMe,EAAOuC,EAAMoB,OAER,OADXoT,EAAMrU,SAAS+Q,uBAAuBzT,GAAM,MAE1C+W,EAAIC,QACM,kBAAPhX,EACD+W,EAAI5Y,MAAQoE,EAAMpE,OAEhBH,EAAMuE,EAAM3D,UAAUT,MAAQoE,EAAMpE,MACpC2Y,EAAmBvU,EAAM3D,UACzB4W,EAAWjT,EAAMpE,SAIzB,GAAkB,WAAfoE,EAAMtD,KAAmB,CAC1B,IAAMe,EAAOuC,EAAMoB,OAER,OADXoT,EAAMrU,SAAS+Q,uBAAuBzT,GAAM,MAE1C+W,EAAIC,QACM,mBAAPhX,IACD+W,EAAI5Y,MAAQoE,EAAMpE,aAKtBuX,EAAWnT,GA5GR2U,CAAU3U,EAAOgU,GACjB/U,MAIEA,GAAKqU,EAAU5D,OAAOxQ,QAAUgV,IAClCU,cAAcP,IA7BsC,MAArDlU,SAAS+Q,uBAAuB,eAAe,KAAY/Q,SAAS+Q,uBAAuB,eAAe,GAAGvU,UAAY,iBAE5HqX,EAAW/W,MAAMkP,QAAU,QAC3B8H,EAAY/D,KAAKC,MACjB+D,GAAS,EAgCXG,EAASQ,aAAY,WACfX,GAAQrN,MACX,GAIJ,SAAS0N,EAAmBnT,GAC1B,OAAQA,GACN,IAAK,aAIL,IAAK,SAIL,IAAK,oBAIL,IAAK,cACH9E,EPhNC,CACHI,KAAO,cOgNLJ,EP7NC,CACHI,KAAM,eO6NJ,MACF,IAAK,sBACAJ,EP1NF,CACHI,KAAM,gBO0NJ,MACF,IAAK,YAGL,IAAK,mBACHJ,EPlPC,CACHI,KAAM,QOkPL,MACD,IAAK,aACDJ,EP/OD,CACHI,KAAM,SO+OL,MACD,IAAK,YAGL,IAAK,oBACDJ,EPjQD,CACHI,KAAM,QO2TV,SAASgY,EAAWI,EAAInY,GACtBmY,EAAGC,UAAU9I,IAAItP,GACjBqY,YAAW,WACTF,EAAGC,UAAUE,OAAOtY,KACnB,KA5MLmX,EAAY7L,iBAAiB,WAAW,WACtC9H,SAAS+Q,uBAAuB,kBAAkB,GAAGjU,MAAMkP,QAAU,QACrEhM,SAAS+Q,uBAAuB,UAAU,GAAGjU,MAAMkP,QAAU,OAC7DpP,QAAQC,IAAI,aAGd8W,EAAY7L,iBAAiB,QAAQ,WACnC6E,EAAW7P,MAAMkP,QAAQ,OACzBiI,IACArX,QAAQC,IAAI,iBAGd8W,EAAY7L,iBAAiB,SAAS,WACpClL,QAAQC,IAAI,iBACZmX,OAGFL,EAAY7L,iBAAiB,SAAS,WACpCkM,IACApX,QAAQC,IAAI,kBAGd8W,EAAY7L,iBAAiB,WAAW,WACtC+L,EAAW/W,MAAMkP,QAAU,OAC3BgI,IACAL,EAAYoB,QAKZ,IAHA,IAAMC,EAAUrB,EAAYsB,YAGpB/Q,EAAE,EAAEA,EAAEiP,EAAU5D,OAAOxQ,OAAOmF,IACpC,GAAGiP,EAAU5D,OAAOrL,GAAG4L,KAAa,IAARkF,EAAa,CACvClW,EAAEoF,EACF,MAIJtH,QAAQC,IAAIiC,GACZlC,QAAQC,IAAIsW,EAAU5D,OAAOzQ,GAAGgR,MAChClT,QAAQC,IAAImY,GAER7B,EAAU5D,OAAOzQ,GAAGgR,KAAc,IAARkF,EAC5BrE,aAAaC,QAAQ,uBAAwBuC,EAAU5D,OAAOzQ,GAAGgR,MAEjEa,aAAaC,QAAQ,uBAAgC,IAARoE,MAKjDrI,EAAW7E,iBAAiB,SAAS,WACnC6E,EAAW7P,MAAMkP,QAAQ,OACzBkH,EAAYpW,MAAMkP,QAAQ,OAC1B2H,EAAYuB,OACZjB,SAyJD,IAGD,6BACE,kBAAC/I,EAAD,MACA,yBAAK1O,UAAY,kBACjB,yBAAKA,UAAY,eAET,QAAPjB,EAAe,kBAAC,EAAD,CAAoBsE,MAAOkT,IAAY,kBAACL,EAAD,CAAKnX,KAAMA,EAAMC,SAAUA,EAAU4F,QAASA,KAErG,yBAAK5E,UAAU,cACf,yBAAKA,UAAU,aAAY,uBAAGA,UAAU,yBAExC,yBAAKA,UAAY,eACjB,2BAAOC,GAAG,eAAe0Y,SAAS,WAAWC,aAAa,qBQhSxD,kBAAC,IAAD,CAAOlG,OAAK,EAAC5R,KAAO,IAAI6R,UC9CjB,WAEX,IAAMvN,EAAUS,cAMhB,OACI,oCACA,4BAAQ7F,UAAY,aAAaG,QAJR,kBAAMiF,EAAQqF,KAAK,iBAI5C,sBAEA,4BAAQzK,UAAY,WAAWG,QATH,kBAAMiF,EAAQqF,KAAK,eAS/C,mBAEA,4BAAQtK,QAVgB,kBAAMiF,EAAQqF,KAAK,gBAU3C,iBACA,4BAAQzK,UAAY,aAAaG,QAVN,kBAAMiF,EAAQqF,KAAK,yBAU9C,+BAEA,4BAAQzK,UAAY,WAAWG,QAVN,kBAAMiF,EAAQqF,KAAK,4BAU5C,qCDkCNjH,SAASyH,eAAe,U","file":"static/js/main.0730efb1.chunk.js","sourcesContent":["const someJSCodeExample = ``;\n\nconst someCSSCodeExample = ``;\n\nconst someHTMLCodeExample = ``;\n\nconst someCCodeExample = ``;\n\nconst someCpp99CodeExample = ``\n\nconst someCppCodeExample = ``\n\nconst someCpp14CodeExample = ``\n\nconst someCpp17CodeExample = ``\n\nconst somePython2CodeExample = ``\n\nconst somePython3CodeExample = ``\n\nconst files = {\n  \"script.js\": {\n    name: \"script.js\",\n    language: \"javascript\",\n    value: someJSCodeExample\n  },\n  \"style.css\": {\n    name: \"style.css\",\n    language: \"css\",\n    value: someCSSCodeExample\n  },\n  \"index.html\": {\n    name: \"index.html\",\n    language: \"html\",\n    value: someHTMLCodeExample\n  },\n  \"c\": {\n    name: \"main.c\",\n    language: \"cpp\",\n    value: someCCodeExample\n  },\n  \"c99\": {\n    name: \"main.cpp\",\n    language: \"cpp\",\n    value: someCpp99CodeExample\n  },\n  \"cpp\": {\n    name: \"main.cpp\",\n    language: \"cpp\",\n    value: someCppCodeExample\n  },\n  \"cpp14\": {\n    name: \"main.cpp\",\n    language: \"cpp\",\n    value: someCpp14CodeExample\n  },\n  \"cpp17\": {\n    name: \"main.cpp\",\n    language: \"cpp\",\n    value: someCpp17CodeExample\n  },\n  \"python2\": {\n    name: \"python\",\n    language: \"python\",\n    value: somePython2CodeExample\n  },\n  \"python3\": {\n    name: \"python\",\n    language: \"python\",\n    value: somePython3CodeExample\n  }\n};\n\nexport default files;\n","import React from \"react\";\nimport ReactModal from \"react-modal\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport Editor from \"@monaco-editor/react\";\nimport { js, css, html, outputModalTrue, outputModalFalse, setSrcDocs } from '../../actions'\nimport files from \"../../assets/files\";\nimport \"./style.css\"\n\nfunction TextEditor(props) {\n  const srcDoc = useSelector(state => state.srcDocs);\n  const modalActive = useSelector(state => state.outputModal);\n\n  const fileName = useSelector(state => state.fileName);\n  const dispatch = useDispatch();\n\n  const file = files[fileName];\n\n  function handleEditorChange(value) {\n    file.value = value;\n  }\n\n  const handleOutput = () => {\n    dispatch(setSrcDocs());\n    dispatch(outputModalTrue());\n    console.log(\"l\")\n  }\n\n  function handleCloseModal() {\n    dispatch(outputModalFalse());\n  }\n\n  return (\n    <div className = \"text-editor\">\n\n    {/* Sidebar   */}\n    <div className = \"editor-sidebar\">\n    <div className = \"sidebar-heading\">\n      <span id = \"explorer-spam\" >Explorer</span>\n      <button className = \"sidebar-add-file\">\n        {/* <i className = \"fas fa-plus\" style = {{color : \"#fffffe\" }}></i>  */}\n      </button>\n    </div>\n    <div className = \"sidebar-navbutton\">\n\n     <button\n        className = \"htmlfile\"\n        disabled={fileName === \"index.html\"}\n        onClick={() => dispatch(html()) }\n      >\n      <i className =\"fab fa-html5\"></i> <span className = \"buttontext html\" >{files[\"index.html\"].name} </span>\n     </button>\n\n     <button\n        className = \"cssfile\"\n        disabled={fileName === \"style.css\"}\n        onClick={() => dispatch(css())}\n      > \n      <i className = \"fab fa-css3-alt\"></i> <span className = \"buttontext style\" >{files[\"style.css\"].name} </span>\n      </button>\n\n      <button\n        className = \"jsfile\"\n        disabled={fileName === \"script.js\"}\n        onClick={() => dispatch(js())}\n      >\n      <i className=\"fab fa-js-square\"></i> <span className = \"buttontext script\" >{files[\"script.js\"].name} </span>\n      </button>\n\n\n    </div>\n    <div className = \"sidebar-footer\">\n    <button onClick={handleOutput} style = {{color : \"white\", backgroundColor: \"green\", padding: \"5px\", borderRadius: \"5px\"}} className=\"output\"><i style = {{color : \"white\"}} className=\"fas fa-play\"></i><span className = \"outputtext\" style = {{color : \"white\", backgroundColor: \"green\"}}> See Output</span></button>\n    </div>\n    </div>\n\n    {/* Editor */}\n    <div className = \"editor\">\n    <Editor\n            height=\"100vh\"\n            width=\"94vw\"\n            theme=\"vs-light\"\n            path={file.name}\n            defaultLanguage={file.language}\n            defaultValue={file.value}\n            saveViewState={true}\n            onChange={handleEditorChange}\n            cursorSmoothCaretAnimation = \"true\"\n            value={file.value}\n          />\n    </div>\n\n\n    <ReactModal\n            className=\"outputModal Modal\"\n            isOpen={modalActive}\n            contentLabel=\"onRequestClose Example\"\n            onRequestClose={handleCloseModal}\n            overlayClassName=\"Overlay\"\n            ariaHideApp={false}\n          >\n           \n            <div className=\"closeButton\"><i className=\"fas fa-window-close\" onClick={handleCloseModal}></i></div>\n            <iframe\n              srcDoc={srcDoc}\n              title=\"output\"\n              className=\"outputiframe\"\n              sandbox=\"allow-scripts\"\n              frameBorder=\"0\"\n            />\n          \n          </ReactModal>\n\n    </div>\n  );\n}\n\nexport default TextEditor;\n","export const js = () => {\n    return {\n        type: \"js\"\n    };\n};\n\nexport const css = () => {\n    return {\n        type: \"css\"\n    };\n};\n\nexport const html = () => {\n    return {\n        type: \"html\"\n    };\n};\n\nexport const outputModalTrue = () => {\n    return {\n        type: \"outputtrue\"\n    };\n};\n\nexport const outputModalFalse = () => {\n    return {\n        type: \"outputfalse\"\n    };\n};\n\nexport const setSrcDocs = () => {\n    return {\n        type : \"setSrcdoc\",\n    }\n}\n\nexport const c = () => {\n    return {\n        type : \"c\",\n    }\n}\n\nexport const c99 = () => {\n    return {\n        type : \"c99\",\n    }\n}\n\nexport const cpp = () => {\n    return {\n        type : \"cpp\",\n    }\n}\n\nexport const cpp14 = () => {\n    return {\n        type : \"cpp14\",\n    }\n}\n\nexport const cpp17 = () => {\n    return {\n        type : \"cpp17\",\n    }\n}\n\nexport const python2 = () => {\n    return {\n        type : \"python2\",\n    }\n}\n\nexport const python3 = () => {\n    return {\n        type : \"python3\",\n    }\n}","import React, { useState, useEffect } from \"react\";\nimport Editor from \"@monaco-editor/react\";\nimport files from \"../../assets/files\";\nimport { c, c99, cpp, cpp14, cpp17, python2, python3 } from \"../../actions\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { runCode } from \"../../actions/outputAction\";\nimport \"./style.css\";\nfunction MultiFile(props) {\n  const [language, setLanguage] = useState(props.language);\n  const fileName = useSelector((state) => state.language);\n  const dispatch = useDispatch();\n  const [outputValue, setOutputValue] = useState(\"\");\n  const [inputValue, setInputValue] = useState(\"\");\n  const file = files[language];\n\n  function handleEditorChange(value) {\n    file.value = value;\n  }\n\n  function handleEditorWillMount(monaco) {\n    monaco.editor.defineTheme(\"my-cool-theme\", {\n      base: \"vs-dark\",\n      inherit: true,\n      rules: [],\n      colors: { \"editor.background\": \"#293738\" }\n    });\n  }\n\n  const languageList = {\n    \"Python 2\": \"python2\", \n    C: \"c\",\n    \"C-99\": \"c99\",\n    \"C++\": \"cpp\",\n    \"C++ 14\": \"cpp14\",\n    \"C++ 17\": \"cpp17\",\n    \"Python 3\": \"python3\",\n  };\n\n  // useEffect(() => {\n  //   const select = document.getElementsByClassName(\"language\")[0]\n  //   for (let key in languageList) {\n  //     var option = document.createElement(\"option\");\n  //     option.text = key;\n  //     option.value = languageList[key];\n  //     option.className = languageList[key];\n  //     select.add(option);\n  //   }\n\n  //   select.addEventListener(\"change\", (e) => {\n  //     setLanguage(select.value);\n  //     if (select.value === \"c\") {\n  //       dispatch(c());\n  //     }\n  //     if (select.value === \"c99\") {\n  //       dispatch(c99());\n  //     }\n  //     if (select.value === \"cpp\") {\n  //       dispatch(cpp());\n  //     }\n  //     if (select.value === \"cpp\") {\n  //       dispatch(cpp());\n  //     }\n  //     if (select.value === \"cpp14\") {\n  //       dispatch(cpp14());\n  //     }\n  //     if (select.value === \"cpp17\") {\n  //       dispatch(cpp17());\n  //     }\n  //     if (select.value === \"python2\") {\n  //       dispatch(python2());\n  //     }\n  //     if (select.value === \"python3\") {\n  //       dispatch(python3());\n  //     }\n  //   });\n  // }, []);\n\n  function userOutput(e) {\n    console.log(e);\n  }\n\n  function handleInput(e) {\n    setInputValue(e.target.value);\n  }\n\n  function handleOutput() {\n    const words = file.value.split(\"\\r\");\n    let code = \"\";\n    for (let i = 0; i < words.length; i++) {\n      code = code + words[i];\n    }\n    dispatch(runCode(language, code, inputValue)).then((e) => {\n      setOutputValue(e.data.output);\n      const data = {\n        output: e.data.output,\n      };\n      //creating a custom like predefined events like click or mousemove and more\n      const event = new CustomEvent(\"output\", { detail: data });\n      //dispatching the event in document.documentElement where we listen for it in while recording\n      document.documentElement.dispatchEvent(event);\n    });\n  }\n\n  return (\n    <>\n      <div className=\"multilanguageIde\">\n        <div className=\"navbar\">\n          <span className=\"fileName\">main \n          {language === \"python2\" || language === \"python3\" ? \".py\": \".cpp\"}\n          </span>\n          <div className=\"optionButton\">\n            <button\n              className=\"showCodeOutput\"\n              style={{\n                color: \"white\",\n                cursor: \"pointer\",\n                backgroundColor: \"green\",\n                borderRadius: \"5px\",\n                padding:\"4px\"\n              }}\n              onClick={handleOutput}\n            >\n              Run\n            </button>\n          </div>\n        </div>\n        <div className=\"editor\">\n          <Editor\n            height=\"100vh\"\n            width=\"80vw\"\n            theme=\"vs-light\"\n            language=\"cpp\"\n            options={{ fontSize: 18, fontWeight: 400, fontFamily: \"cursive\" }}\n            onChange={handleEditorChange}\n            value={file.value}\n            beforeMount={handleEditorWillMount}\n          />\n          <div className=\"inputOutput\">\n            <div className=\"inputArea\">\n              <h3>Input</h3>\n              <textarea\n                rows=\"20\"\n                cols=\"52\"\n                className=\"userInputArea\"\n                onChange={handleInput}\n                placeholder=\"Enter Input\"\n              ></textarea>\n            </div>\n            <div className=\"outputArea\">\n              <h3>Output</h3>\n              <textarea\n                rows=\"20\"\n                cols=\"52\"\n                className=\"userOutputArea\"\n                onChange={userOutput}\n                value={outputValue}\n              ></textarea>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default MultiFile;\n","import axios from \"axios\";\n\nconst env = process.env.NODE_ENV; // current environment\n\nexport const runCode = (language, code, input) => async dispatch => {\n    let url\n    if(env === \"development\") {\n        url = 'http://localhost:5000/'\n    }else{\n        url = 'https://fierce-reef-05156.herokuapp.com/' \n    }\n    return await axios.post( url+'api/compile', {\n        language: language, \n        stdin:input,\n        versionIndex: \"0\",\n        script:code\n    })\n}\n","import React from 'react';\nimport TextEditor from './TextEditor/TextEditor';\nimport MultiFile from './MultilanguageEditor/multiFile';\n\nfunction App(props) {\n  return (\n    <>\n    {props.name === \"ide\" ? <TextEditor refresh = {props.refresh}/> :<MultiFile language={props.language} refresh = {props.refresh}/>}\n    </>\n  )\n}\n\nexport default App;","import React, { useEffect, useLayoutEffect, useState} from 'react';\nimport rough from 'roughjs/bundled/rough.esm'\nimport getStroke from 'perfect-freehand';\nimport \"./style.css\";\n\n//A generator is a readonly property that lets you create a drawable object for a shape that can be later used with the draw method.\nconst generator = rough.generator()\n\nconst useHistory = (initialState) => {\n  const [index, setIndex] = useState(0)\n  const [ history, setHistory] = useState([initialState])\n  const setState = (action ,overwrite = false) => {\n    const newState = typeof action === \"function\" ?  action(history[index]) : action\n    \n    if(overwrite) {\n      const historyCopy = [...history];\n      historyCopy[index] = newState\n      setHistory(historyCopy)\n    }else {\n      const updatedState = [...history].slice(0, index+1)\n      setHistory(prevState => [...updatedState, newState])\n      setIndex(prevState=> prevState+1)\n    } \n  }\n\n  const undo = () => {\n    console.log(\"WORTT\")\n    index>0 && setIndex(prevState=> prevState-1)\n  }\n\n  const redo = () => index<history.length-1 && setIndex(prevState=> prevState+1)\n\n  return [history[index], setState, undo, redo]\n}\n\n\n\nfunction DrawingBoard() {\n\n  const [elements, setElementState, undo, redo] = useHistory([])\n  const [fill, setFill] = useState('transparent')\n  const [fillStyle, setFillStyle] = useState('solid')\n  const [strokeColor, setStrokeColor] = useState('black')\n  const [strokeWidth ,setStrokeWidth] = useState('1')\n  const [elementType ,setTool] = useState('selection')\n  const [action, setAction] = useState('none')\n  const [selectedElement, setSelectedElement] =useState('none')\n  const [points, setPoints] = useState([]);\n\n\n  function createElement(id, x1,y1,x2,y2,type, fill=\"transparent\", fillStyle=\"solid\", stroke=\"black\", strokeWidth=2) {\n    let roughElement\n    switch (type) {\n      case \"line\":\n        roughElement = generator.line(x1,y1,x2,y2, {strokeWidth:strokeWidth, stroke:stroke})\n        return {id, x1, y1, x2, y2, type,roughElement}\n        case \"arrow\":\n          roughElement = generator.line(x1,y1,x2,y2, {strokeWidth:strokeWidth, stroke:stroke})\n          return {id, x1, y1, x2, y2, type,roughElement}  \n        case \"rectangle\":\n        roughElement = generator.rectangle(x1,y1,x2-x1,y2-y1, {fill: fill, fillStyle:fillStyle, stroke:stroke, strokeWidth:strokeWidth })\n        return {id, x1, y1, x2, y2, type,roughElement}\n        case \"circle\":\n        const a = {x:x1, y:y1}\n        const b = {x:x2, y:y2}\n        const diameter = Math.round(distance(a,b))\n        roughElement = generator.circle(Math.round((x1+x2)/2),Math.round((y1+y2)/2),diameter, {fill:fill, fillStyle:fillStyle, stroke:stroke, strokeWidth:strokeWidth})\n        return {id, x1, y1, x2, y2, type,roughElement}\n        case \"pencil\":\n        return {id,type, points:[{x:x1,y:y1}]}\n      default:\n        throw new Error(`Type not recognised`)\n      }\n  }\n\n  const updateElement = (id,x1,y1, x2, y2, type, fill, fillStyle, stroke,strokeWidth) => {\n    // const updatedElement = createElement(id,x1,y1,x2,y2,type, fill, fillStyle, stroke,strokeWidth)\n    //console.log(type)\n    const elementsCopy = [...elements]\n    switch(type){\n      case \"line\":\n      case \"rectangle\":\n      case \"circle\":\n      case \"arrow\":\n        const updatedElement = createElement(id,x1,y1,x2,y2,type, fill, fillStyle, stroke,strokeWidth)\n        elementsCopy[id] = updatedElement\n        break;\n      case \"pencil\":\n        //when updating for pencil copy the previous points and add new ones to assign them to points object\n        elementsCopy[id].points  = [...elementsCopy[id].points, {x:x2,y:y2}]\n        break;\n      default:\n        throw new Error('Type not recognised') \n    }\n    setElementState(elementsCopy, true)\n  }\n\n  const distance = (a, b) => Math.sqrt(Math.pow(a.x - b.x, 2) + Math.pow(a.y - b.y, 2));\n\n  const nearPoint = (x,y,x1,y1,name) => {\n    return Math.abs(x-x1) < 5 && Math.abs(y-y1) < 5 ? name : null \n  }\n\n  const onLine = (x1,y1,x2,y2,x,y, maxDistance=1) => {\n    const a = {x:x1, y:y1}\n    const b = {x:x2, y:y2}\n    const c = {x, y}\n    const offset = distance(a,b) - (distance(a,c) + distance(b,c))\n    return Math.abs(offset) < maxDistance ? \"inside\" : null\n  }\n\n  const positionWithinElement = (x,y,element) => {\n    const {type,x1,x2,y1,y2} = element\n    if(type === \"line\"){\n      const on = onLine(x1,y1,x2,y2,x,y)\n      const start = nearPoint(x,y,x1,y1,\"start\")\n      const end = nearPoint(x,y,x2,y2, \"end\")\n      return start || end || on\n    }else if(type === \"rectangle\"){\n      const topLeft = nearPoint(x, y, x1, y1, \"tl\");\n      const topRight = nearPoint(x, y, x2, y1, \"tr\");\n      const bottomLeft = nearPoint(x, y, x1, y2, \"bl\");\n      const bottomRight = nearPoint(x, y, x2, y2, \"br\");\n      const inside = x >= x1 && x <= x2 && y >= y1 && y <= y2 ? \"inside\" : null;\n      return topLeft || topRight || bottomLeft || bottomRight || inside;\n    }\n    else if(type===\"circle\"){\n      const a = {x:x1, y:y1}\n      const b = {x:x2, y:y2}\n      const radius = distance(a,b)/2\n      const c = {x:(x1+x2)/2, y:(y1+y2)/2}\n      const d = {x, y}\n      const offset = distance(c,d)\n      if(offset<radius){\n        return \"inside\"\n      }else if(offset>radius && offset-radius<3){\n        //console.log(offset, radius)\n        return \"circumference\"\n      }else{\n        return null\n      }\n    }else if(type===\"pencil\"){\n      const betweenAnyPoint = element.points.some((point, index) => {\n        const nextPoint = element.points[index+1]\n        if(!nextPoint) return false // if only one point\n        //think of the two points forming a line then check how far is the user click\n        return onLine(point.x, point.y,nextPoint.x,nextPoint.y, x,y) !== null\n      })\n      return betweenAnyPoint ? \"inside\" : null\n    }\n  }\n\n  //return the element on which mousedown event was performed and map position of the cursor within the element like inside on near the corner\n  function getElementAtPosition(x,y,elements){\n    return elements\n    .map(element => ({...element, position:positionWithinElement(x,y,element)}))\n    .find(element => element.position !== null)\n  }\n\n  const adjustElementCorrdinates = element => {\n    const {type, x1,y1,x2,y2} = element\n    if(type === \"rectangle\"){\n      const minX = Math.min(x1,x2)\n      const maxX = Math.max(x1,x2)\n      const minY = Math.min(y1,y2) \n      const maxY = Math.max(y1,y2)\n      return {x1:minX, y1:minY, x2:maxX ,y2:maxY }\n    }else {\n      if((x1<x2 || x1 === x2 )&& y1<y2){\n        return {x1,y1,x2,y2}\n      }else{\n        return {x1:x2,y1:y2,x2:x1,y2:y1}\n      }\n    }\n  }\n\n    //The function below will turn the points returned by getStroke into SVG path data.\n    const getSvgPathFromStroke = (stroke) => {\n      if (!stroke.length) return ''\n    \n      const d = stroke.reduce(\n        (acc, [x0, y0], i, arr) => {\n          const [x1, y1] = arr[(i + 1) % arr.length]\n          acc.push(x0, y0, (x0 + x1) / 2, (y0 + y1) / 2)\n          return acc\n        },\n        ['M', ...stroke[0], 'Q']\n      )\n    \n      d.push('Z')\n      return d.join(' ')\n    }\n\n  function drawElement(roughCanvas, context, element) {\n    switch (element.type) {\n      case \"line\":\n      case \"rectangle\":\n      case \"circle\":\n        roughCanvas.draw(element.roughElement)\n      break\n      case \"pencil\":\n        //getStroke returns an array of points representing the outline of a stroke\n        const stroke = getSvgPathFromStroke(getStroke(element.points, {\n          size:5\n        }))\n        //The Path2D interface of the Canvas 2D API is used to declare a path that can then be used on a CanvasRenderingContext2D object\n        context.fill(new Path2D(stroke))\n        break;\n      case \"arrow\":\n        roughCanvas.draw(element.roughElement)\n        //console.log(element)\n        // if(element.x1 !== element.x2 || element.y1 !== element.y2)\n        if(element.y2>element.y1+10){\n          roughCanvas.line(element.x2,element.y2, element.x2-20, element.y2-30, {strokeWidth:strokeWidth})\n          roughCanvas.line(element.x2,element.y2, element.x2+20, element.y2-30, {strokeWidth:strokeWidth})\n        }\n        else if(element.y2<element.y1){\n          roughCanvas.line(element.x2,element.y2, element.x2-20, element.y2+30, {strokeWidth:strokeWidth})\n          roughCanvas.line(element.x2,element.y2, element.x2+20, element.y2+30, {strokeWidth:strokeWidth})\n        }\n        else if(element.x2>=element.x1){\n          console.log(\"THUIS CASE\")\n          roughCanvas.line(element.x2,element.y2, element.x2-30, element.y2-20, {strokeWidth:strokeWidth})\n          roughCanvas.line(element.x2,element.y2, element.x2-30, element.y2+20, {strokeWidth:strokeWidth})\n        }\n        else if(element.x1>element.x2){\n          //console.log(\"THUIS CASE\")\n          roughCanvas.line(element.x2,element.y2, element.x2+30, element.y2-20, {strokeWidth:strokeWidth})\n          roughCanvas.line(element.x2,element.y2, element.x2+30, element.y2+20, {strokeWidth:strokeWidth})\n        }\n        break;\n        default:\n          throw new Error (`Type not recognised ${element.type}`)\n    }\n  }\n  \n  useLayoutEffect(() => {\n    const canvas = document.getElementById(\"canvas\")\n    const context = canvas.getContext(\"2d\");\n    context.clearRect(0, 0, canvas.width, canvas.height);\n    const roughCanvas = rough.canvas(canvas)\n    elements.forEach(element => drawElement(roughCanvas, context, element))\n  }, [elements])//run if elements state changes\n  \n  useEffect(() => {\n    const fill = document.getElementById(\"fill\")\n    const stroke = document.getElementById(\"stroke\")\n    const strokeWidth = document.getElementById(\"strokeWidth\")\n    const fillStyle = document.getElementById(\"fillStyle\")\n\n    if(elementType !== \"selection\"){\n     //const fillStyle = document.getElementById(\"fillStyle\")\n     fill.addEventListener(\"change\", () => {\n      setFill(fill.value)\n    })\n\n    fillStyle.addEventListener(\"change\", () => {\n      setFillStyle(fillStyle.value)\n    })\n\n    stroke.addEventListener(\"change\", () => {\n      setStrokeColor(stroke.value)\n    })\n\n    strokeWidth.addEventListener(\"change\", () => {\n      setStrokeWidth(strokeWidth.value)\n    })\n    }\n   \n  },[])\n\n  const handleMouseDown = (event) => {\n    //starting coordinates of the line \n    const {clientX, clientY} = event\n\n    if(elementType === \"selection\"){\n      if(elements.length !== 0){\n      //return the element at the position we we clicked\n      const element = getElementAtPosition(clientX, clientY, elements)\n      //if there is a element as the clicked position\n      if(element){\n        if(element.type === \"pencil\"){\n          const xOffsets = element.points.map(point => clientX - point.x);\n          const yOffsets = element.points.map(point => clientY - point.y);\n          setSelectedElement({ ...element, xOffsets, yOffsets });\n        }else{\n          const offsetX = clientX - element.x1;\n          const offsetY = clientY - element.y1;\n          setSelectedElement({ ...element, offsetX, offsetY });\n        }\n        setElementState(prevState=>prevState)\n        if(element.position === 'inside') {\n          setAction(\"moving\")\n          const data = {\n            element:element,\n            fill:fill,\n            fillStyle:fillStyle,\n            strokeColor:strokeColor,\n            strokeWidth:strokeWidth\n          };\n          const event = new CustomEvent(\"movingStart\", { detail: data });\n          document.documentElement.dispatchEvent(event);\n        }\n        else{\n          setAction('resize')\n          const data = {\n            element:element,\n            fill:fill,\n            fillStyle:fillStyle,\n            strokeColor:strokeColor,\n            strokeWidth:strokeWidth\n          }\n          const event = new CustomEvent(\"resizeStart\", { detail: data });\n          document.documentElement.dispatchEvent(event);\n        }\n      }\n    }\n    }else{\n      const id = elements.length\n      const element = createElement(id,clientX,clientY,clientX,clientY, elementType);\n      //add new element in the elements state\n      setElementState(prevState => [...prevState, element])\n      let data\n      if(element.type === \"pencil\"){\n        data = {\n          id:id,\n          clientX:clientX,\n          clientY:clientY,\n          type:elementType,\n        }\n      }else{\n        data = {\n          id:id,\n          clientX:clientX,\n          clientY:clientY,\n          type:elementType,\n          fill:fill,\n          fillStyle:fillStyle,\n          strokeColor:strokeColor,\n          strokeWidth:strokeWidth\n        };\n      }\n      //creating a custom like predefined events like click or mousemove and more\n      const event = new CustomEvent(\"drawStart\", { detail: data });\n      //dispatching the event in document.documentElement where we listen for it in while recording\n      document.documentElement.dispatchEvent(event);\n      setSelectedElement(element)\n      setAction('drawing')\n    }\n  }\n\n  const resizedCoordinates = (clientX, clientY, position, coordiantes) => {\n    const {x1,y1,x2,y2} = coordiantes\n    switch (position) {\n      case \"tl\":\n      case \"start\":\n        return { x1: clientX, y1: clientY, x2, y2 };\n      case \"tr\":\n        return { x1, y1: clientY, x2: clientX, y2 };\n      case \"bl\":\n        return { x1: clientX, y1, x2, y2: clientY };\n      case \"br\":\n      case \"end\":\n        return { x1, y1, x2: clientX, y2: clientY };\n      case \"circumference\":\n        return {x1:clientX,y1:clientY,x2, y2}\n      default:\n        return null; //should not really get here...\n    }\n  }\n\n  //this function return the cursor type based on where it is\n  const cursorForPosition = position => {\n    switch (position) {\n      case \"tl\":\n      case \"br\":\n      case \"start\":\n      case \"end\":\n        return \"nwse-resize\";\n      case \"tr\":\n      case \"bl\":\n        return \"nesw-resize\";\n      case \"circumference\":\n        return \"nesw-resize\"\n      default:\n        return \"move\";\n    }\n  }\n\n\n  const handlePointerDown = (e) => {\n    e.target.setPointerCapture(e.pointerId);\n    setPoints([[e.pageX, e.pageY, e.pressure]]);\n  }\n\n  const handlePointerMove = (e) => {\n    if (e.buttons !== 1) return;\n    setPoints([...points, [e.pageX, e.pageY, e.pressure]]);\n  }\n\n  const handleMouseMove = (event) => {\n    //coordinates while the mouse is moving\n    const {clientX, clientY} = event\n    if(elementType === \"selection\"){\n      if(elements.length !== 0){\n        const element = getElementAtPosition(clientX, clientY, elements)\n        event.target.style.cursor = element ? cursorForPosition(element.position) : \"default\"\n      }\n    }\n \n    if(action === \"drawing\"){\n    const index = elements.length-1\n    const {x1,y1} = elements[index]\n    //console.log(x1,y1) undefined in case of pencil element\n    updateElement(index,x1,y1, clientX, clientY, elementType, fill, fillStyle, strokeColor,strokeWidth)\n    let data\n    if(elements[index].type === \"pencil\"){\n     // console.log(elements[index])\n      data={\n        id:index,\n        clientX:clientX,\n        clientY:clientY,\n        type:elementType\n      }\n    }else{\n      data = {\n        id:index,\n        x1:x1,\n        y1:y1,\n        clientX:clientX,\n        clientY:clientY,\n        type:elementType,\n        fill:fill,\n        fillStyle:fillStyle,\n        strokeColor:strokeColor,\n        strokeWidth:strokeWidth\n      }\n    }\n    //if(elements[index].type !== \"pencil\"){\n      //creating a custom like predefined events like click or mousemove and more\n      const event = new CustomEvent(\"drawing\", { detail: data });\n      //dispatching the event in document.documentElement where we listen for it in while recording\n      document.documentElement.dispatchEvent(event);\n    //}\n    }else if(action===\"moving\"){\n      if(selectedElement.type === \"pencil\"){\n        const newPoints = selectedElement.points.map((_, index) => ({\n          x: clientX - selectedElement.xOffsets[index],\n          y: clientY - selectedElement.yOffsets[index],\n        }));\n        const elementsCopy = [...elements];\n        elementsCopy[selectedElement.id].points = newPoints\n        setElementState(elementsCopy, true);\n      }else{\n        const  {id ,x1, x2, y1, y2, type, offsetX, offsetY} = selectedElement\n        const width = x2-x1\n        const height = y2-y1\n  \n        //this is done to make sure x1 and y1 don't get changed to where mousedown event was performed\n        const newX1 = clientX - offsetX\n        const newY1 = clientY - offsetY\n        updateElement(id ,newX1, newY1,newX1 + width, newY1+height, type, fill, fillStyle, strokeColor,strokeWidth)\n        const data = {\n          id:id,\n          newX1:newX1,\n          newY1:newY1,\n          newX2:newX1+width,\n          newY2:newY1+height,\n          type:type,\n          fill:fill,\n          fillStyle:fillStyle,\n          strokeColor:strokeColor,\n          strokeWidth:strokeWidth\n        };\n        //creating a custom like predefined events like click or mousemove and more\n        const event = new CustomEvent(\"moving\", { detail: data });\n        //dispatching the event in document.documentElement where we listen for it in while recording\n        document.documentElement.dispatchEvent(event);  \n      }\n    }else if(action === \"resize\"){\n      const  {id ,type,position, ...coordiantes} = selectedElement\n      const {x1,y1,x2,y2} = resizedCoordinates(clientX, clientY, position, coordiantes)\n      const data = {\n        id:id,\n        x1:x1,\n        y1:y1,\n        x2:x2,\n        y2:y2,\n        type:type,\n        fill:fill,\n        fillStyle:fillStyle,\n        strokeColor:strokeColor,\n        strokeWidth:strokeWidth\n      }\n\n      const event = new CustomEvent(\"resizing\", {detail:data})\n      document.documentElement.dispatchEvent(event)\n      updateElement(id,x1,y1,x2,y2,type, fill, fillStyle, strokeColor,strokeWidth)\n    }\n  }\n\n  const adjustmentRequired = type => [\"line\", \"rectangle\",\"circle\"].includes(type);\n\n  const handleMouseUp = () => {\n    if(elements.length !== 0){\n    if(selectedElement){\n      const index = selectedElement.id\n      const {id, type} = elements[index]\n      if ((action === \"drawing\" || action === \"resizing\") && adjustmentRequired(type)) {\n        const {x1,y1,x2,y2} = adjustElementCorrdinates(elements[index])\n        updateElement(id, x1,y1,x2,y2,type, fill, fillStyle, strokeColor,strokeWidth)\n        const data = {\n            id:index,\n            x1:x1,\n            y1:y1,\n            x2:x2,\n            y2:y2,\n            type:type,\n            fill:fill,\n            fillStyle:fillStyle,\n            strokeColor:strokeColor,\n            strokeWidth:strokeWidth\n          };\n          //creating a custom like predefined events like click or mousemove and more\n          const event = new CustomEvent(\"drawEnd\", { detail: data });\n          //dispatching the event in document.documentElement where we listen for it in while recording\n          document.documentElement.dispatchEvent(event);\n      }\n    }\n  }\n    setAction('none')\n    setSelectedElement(null)\n  }\n  \n  return (\n    <div>\n        <div className=\"drawOptions\">\n          <div className=\"allOptions\">\n              <div className=\"shapesOptions\">\n              \n                 <label className = \"tools\" htmlFor=\"selection\"><input type=\"radio\" id=\"selection\" checked = {elementType===\"selection\"} onChange={() => setTool(\"selection\")}/>\n                 <svg viewBox=\"0 0 320 512\" ><path d=\"M302.189 329.126H196.105l55.831 135.993c3.889 9.428-.555 19.999-9.444 23.999l-49.165 21.427c-9.165 4-19.443-.571-23.332-9.714l-53.053-129.136-86.664 89.138C18.729 472.71 0 463.554 0 447.977V18.299C0 1.899 19.921-6.096 30.277 5.443l284.412 292.542c11.472 11.179 3.007 31.141-12.5 31.141z\"></path></svg>\n                 </label>\n                \n\n              \n                 <label className = \"tools\" htmlFor=\"line\"> <input type=\"radio\" id=\"line\" checked = {elementType===\"line\"} onChange={() => setTool(\"line\")}/> \n                \n                 <svg viewBox=\"0 0 6 6\"><line x1=\"0\" y1=\"3\" x2=\"6\" y2=\"3\" stroke=\"currentColor\" strokeLinecap=\"round\"></line></svg>\n                 </label>\n                \n\n              \n                 <label className = \"tools\" htmlFor=\"rectangle\"> <input type=\"radio\" id=\"rectangle\" checked = {elementType===\"rectangle\"} onChange={() => setTool(\"rectangle\")}/>\n                \n                 <svg viewBox=\"0 0 448 512\"><path d=\"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z\"></path></svg>\n                 </label>\n                \n\n              \n                 <label className = \"tools\" htmlFor=\"circle\"> <input type=\"radio\" id=\"circle\" checked={elementType===\"circle\"} onChange={() => setTool(\"circle\")}/>\n                 \n                 <svg viewBox=\"0 0 512 512\"><path d=\"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z\"></path></svg>\n                 </label>\n                \n \n              \n                 <label className = \"tools\" htmlFor=\"pencil\"> <input type=\"radio\" id=\"pencil\" checked={elementType===\"pencil\"} onChange={() => setTool(\"pencil\")}/>\n              \n                 <svg viewBox=\"0 0 512 512\"><path fill=\"currentColor\" d=\"M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16 0-67.91z\"></path></svg>\n                 </label>\n                \n\n              \n                 <label className = \"tools\" htmlFor=\"arrow\">   <input type=\"radio\" id=\"arrow\" checked={elementType===\"arrow\"} onChange={() => setTool(\"arrow\")}/>\n               \n                 <svg viewBox=\"0 0 448 512\" className=\"rtl-mirror\"><path d=\"M313.941 216H12c-6.627 0-12 5.373-12 12v56c0 6.627 5.373 12 12 12h301.941v46.059c0 21.382 25.851 32.09 40.971 16.971l86.059-86.059c9.373-9.373 9.373-24.569 0-33.941l-86.059-86.059c-15.119-15.119-40.971-4.411-40.971 16.971V216z\"></path></svg>\n                 </label>\n                \n              </div>\n        \n             {elementType !== \"selection\" ? <div className=\"styleCard\">\n                  <div>\n                    Fill\n                    <select id=\"fill\">\n                      <option>transparent</option>\n                      <option>red</option>\n                      <option>green</option>\n                      <option>yellow</option>\n                      items<option>coral</option>\n                    </select>\n                  </div>\n                  <div>\n                    FillStyle\n                  <select id=\"fillStyle\">\n                    <option>solid</option>\n                    <option>hachure</option>\n                    <option>dashed</option>\n                    <option>ZigZag</option>\n                  </select>\n                  </div>\n                  <div>\n                    Stroke \n                  <select id=\"stroke\">\n                    <option>black</option>\n                    <option>red</option>\n                    <option>green</option>\n                    <option>blue</option>\n                    <option>yellow</option>\n                  </select>\n                  </div>\n                  <div>\n                   strokeWidth\n                   <select id=\"strokeWidth\">\n                     <option>2</option>\n                     <option>6</option>\n                     <option>8</option>\n                     <option>10</option>\n                   </select>\n                   </div>\n              </div> : \"\"} \n                \n        </div>\n      </div>\n     \n     <main style = {{ position : \"absolute\", top : \"0\" }}>\n      <canvas id=\"canvas\" \n      width = {window.innerWidth}\n      height = {window.innerHeight}\n      onMouseDown = {handleMouseDown}\n      onMouseMove = {handleMouseMove}\n      onMouseUp = {handleMouseUp}\n      onPointerDown={handlePointerDown}\n      onPointerMove={handlePointerMove}\n      ></canvas> \n      </main> \n      <div style={{position:\"fixed\", bottom:0, padding:10}}>\n        <button onClick={undo}>Undo</button>\n        <button onClick={redo}>Redo</button>\n      </div>\n    </div>  \n  );\n}\n\nexport default DrawingBoard;","import React from \"react\";\nimport IDE from \"../IDE\";\nimport DrawingBoard from \"../DrawingBoard/drawBoard\";\nimport files from \"../../assets/files\";\nimport MicRecorder from 'mic-recorder-to-mp3';\nimport firebase from 'firebase/app'\nimport 'firebase/firestore'\nimport 'firebase/storage';\nimport './style.css'\n\nvar startTime;\nexport default function Recorder(props) {\n  const name = props.location.state.lectureType\n  const language = props.location.state.languageType\n  const Recording = { events: [] };\n  var lastMouse = {x : 0, y : 0};\n  var lastKey = \"\";\n  let fileName\n  if(name === \"dsa\"){\n    fileName= language\n  }else if(name=== \"ide\"){\n    fileName=\"index.html\"\n  }\n  let childValue;\n  var lastKeyClass = \"\";\n\n  function callbackFunction(childData){\n    childValue = childData\n    //console.log(childValue)\n  }\n  // Record each type of event\n  const handlers = [\n    {\n      eventName: \"mousemove\",\n      handler: function handleMouseMove(e) {\n        lastMouse  = {x : e.pageX, y :e.pageY};\n        Recording.events.push({\n          type: \"mousemove\",\n          target: lastKeyClass,\n          x: e.pageX,\n          fileName : fileName,\n          y: e.pageY,\n          value: lastKey,\n          time: Date.now() - startTime,\n        });\n      },\n    },\n    {\n      eventName: \"click\",\n      handler: function handleClick(e) {\n        if(name === \"ide\" || name === \"other\"){\n          if(e.target.className === \"cssfile\" || e.target.className === \"buttontext style\" || e.target.className === \"fab fa-css3-alt\") fileName = \"style.css\"\n          if(e.target.className === \"jsfile\" || e.target.className === \"buttontext script\" || e.target.className === \" fa-js-square\") fileName = \"script.js\" \n          if(e.target.className === \"htmlfile\" || e.target.className === \"buttontext html\" || e.target.className === \"fab fa-html5fab\") fileName = \"index.html\"\n          //console.log(e.target.className);\n          Recording.events.push({\n            type: \"click\",\n            target: e.target.className,\n            x: e.pageX,\n            fileName :fileName,\n            y: e.pageY,\n            time: Date.now() - startTime,\n          });\n        }\n      },\n    },\n    {\n      eventName: \"keyup\",\n      handler: function handleKeyPress(e) {\n        console.log(files[fileName])\n        if(name === \"ide\" || name === \"dsa\"){\n          lastKey = childValue\n          lastKeyClass = e.target.className\n          Recording.events.push({\n            type: \"keyup\",\n            target: e.target.className,\n            x: lastMouse.x,\n            y: lastMouse.y,\n            fileName: fileName,\n            value: (e.target.className === \"userInputArea\") ? e.target.value :files[fileName].value,\n            keyCode: e.keyCode,\n            time: Date.now() - startTime,\n          });\n        }\n      },\n    },\n    {\n      eventName: \"click\",\n      handler: function handleClick(e) {\n        if(name === \"dsa\"){\n          if(language  === \"c\" || \n          language === \"c99\" || \n          language === \"cpp\" || \n          language === \"cpp14\" || \n          language === \"cpp17\" || \n          language === \"python2\" || \n          language === \"python3\"){\n            fileName = language\n          }\n          Recording.events.push({\n            type: \"click\",\n            target: e.target.className,\n            x: e.pageX,\n            fileName :fileName,\n            y: e.pageY,\n            value:files[fileName].value,\n            time: Date.now() - startTime,\n          });\n        }\n      },\n      },\n    {\n      eventName:\"output\",\n      handler:function handleChange(e){\n        Recording.events.push({\n          type:\"output\",\n          target:\"userOutputArea\",\n          time:Date.now() - startTime,\n          value:e.detail.output\n        })\n      }\n    },\n    {\n      eventName:\"drawStart\", \n      handler:function handleChange(e){\n      Recording.events.push({\n        type:\"drawStart\",\n        time:Date.now() - startTime,\n        value:e.detail\n        })\n      }\n    },\n    {\n      eventName:\"drawEnd\", \n      handler:function handleChange(e){\n      Recording.events.push({\n        type:\"drawEnd\",\n        time:Date.now() - startTime,\n        value:e.detail\n        })\n      }\n    },\n    {\n      eventName:\"drawing\", \n      handler:function handleChange(e){\n      Recording.events.push({\n        type:\"drawing\",\n        time:Date.now() - startTime,\n        value:e.detail\n        })\n      }\n    },\n    {\n      eventName:\"movingStart\",\n      handler:function handleChange(e){\n        Recording.events.push({\n          type:\"movingStart\",\n          time:Date.now() - startTime,\n          value:e.detail.element\n        })\n      }\n    },\n    {\n      eventName:\"moving\",\n      handler:function handleChange(e){\n        Recording.events.push({\n          type:\"moving\",\n          time:Date.now()-startTime,\n          value:e.detail\n        })\n      }\n    },\n    {\n      eventName:\"resizeStart\",\n      handler:function handleChange(e){\n        Recording.events.push({\n          type:\"resizeStart\",\n          time:Date.now() - startTime,\n          value:e.detail\n        })\n      }\n    },\n    {\n      eventName:\"resizing\",\n      handler:function handleChange(e){\n        Recording.events.push({\n          type:\"resizing\",\n          time:Date.now()-startTime,\n          value:e.detail\n        })\n      }\n    }\n  ];\n\n  const Mp3Recorder = new MicRecorder({ \n    bitRate: 128,\n    prefix: \"data:audio/wav;base64,\"\n  });\n\n  function listen(eventName, handler) {\n    return document.documentElement.addEventListener(eventName, handler, true);\n  }\n\n  function startRecording() {\n    startTime = Date.now()\n    Recording.events = [];\n    handlers.map((x) => listen(x.eventName, x.handler));\n    Mp3Recorder\n    .start()\n    .then(() => {\n      console.log(\"Started recording\")\n    }).catch((e) => console.error(e));\n  }\n\n  function removeListener(eventName, handler) {\n    return document.documentElement.removeEventListener(\n      eventName,\n      handler,\n      true\n    );\n  }\n\n  function handleClick(e) {\n    e.preventDefault();\n    document.getElementsByClassName(\"record\")[0].style.display=\"none\"\n    document.getElementsByClassName(\"stop-record\")[0].style.display=\"block\"\n    startRecording();\n    console.log(\"The Button was clicked.\");\n  }\n\n  function stopRecording() {\n    // stop recording\n    handlers.map((x) => removeListener(x.eventName, x.handler));\n    localStorage.setItem(\"recording\", JSON.stringify(Recording))\n    document.getElementsByClassName(\"stop-record\")[0].style.display=\"none\"\n    document.getElementsByClassName(\"record\")[0].style.display=\"block\"\n    const recordingString = JSON.stringify(Recording)\n    console.log(Recording)\n    firebase.firestore().collection(\"events\").add({\n      recordingString,\n      createdAt: firebase.firestore.FieldValue.serverTimestamp(),\n      name:props.location.state.lectureName,\n      creator:props.location.state.lectureCreator,\n      type:props.location.state.lectureType\n    }).then((result) => {\n      localStorage.setItem(\"recordingId\", JSON.stringify(result.id))\n      firebase.firestore().collection(\"recordIndex\").add({\n        createdAt: firebase.firestore.FieldValue.serverTimestamp(),\n        name:props.location.state.lectureName,\n        type:props.location.state.lectureType,\n        creator:props.location.state.lectureCreator,\n        language:language,\n        id:result.id\n      }).then((result) => {\n        console.log(\"Recording Tally Saved\")\n      })\n      console.log(\"Recording Saved\")\n      let audioString\n      Mp3Recorder\n      .stop()\n      .getMp3()\n      .then(([buffer, blob]) => {\n        new File(buffer, 'me-at-thevoice.mp3', {\n          type: blob.type,\n          lastModified: Date.now()\n        })\n        var reader = new FileReader();\n        reader.readAsDataURL(blob);\n        reader.onloadend = () => {\n            audioString =(reader.result)\n            var storageRef = firebase.storage().ref();\n              const id = JSON.parse(localStorage.getItem(\"recordingId\"))\n              //console.log(id)\n              localStorage.removeItem('recordingId');\n              var audioRef = storageRef.child(id);\n              audioRef.putString(audioString, 'data_url').then((snapshot) => {\n                alert('Audio saved!');\n              }).catch((e) => {\n                console.log(e)\n              })\n          }\n      }).catch((e) => console.log(e));\n    })\n  }\n\n  function handleStop(e) {\n    e.preventDefault();\n    stopRecording();\n    console.log(\"Recording Stopped.\");\n  }\n  //console.log(Recording)\n  return (\n    <>\n      <div className=\"recorder\">\n      <div className = \"recorder-button\">\n        <i className=\"fas fa-microphone record\" onClick={handleClick}></i>\n        <i className=\"fas fa-microphone-slash stop-record\" onClick={handleStop}></i>\n      </div>\n      {name === \"dra\" ?<DrawingBoard/>:<IDE name={name} language={language} parentCallBack = {callbackFunction}/>}\n      </div>\n    </>\n  );\n}\n","import React, {useEffect, useLayoutEffect, useState} from 'react';\nimport rough from 'roughjs/bundled/rough.esm'\nimport getStroke from 'perfect-freehand';\nimport \"./style.css\";\n\n//A generator is a readonly property that lets you create a drawable object for a shape that can be later used with the draw method.\nconst generator = rough.generator()\n\nconst useHistory = (initialState) => {\n  const [index, setIndex] = useState(0)\n  const [ history, setHistory] = useState([initialState])\n  const setState = (action ,overwrite = false) => {\n    const newState = typeof action === \"function\" ?  action(history[index]) : action\n    \n    if(overwrite) {\n      const historyCopy = [...history];\n      historyCopy[index] = newState\n      setHistory(historyCopy)\n    }else {\n      const updatedState = [...history].slice(0, index+1)\n      setHistory(prevState => [...updatedState, newState])\n      setIndex(prevState=> prevState+1)\n    } \n  }\n\n  const undo = () => {\n    console.log(\"WORTT\")\n    index>0 && setIndex(prevState=> prevState-1)\n  }\n\n  const redo = () => index<history.length-1 && setIndex(prevState=> prevState+1)\n\n  return [history[index], setState, undo, redo]\n}\n\nfunction DrawingBoardPlayer(props) {\n\n  //element state for the drawer player elements\n  const [elements, setElementState] = useState([])\n  //temporary element state for the user input elements\n  const [elementsUser, setUserElementState, undo, redo] = useHistory([])\n  const [fill, setFill] = useState('transparent')\n  const [fillStyle, setFillStyle] = useState('solid')\n  const [strokeColor, setStrokeColor] = useState('black')\n  const [strokeWidth ,setStrokeWidth] = useState('1')\n  const [elementType ,setTool] = useState('')\n  const [action, setAction] = useState('none')\n  const [selectedElement, setSelectedElement] =useState('none')\n  const [selectedUserElement, setSelectedUserElement] =useState('none')\n  const [points, setPoints] = useState([]);\n\n\n  function createElement(id, x1,y1,x2,y2,type, fill=\"transparent\", fillStyle=\"solid\", stroke=\"black\", strokeWidth=2) {\n    let roughElement\n    switch (type) {\n      case \"line\":\n        roughElement = generator.line(x1,y1,x2,y2, {strokeWidth:strokeWidth, stroke:stroke})\n        return {id, x1, y1, x2, y2, type,roughElement}\n        case \"arrow\":\n          roughElement = generator.line(x1,y1,x2,y2, {strokeWidth:strokeWidth, stroke:stroke})\n          return {id, x1, y1, x2, y2, type,roughElement}  \n        case \"rectangle\":\n        roughElement = generator.rectangle(x1,y1,x2-x1,y2-y1, {fill: fill, fillStyle:fillStyle, stroke:stroke, strokeWidth:strokeWidth })\n        return {id, x1, y1, x2, y2, type,roughElement}\n        case \"circle\":\n        const a = {x:x1, y:y1}\n        const b = {x:x2, y:y2}\n        const diameter = Math.round(distance(a,b))\n        roughElement = generator.circle(Math.round((x1+x2)/2),Math.round((y1+y2)/2),diameter, {fill:fill, fillStyle:fillStyle, stroke:stroke, strokeWidth:strokeWidth})\n        return {id, x1, y1, x2, y2, type,roughElement}\n        case \"pencil\":\n        return {id,type, points:[{x:x1,y:y1}]}\n      default:\n        throw new Error(`Type not recognised`)\n      }\n  }\n\n  const updateElement = (id,x1,y1, x2, y2, type, fill, fillStyle, stroke,strokeWidth) => {\n    let elementsCopy\n    if(elementsUser.length !== 0) {\n      elementsCopy = [...elementsUser]\n    }else if(elementsUser.length === 0){\n      elementsCopy = [...elements]\n    }\n    \n    switch(type){\n      case \"line\":\n      case \"rectangle\":\n      case \"circle\":\n      case \"arrow\":\n        const updatedElement = createElement(id,x1,y1,x2,y2,type, fill, fillStyle, stroke,strokeWidth)\n        elementsCopy[id] = updatedElement\n        break;\n      case \"pencil\":\n        //when updating for pencil copy the previous points and add new ones to assign them to points object\n        elementsCopy[id].points  = [...elementsCopy[id].points, {x:x2,y:y2}]\n        break;\n      default:\n        throw new Error('Type not recognised') \n    }\n    if(elementsUser.length !== 0){\n      setUserElementState(elementsCopy, true)\n    }else if(elementsUser.length === 0){\n      setElementState(elementsCopy)\n    }\n  }\n  \n\n  const distance = (a, b) => Math.sqrt(Math.pow(a.x - b.x, 2) + Math.pow(a.y - b.y, 2));\n\n  const nearPoint = (x,y,x1,y1,name) => {\n    return Math.abs(x-x1) < 5 && Math.abs(y-y1) < 5 ? name : null \n  }\n\n  const onLine = (x1,y1,x2,y2,x,y, maxDistance=1) => {\n    const a = {x:x1, y:y1}\n    const b = {x:x2, y:y2}\n    const c = {x, y}\n    const offset = distance(a,b) - (distance(a,c) + distance(b,c))\n    return Math.abs(offset) < maxDistance ? \"inside\" : null\n  }\n\n  const positionWithinElement = (x,y,element) => {\n    const {type,x1,x2,y1,y2} = element\n    if(type === \"line\"){\n      const on = onLine(x1,y1,x2,y2,x,y)\n      const start = nearPoint(x,y,x1,y1,\"start\")\n      const end = nearPoint(x,y,x2,y2, \"end\")\n      return start || end || on\n    }else if(type === \"rectangle\"){\n      const topLeft = nearPoint(x, y, x1, y1, \"tl\");\n      const topRight = nearPoint(x, y, x2, y1, \"tr\");\n      const bottomLeft = nearPoint(x, y, x1, y2, \"bl\");\n      const bottomRight = nearPoint(x, y, x2, y2, \"br\");\n      const inside = x >= x1 && x <= x2 && y >= y1 && y <= y2 ? \"inside\" : null;\n      return topLeft || topRight || bottomLeft || bottomRight || inside;\n    }\n    else if(type===\"circle\"){\n      const a = {x:x1, y:y1}\n      const b = {x:x2, y:y2}\n      const radius = distance(a,b)/2\n      const c = {x:(x1+x2)/2, y:(y1+y2)/2}\n      const d = {x, y}\n      const offset = distance(c,d)\n      if(offset<radius){\n        return \"inside\"\n      }else if(offset>radius && offset-radius<3){\n        //console.log(offset, radius)\n        return \"circumference\"\n      }else{\n        return null\n      }\n    }else if(type===\"pencil\"){\n      const betweenAnyPoint = element.points.some((point, index) => {\n        const nextPoint = element.points[index+1]\n        if(!nextPoint) return false // if only one point\n        //think of the two points forming a line then check how far is the user click\n        return onLine(point.x, point.y,nextPoint.x,nextPoint.y, x,y) !== null\n      })\n      return betweenAnyPoint ?\"inside\": null\n    }\n  }\n\n  //return the element on which mousedown event was performed and map position of the cursor within the element like inside on near the corner\n  function getElementAtPosition(x,y,elements){\n    return elements\n    .map(element => ({...element, position:positionWithinElement(x,y,element)}))\n    .find(element => element.position !== null)\n  }\n\n  const adjustElementCorrdinates = element => {\n    const {type, x1,y1,x2,y2} = element\n    if(type === \"rectangle\"){\n      const minX = Math.min(x1,x2)\n      const maxX = Math.max(x1,x2)\n      const minY = Math.min(y1,y2) \n      const maxY = Math.max(y1,y2)\n      return {x1:minX, y1:minY, x2:maxX ,y2:maxY }\n    }else {\n      if((x1<x2 || x1 === x2 )&& y1<y2){\n        return {x1,y1,x2,y2}\n      }else{\n        return {x1:x2,y1:y2,x2:x1,y2:y1}\n      }\n    }\n  }\n\n    //The function below will turn the points returned by getStroke into SVG path data.\n    const getSvgPathFromStroke = (stroke) => {\n      if (!stroke.length) return ''\n    \n      const d = stroke.reduce(\n        (acc, [x0, y0], i, arr) => {\n          const [x1, y1] = arr[(i + 1) % arr.length]\n          acc.push(x0, y0, (x0 + x1) / 2, (y0 + y1) / 2)\n          return acc\n        },\n        ['M', ...stroke[0], 'Q']\n      )\n    \n      d.push('Z')\n      return d.join(' ')\n    }\n\n  function drawElement(roughCanvas, context, element) {\n    //console.log(element)\n    switch (element.type) {\n      case \"line\":\n      case \"rectangle\":\n      case \"circle\":\n        roughCanvas.draw(element.roughElement)\n      break\n      case \"pencil\":\n        //getStroke returns an array of points representing the outline of a stroke\n        const stroke = getSvgPathFromStroke(getStroke(element.points, {\n          size:5\n        }))\n        //The Path2D interface of the Canvas 2D API is used to declare a path that can then be used on a CanvasRenderingContext2D object\n        context.fill(new Path2D(stroke))\n        break;\n      case \"arrow\":\n        roughCanvas.draw(element.roughElement)\n        //console.log(element)\n        if(element.x1 !== element.x2 || element.y1 !== element.y2)\n        if(element.y2>element.y1+10){\n          roughCanvas.line(element.x2,element.y2, element.x2-20, element.y2-30, {strokeWidth:strokeWidth})\n          roughCanvas.line(element.x2,element.y2, element.x2+20, element.y2-30, {strokeWidth:strokeWidth})\n        }\n        else if(element.y2<element.y1){\n          roughCanvas.line(element.x2,element.y2, element.x2-20, element.y2+30, {strokeWidth:strokeWidth})\n          roughCanvas.line(element.x2,element.y2, element.x2+20, element.y2+30, {strokeWidth:strokeWidth})\n        }\n        else if(element.x2>=element.x1){\n          console.log(\"THUIS CASE\")\n          roughCanvas.line(element.x2,element.y2, element.x2-30, element.y2-20, {strokeWidth:strokeWidth})\n          roughCanvas.line(element.x2,element.y2, element.x2-30, element.y2+20, {strokeWidth:strokeWidth})\n        }\n        else if(element.x1>element.x2){\n          //console.log(\"THUIS CASE\")\n          roughCanvas.line(element.x2,element.y2, element.x2+30, element.y2-20, {strokeWidth:strokeWidth})\n          roughCanvas.line(element.x2,element.y2, element.x2+30, element.y2+20, {strokeWidth:strokeWidth})\n        }\n        break;\n        default:\n          throw new Error (`Type not recognised ${element.type}`)\n    }\n  }\n  \n  useLayoutEffect(() => {\n    const canvas = document.getElementById(\"canvas\")\n    const context = canvas.getContext(\"2d\");\n    context.clearRect(0, 0, canvas.width, canvas.height);\n    const roughCanvas = rough.canvas(canvas)\n    elementsUser.forEach(element => drawElement(roughCanvas, context, element))\n    elements.forEach(element => drawElement(roughCanvas, context, element))\n  }, [elements,elementsUser])//run if elements state changes\n\n  useEffect(() => {\n    const fill = document.getElementById(\"fill\")\n    const stroke = document.getElementById(\"stroke\")\n    const strokeWidth = document.getElementById(\"strokeWidth\")\n    const fillStyle = document.getElementById(\"fillStyle\")\n    //const fillStyle = document.getElementById(\"fillStyle\")\n     fill.addEventListener(\"change\", () => {\n       setFill(fill.value)\n     })\n\n     fillStyle.addEventListener(\"change\", () => {\n       setFillStyle(fillStyle.value)\n     })\n\n     stroke.addEventListener(\"change\", () => {\n       setStrokeColor(stroke.value)\n     })\n\n     strokeWidth.addEventListener(\"change\", () => {\n       setStrokeWidth(strokeWidth.value)\n     })\n  },[])\n\n  useEffect(() => {\n    setUserElementState([], true)\n    const line = document.getElementById(\"line\")\n    const rectangle = document.getElementById(\"rectangle\")\n    const circle = document.getElementById(\"circle\")\n    const selection = document.getElementById(\"selection\")\n    const pencil = document.getElementById(\"pencil\")\n    if(props.event.type === \"drawStart\") {\n      if(props.event.value.type === \"line\"){\n          line.click()\n          const id = props.event.value.id\n          const clientX = props.event.value.clientX\n          const clientY = props.event.value.clientY\n          const elementType = props.event.value.type\n          const fill = props.event.value.fill\n          const fillStyle = props.event.value.fillStyle\n          const strokeColor = props.event.value.strokeColor\n          const strokeWidth = props.event.value.strokeWidth\n          console.log(id,clientX,clientY,clientX, clientY, elementType)\n          const element = createElement(id,clientX,clientY,clientX,clientY, elementType, fill, fillStyle, strokeColor, strokeWidth);\n          //add new element in the elements state\n          setElementState(prevState => [...prevState, element])\n      }\n      if(props.event.value.type === \"rectangle\"){\n          rectangle.click()\n          const id = props.event.value.id\n          const clientX = props.event.value.clientX\n          const clientY = props.event.value.clientY\n          const elementType = props.event.value.type\n          const fill = props.event.value.fill\n          const fillStyle = props.event.value.fillStyle\n          const strokeColor = props.event.value.strokeColor\n          const strokeWidth = props.event.value.strokeWidth\n          console.log(id,clientX,clientY,clientX, clientY, elementType)\n          const element = createElement(id,clientX,clientY,clientX,clientY, elementType,fill, fillStyle, strokeColor, strokeWidth);\n          //add new element in the elements state\n          setElementState(prevState => [...prevState, element])\n      }\n      if(props.event.value.type === \"circle\"){\n        circle.click()\n        const id = props.event.value.id\n        const clientX = props.event.value.clientX\n        const clientY = props.event.value.clientY\n        const elementType = props.event.value.type\n        const fill = props.event.value.fill\n        const fillStyle = props.event.value.fillStyle\n        const strokeColor = props.event.value.strokeColor\n        const strokeWidth = props.event.value.strokeWidth\n        console.log(id,clientX,clientY,clientX, clientY, elementType)\n        const element = createElement(id,clientX,clientY,clientX,clientY, elementType,fill, fillStyle, strokeColor, strokeWidth);\n        //add new element in the elements state\n        setElementState(prevState => [...prevState, element])\n      }\n      if(props.event.value.type === \"pencil\"){\n        pencil.click()\n        const id = props.event.value.id\n        const clientX = props.event.value.clientX\n        const clientY = props.event.value.clientY\n        const elementType = props.event.value.type\n        //console.log(id,clientX,clientY,clientX, clientY, elementType)\n        const element = createElement(id,clientX,clientY,clientX,clientY, elementType);\n        //add new element in the elements state\n        setElementState(prevState => [...prevState, element])\n      }\n    }\n    if(props.event.type === \"drawing\"){\n      const index = elements.length-1\n      const x1 = props.event.value.x1\n      const y1 = props.event.value.y1\n      const clientX = props.event.value.clientX\n      const clientY = props.event.value.clientY\n      const elementType = props.event.value.type\n      const fill = props.event.value.fill\n      const fillStyle = props.event.value.fillStyle\n      const strokeColor = props.event.value.strokeColor\n      const strokeWidth = props.event.value.strokeWidth\n      updateElement(index,x1,y1, clientX, clientY, elementType,fill, fillStyle, strokeColor, strokeWidth)\n      // //add new element in the elements state\n      //setElementState(prevState => [...prevState, element])\n    }\n\n    if(props.event.type === \"movingStart\"){\n      selection.click()\n    }\n\n    if(props.event.type === \"moving\"){\n      const id = props.event.value.id\n      const newX1= props.event.value.newX1\n      const newY1 = props.event.value.newY1\n      const newX2 = props.event.value.newX2\n      const newY2 = props.event.value.newY2\n      const type = props.event.value.type\n      const fill = props.event.value.fill\n      const fillStyle = props.event.value.fillStyle\n      const strokeColor = props.event.value.strokeColor\n      const strokeWidth = props.event.value.strokeColor\n      updateElement(id ,newX1, newY1,newX2, newY2, type, fill, fillStyle, strokeColor, strokeWidth)\n    }\n    if(props.event.type === \"resizeStart\") {\n      selection.click()\n    }\n\n    if(props.event.type===\"resizing\"){\n      const id = props.event.value.id\n      const x1 = props.event.value.x1\n      const y1 = props.event.value.y1\n      const x2 = props.event.value.x2\n      const y2 = props.event.value.y2\n      const type = props.event.value.type\n      const fill = props.event.value.fill\n      const fillStyle = props.event.value.fillStyle\n      const strokeColor = props.event.value.strokeColor\n      const strokeWidth = props.event.value.strokeColor\n      updateElement(id,x1,y1,x2,y2,type, fill, fillStyle, strokeColor, strokeWidth)\n    }\n\n    if(props.event.type === \"drawEnd\"){\n      setAction('none')\n      setSelectedElement(null)\n    }\n}, [props.event])\n\n\n  const handleMouseDown = (event) => {\n    //starting coordinates of the line \n    const {clientX, clientY} = event\n\n    if(elementType === \"selection\"){\n      if(elementsUser.length !== 0){\n      //return the element at the position we we clicked\n      const element = getElementAtPosition(clientX, clientY, elements)\n      //if there is a element as the clicked position\n      if(element){\n        if(element.type === \"pencil\"){\n          const xOffsets = element.points.map(point => clientX - point.x);\n          const yOffsets = element.points.map(point => clientY - point.y);\n          setSelectedUserElement({ ...element, xOffsets, yOffsets });\n        }else{\n          const offsetX = clientX - element.x1;\n          const offsetY = clientY - element.y1;\n          setSelectedUserElement({ ...element, offsetX, offsetY });\n        }\n        setUserElementState(prevState => prevState)\n        if(element.position === 'inside') {\n          setAction(\"moving\")\n        }\n        else{\n          setAction('resize')\n        }\n      }\n    }\n    }else{\n      const id = elementsUser.length\n      const element = createElement(id,clientX,clientY,clientX,clientY, elementType);\n      //add new element in the elements state\n      setUserElementState(prevState => [...prevState, element])\n      setSelectedUserElement(element)\n      setAction('drawing')\n    }\n  }\n\n  const resizedCoordinates = (clientX, clientY, position, coordiantes) => {\n    const {x1,y1,x2,y2} = coordiantes\n    switch (position) {\n      case \"tl\":\n      case \"start\":\n        return { x1: clientX, y1: clientY, x2, y2 };\n      case \"tr\":\n        return { x1, y1: clientY, x2: clientX, y2 };\n      case \"bl\":\n        return { x1: clientX, y1, x2, y2: clientY };\n      case \"br\":\n      case \"end\":\n        return { x1, y1, x2: clientX, y2: clientY };\n      case \"circumference\":\n        return {x1:clientX,y1:clientY,x2, y2}\n      default:\n        return null; //should not really get here...\n    }\n  }\n\n  //this function return the cursor type based on where it is\n  const cursorForPosition = position => {\n    switch (position) {\n      case \"tl\":\n      case \"br\":\n      case \"start\":\n      case \"end\":\n        return \"nwse-resize\";\n      case \"tr\":\n      case \"bl\":\n        return \"nesw-resize\";\n      case \"circumference\":\n        return \"nesw-resize\"\n      default:\n        return \"move\";\n    }\n  }\n\n\n  const handlePointerDown = (e) => {\n    e.target.setPointerCapture(e.pointerId);\n    setPoints([[e.pageX, e.pageY, e.pressure]]);\n  }\n\n  const handlePointerMove = (e) => {\n    if (e.buttons !== 1) return;\n    setPoints([...points, [e.pageX, e.pageY, e.pressure]]);\n  }\n\n  const handleMouseMove = (event) => {\n    //coordinates while the mouse is moving\n    const {clientX, clientY} = event\n    if(elementType === \"selection\"){\n      if(elementsUser.length !== 0){\n        const element = getElementAtPosition(clientX, clientY, elementsUser)\n        event.target.style.cursor = element ? cursorForPosition(element.position) : \"default\"\n      }\n    }\n \n    if(action === \"drawing\"){\n    const index = elementsUser.length-1\n    const {x1,y1} = elementsUser[index]\n    //console.log(x1,y1) undefined in case of pencil element\n    updateElement(index,x1,y1, clientX, clientY, elementType, fill, fillStyle, strokeColor,strokeWidth)\n    }else if(action===\"moving\"){\n      if(selectedUserElement.type === \"pencil\"){\n        const newPoints = selectedUserElement.points.map((_, index) => ({\n          x: clientX - selectedUserElement.xOffsets[index],\n          y: clientY - selectedUserElement.yOffsets[index],\n        }));\n        const elementsCopy = [...elementsUser];\n        elementsCopy[selectedUserElement.id].points = newPoints\n        setUserElementState(elementsCopy, true);\n      }else{\n        const  {id ,x1, x2, y1, y2, type, offsetX, offsetY} = selectedUserElement\n        const width = x2-x1\n        const height = y2-y1\n  \n        //this is done to make sure x1 and y1 don't get changed to where mousedown event was performed\n        const newX1 = clientX - offsetX\n        const newY1 = clientY - offsetY\n        updateElement(id ,newX1, newY1,newX1 + width, newY1+height, type, fill, fillStyle, strokeColor,strokeWidth)\n      }\n    }else if(action === \"resize\"){\n      const  {id ,type,position, ...coordiantes} = selectedUserElement\n      const {x1,y1,x2,y2} = resizedCoordinates(clientX, clientY, position, coordiantes)\n      updateElement(id,x1,y1,x2,y2,type, fill, fillStyle, strokeColor,strokeWidth)\n    }\n  }\n\n  const adjustmentRequired = type => [\"line\", \"rectangle\",\"circle\"].includes(type);\n\n  const handleMouseUp = () => {\n    if(elementsUser.length !== 0){\n    if(selectedUserElement){\n      const index = selectedUserElement.id\n      const {id, type} = elementsUser[index]\n      if ((action === \"drawing\" || action === \"resizing\") && adjustmentRequired(type)) {\n        const {x1,y1,x2,y2} = adjustElementCorrdinates(elementsUser[index])\n        updateElement(id, x1,y1,x2,y2,type, fill, fillStyle, strokeColor,strokeWidth)\n      }\n    }\n  }\n    setAction('none')\n    setSelectedUserElement(null)\n  }\n  \n  return (\n    <div>\n        <div className=\"drawOptions\">\n        <div style={{position:\"fixed\", zIndex:2, bottom:0, padding:10}}>\n        <button onClick={undo}>Undo</button>\n        <button onClick={redo}>Redo</button>\n      </div>\n          <div className=\"allOptions\">\n              <div className=\"shapesOptions\">\n              \n                 <label className = \"tools\" htmlFor=\"selection\"><input type=\"radio\" id=\"selection\" checked = {elementType===\"selection\"} onChange={() => setTool(\"selection\")}/>\n                 <svg viewBox=\"0 0 320 512\" ><path d=\"M302.189 329.126H196.105l55.831 135.993c3.889 9.428-.555 19.999-9.444 23.999l-49.165 21.427c-9.165 4-19.443-.571-23.332-9.714l-53.053-129.136-86.664 89.138C18.729 472.71 0 463.554 0 447.977V18.299C0 1.899 19.921-6.096 30.277 5.443l284.412 292.542c11.472 11.179 3.007 31.141-12.5 31.141z\"></path></svg>\n                 </label>\n                \n\n              \n                 <label className = \"tools\" htmlFor=\"line\"> <input type=\"radio\" id=\"line\" checked = {elementType===\"line\"} onChange={() => setTool(\"line\")}/> \n                \n                 <svg viewBox=\"0 0 6 6\"><line x1=\"0\" y1=\"3\" x2=\"6\" y2=\"3\" stroke=\"currentColor\" strokeLinecap=\"round\"></line></svg>\n                 </label>\n                \n\n              \n                 <label className = \"tools\" htmlFor=\"rectangle\"> <input type=\"radio\" id=\"rectangle\" checked = {elementType===\"rectangle\"} onChange={() => setTool(\"rectangle\")}/>\n                \n                 <svg viewBox=\"0 0 448 512\"><path d=\"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z\"></path></svg>\n                 </label>\n                \n\n              \n                 <label className = \"tools\" htmlFor=\"circle\"> <input type=\"radio\" id=\"circle\" checked={elementType===\"circle\"} onChange={() => setTool(\"circle\")}/>\n                 \n                 <svg viewBox=\"0 0 512 512\"><path d=\"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z\"></path></svg>\n                 </label>\n                \n \n              \n                 <label className = \"tools\" htmlFor=\"pencil\"> <input type=\"radio\" id=\"pencil\" checked={elementType===\"pencil\"} onChange={() => setTool(\"pencil\")}/>\n              \n                 <svg viewBox=\"0 0 512 512\"><path fill=\"currentColor\" d=\"M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16 0-67.91z\"></path></svg>\n                 </label>\n                \n\n              \n                 <label className = \"tools\" htmlFor=\"arrow\">   <input type=\"radio\" id=\"arrow\" checked={elementType===\"arrow\"} onChange={() => setTool(\"arrow\")}/>\n               \n                 <svg viewBox=\"0 0 448 512\" className=\"rtl-mirror\"><path d=\"M313.941 216H12c-6.627 0-12 5.373-12 12v56c0 6.627 5.373 12 12 12h301.941v46.059c0 21.382 25.851 32.09 40.971 16.971l86.059-86.059c9.373-9.373 9.373-24.569 0-33.941l-86.059-86.059c-15.119-15.119-40.971-4.411-40.971 16.971V216z\"></path></svg>\n                 </label>\n                \n              </div>\n        \n             {elementType !== \"selection\" ? <div className=\"styleCard\">\n                  <div>\n                    Fill\n                    <select id=\"fill\">\n                      <option>transparent</option>\n                      <option>red</option>\n                      <option>green</option>\n                      <option>yellow</option>\n                      items<option>coral</option>\n                    </select>\n                  </div>\n                  <div>\n                    FillStyle\n                  <select id=\"fillStyle\">\n                    <option>solid</option>\n                    <option>hachure</option>\n                    <option>dashed</option>\n                    <option>ZigZag</option>\n                  </select>\n                  </div>\n                  <div>\n                    Stroke \n                  <select id=\"stroke\">\n                    <option>black</option>\n                    <option>red</option>\n                    <option>green</option>\n                    <option>blue</option>\n                    <option>yellow</option>\n                  </select>\n                  </div>\n                  <div>\n                   strokeWidth\n                   <select id=\"strokeWidth\">\n                     <option>2</option>\n                     <option>6</option>\n                     <option>8</option>\n                     <option>10</option>\n                   </select>\n                   </div>\n              </div> : \"\"} \n                \n        </div>\n      </div>\n     \n     <main style = {{ position : \"absolute\", top : \"0\" }}>\n      <canvas id=\"canvas\" \n      width = {window.innerWidth}\n      height = {window.innerHeight}\n      onMouseDown = {handleMouseDown}\n      onMouseMove = {handleMouseMove}\n      onMouseUp = {handleMouseUp}\n      onPointerDown={handlePointerDown}\n      onPointerMove={handlePointerMove}\n      ></canvas> \n      </main> \n    </div>  \n  );\n}\n\nexport default DrawingBoardPlayer;","import React, { useEffect, useState } from \"react\";\nimport IDE from \"../IDE\";\nimport files from \"../../assets/files\";\nimport { useDispatch } from \"react-redux\";\nimport { js, css, html, outputModalTrue, outputModalFalse, setSrcDocs } from \"../../actions\";\nimport firebase from 'firebase/app'\nimport 'firebase/firestore';\nimport 'firebase/storage';\nimport \"./style.css\";\nimport DrawingBoardPlayer from \"../DrawingBoard/drawBoardPlayer\";\n\nfunction Preloader(){\n  return(\n    <div className = \"loader\">\n    <div className =\"preloader\">\n\t<div className =\"box\">\n\t\t<div className =\"box__inner\">\n\t\t\t<div className =\"box__back-flap\"></div>\n\t\t\t<div className =\"box__right-flap\"></div>\n\t\t\t<div className =\"box__front-flap\"></div>\n\t\t\t<div className =\"box__left-flap\"></div>\n\t\t\t<div className =\"box__front\"></div>\n\t\t</div>\n\t</div>\n\t<div className =\"box\">\n\t\t<div className =\"box__inner\">\n\t\t\t<div className =\"box__back-flap\"></div>\n\t\t\t<div className =\"box__right-flap\"></div>\n\t\t\t<div className =\"box__front-flap\"></div>\n\t\t\t<div className =\"box__left-flap\"></div>\n\t\t\t<div className =\"box__front\"></div>\n\t\t</div>\n\t</div>\n\t<div className =\"line\">\n\t\t<div className =\"line__inner\"></div>\n\t</div>\n\t<div className =\"line\">\n\t\t<div className =\"line__inner\"></div>\n\t</div>\n\t<div className =\"line\">\n\t\t<div className =\"line__inner\"></div>\n\t</div>\n\t<div className =\"line\">\n\t\t<div className =\"line__inner\"></div>\n\t</div>\n\t<div className =\"line\">\n\t\t<div className =\"line__inner\"></div>\n\t</div>\n\t<div className =\"line\">\n\t\t<div className =\"line__inner\"></div>\n\t</div>\n\t<div className =\"line\">\n\t\t<div className =\"line__inner\"></div>\n\t</div>\n</div>\n</div>\n  )\n}\n\nexport default function Video(props) {\n  const name = props.location.state.type.slice(0,3)\n  const language = props.location.state.type.slice(3, 10)\n  const [refresh, setRefresh] = useState(\"\");\n  const [loading, setLoading] = useState(\"loading\");\n  const dispatch = useDispatch();\n  let drawingEvent=''\n  const [drawing, setDrawing] = useState('')\n  \n  useEffect(() => {\n    let offsetPlay = 0;\n    localStorage.setItem(\"lastSessionTimeStamp\", JSON.stringify(offsetPlay));\n    const videoPlayer = document.getElementsByClassName('videoplayer')[0]\n    const playButton = document.getElementsByClassName(\"playButton\")[0]\n    // fetch recording from local storage\n    let recording = { events: [] };\n    const recordingJsonValue = localStorage.getItem(\"recording\");\n    //const audioValue = JSON.parse(localStorage.getItem(\"file\"));\n    const id = (props.location.state.id)\n    firebase.firestore().collection('events').where(firebase.firestore.FieldPath.documentId(), '==', id).get()\n    .then((snap) => {\n        snap.forEach((doc) => {\n             console.log(doc.data())\n             recording = JSON.parse(doc.data().recordingString)\n        })\n      }).catch((err) => {\n        console.log(err)\n      })\n\n    if (recordingJsonValue != null) recording = JSON.parse(recordingJsonValue);\n\n    // console.log(recording);\n\n    var storageRef = firebase.storage().ref();\n    storageRef.child((id)).getDownloadURL().then((url) => {\n      audioPlayer.src = url\n      localStorage.setItem(\"url\", url)\n    }).catch((e) => {\n      console.log(e)\n    })\n\n    //fake cursor for playing\n    const fakeCursor = document.createElement(\"div\");\n    document.getElementById(\"root\").appendChild(fakeCursor);\n    fakeCursor.style.display = 'none'\n    const audioPlayer = document.getElementById(\"audio_player\")\n    var startPlay;\n    // console.log(playButton)\n    audioPlayer.addEventListener(\"onclick\", (e) => {\n      console.log(\"Click on the audioPlayer\")\n      console.log(e)\n    })\n\n    fakeCursor.className = \"customCursor\";\n    \n    var i = 0;\n    var paused = false;\n\n    audioPlayer.addEventListener(\"canplay\", () => {\n      document.getElementsByClassName(\"player-content\")[0].style.display = \"block\";\n      document.getElementsByClassName(\"loader\")[0].style.display = \"none\";\n      console.log(\"loaded\")\n    })\n  \n    audioPlayer.addEventListener(\"play\", () => {\n      playButton.style.display=\"none\"\n      playfunction();\n      console.log(\"audio play\")\n    })\n\n    audioPlayer.addEventListener(\"pause\", () => {\n      console.log(\"clicked pause\");\n      pausefunction();\n    })\n    \n    audioPlayer.addEventListener(\"ended\", () => {\n      pausefunction();\n      console.log(\"ended audio\")\n    })\n\n    audioPlayer.addEventListener(\"seeking\", () => {\n      fakeCursor.style.display = 'none';\n      pausefunction()\n      audioPlayer.pause()\n      //returns the time at which the audio is after seeking it\n      const curTime = audioPlayer.currentTime\n     \n      //TODO: Implement binary search or lower bound\n      for(let x=0;x<recording.events.length;x++){\n        if(recording.events[x].time>curTime*1000){\n          i=x;\n          break;\n        }\n      }\n\n      console.log(i)\n      console.log(recording.events[i].time)\n      console.log(curTime)\n      //localStorage.setItem(\"lastSessionTimeStamp\", JSON.stringify(recording.events[i].time))\n      if( recording.events[i].time>(curTime*1000)){\n        localStorage.setItem(\"lastSessionTimeStamp\", recording.events[i].time)\n      }else{\n        localStorage.setItem(\"lastSessionTimeStamp\", curTime*1000)\n      }\n      //handlePlayerClick()\n    })\n\n    playButton.addEventListener(\"click\", () => {\n      playButton.style.display=\"none\"\n      videoPlayer.style.display=\"flex\"\n      audioPlayer.play();\n      playfunction();\n    })\n\n    function pausefunction() {\n      fakeCursor.style.display = 'none';\n      paused = true;\n      localStorage.setItem(\"lastSessionTimeStamp\", JSON.stringify(offsetPlay));\n    }\n\n\n    function playfunction() {\n       \n      if( document.getElementsByClassName(\"videoscreen\")[0] != null) document.getElementsByClassName(\"videoscreen\")[0].className = \"visiblescreen\";\n       //append fake cursor when user clicks play button\n       fakeCursor.style.display = 'block';\n       startPlay = Date.now()\n       paused = false;\n       var frames;\n       //draw event to play all events in requestAnimationFrames\n       function draw() {\n           //select an event and check if its empty\n           let event = recording.events[i];\n           if (!event) {\n             return;\n           }\n\n           if(localStorage.getItem(\"lastSessionTimeStamp\") !== null){\n            offsetPlay = JSON.parse(localStorage.getItem(\"lastSessionTimeStamp\")) + Date.now() - startPlay;\n           }\n           else{\n            offsetPlay = (Date.now() - startPlay) * 1;\n           }\n\n         if (event.time <= offsetPlay) {\n           //draws event amd matches with listner\n           drawEvent(event, fakeCursor);\n           i++;\n         }\n\n         \n         if (i >= recording.events.length || paused) {\n           clearInterval(frames);\n          //  if(i >= (recording.events.length - 1)){\n          //    paused = true\n          //  }\n         } \n     };\n\n     frames = setInterval(() => {\n       if(!paused) draw();\n     }, 1)\n    }\n\n    \n    function handleButtonEvents(target) {\n      switch (target) {\n        case \"outputtext\":\n             dispatch(setSrcDocs());\n             dispatch(outputModalTrue());\n          break;\n        case \"output\":\n            dispatch(setSrcDocs());\n            dispatch(outputModalTrue());\n         break;\n        case \"buttontext output\":\n            dispatch(setSrcDocs());\n            dispatch(outputModalTrue());\n         break;\n        case \"fas fa-play\":\n          dispatch(setSrcDocs());\n          dispatch(outputModalTrue());\n          break;\n        case \"fas fa-window-close\":\n             dispatch(outputModalFalse());\n          break;\n        case \"style.css\":\n            dispatch(css());             \n         break;\n        case \"buttontext style\":\n          dispatch(css());             \n         break;\n        case \"index.html\":\n            dispatch(html());     \n         break;\n        case \"script.js\":\n            dispatch(js());\n         break;\n        case \"buttontext script\":\n            dispatch(js());\n         break;\n        default: \n          break;\n      }\n    }\n\n    function drawEvent(event, fakeCursor) {\n      if (event.type === \"mousemove\") {\n       //document.getElementsByClassName(\"cursor\")[0].style.top = JSON.stringify(event.y) + \"px\";\n        fakeCursor.style.left = JSON.stringify(event.x) + \"px\";\n        fakeCursor.style.top = JSON.stringify(event.y) + \"px\";\n        const path = event.target;\n        handleButtonEvents(event.fileName);\n        var tar = document.getElementsByClassName(path)[0];\n        if (tar != null) {\n          tar.focus();\n\n        }\n      }\n      if (event.type === \"click\") {\n        \n        flashClass(fakeCursor, \"click\");\n        tar = document.getElementsByClassName(event.target)[0];\n        if(tar !=  null){\n          handleButtonEvents(event.fileName);\n          handleButtonEvents(event.target);\n          flashClass(tar, \"clicked\");\n        }\n      }\n      if (event.type === \"keyup\") {\n        const path = event.target;\n        tar = document.getElementsByClassName(path)[0];\n        if (tar != null) {\n          tar.focus();\n          if(path===\"userInputArea\"){\n            tar.value = event.value\n            }else{\n              files[event.fileName].value = event.value;\n              handleButtonEvents(event.fileName);\n              setRefresh(event.value);\n            }\n        }\n      }\n      if(event.type === \"output\") {\n        const path = event.target;\n        tar = document.getElementsByClassName(path)[0];\n        if (tar != null) {\n          tar.focus();\n          if(path===\"userOutputArea\"){\n            tar.value = event.value\n            }\n        }\n      }\n      else{\n        setDrawing(event)\n      }\n    }\n\n    function flashClass(el, className) {\n      el.classList.add(className);\n      setTimeout(function () {\n        el.classList.remove(className);\n      }, 200);\n    }\n  }, []);\n\n  return (\n    <div>\n      <Preloader/>\n      <div className = \"player-content\">\n      <div className = \"videoscreen\">\n      {/* <IDE name={name} refresh = {refresh}/> */}\n      {name===\"dra\" ? <DrawingBoardPlayer event={drawing}/>: <IDE name={name} language={language} refresh={refresh}/>}\n      </div>\n      <div className=\"playButton\">\n      <div className=\"container\"><a className=\"button button-play\"></a></div>\n      </div>\n      <div className = \"videoplayer\"> \n      <audio id=\"audio_player\" controls=\"controls\" controlsList=\"nodownload\"></audio>\n      </div>\n      </div>\n\n    </div>\n  );\n}\n","import React, { useEffect} from 'react'\nimport {useHistory} from \"react-router-dom\";\nimport \"./style.css\"\nfunction RecorderForm() {\n    const history = useHistory();\n    let lectureName;\n    let lectureType;\n    let lectureCreator;\n    let languageType;\n    const navigateToRecorderWeb = () => history.push({\n        pathname:'/recorder',\n        state:{lectureType,lectureName, lectureCreator, languageType}}\n    );\n\n    const languageList = {\n        \"Python 2\": \"python2\", \n        C: \"c\",\n        \"C-99\": \"c99\",\n        \"C++\": \"cpp\",\n        \"C++ 14\": \"cpp14\",\n        \"C++ 17\": \"cpp17\",\n        \"Python 3\": \"python3\",\n      };\n    \n\n    useEffect(() => {\n\n        const select = document.getElementById(\"language\");\n        for (let key in languageList) {\n          var option = document.createElement(\"option\");\n          option.text = key;\n          option.value = languageList[key];\n          option.className = languageList[key];\n          select.add(option);\n        }\n\n        const type = document.getElementById(\"lectureType\")\n        const name = document.getElementById(\"lectureName\")\n        const creator = document.getElementById(\"creator\")\n        const button = document.getElementById(\"submit\")\n\n        button.addEventListener(\"click\", () => {\n            lectureType = type.value\n            lectureName = name.value\n            lectureCreator = creator.value\n            if(lectureType === \"dsa\"){\n                languageType = select.value\n            }else{\n                languageType = ''\n            }\n        })\n        type.addEventListener(\"change\", (e) =>{\n            if(e.target.value === \"dsa\"){\n                select.style.display = \"block\"\n            }else{\n                select.style.display = \"none\"\n            }\n        })\n    },[])\n\n    return (\n        <>\n        <form>\n            <input id=\"lectureName\" placeholder=\"Lecture Title\"/>\n            <input id=\"creator\" placeholder=\"Creator\"/>\n            <select name=\"language\" id=\"language\"></select>\n            <select id=\"lectureType\">\n                <option value=\"ide\">Web Developerment</option>\n                <option value=\"dsa\">DSA</option>\n                <option value=\"dra\">Chalk Board</option>\n            </select>\n            <button type=\"button\"  onClick={navigateToRecorderWeb} id=\"submit\">Submit</button>\n        </form>\n        </>\n    )\n}\n\nexport default RecorderForm","const filenameReducer = (state = \"index.html\", action) => {\n  switch (action.type) {\n    case \"js\":\n      state = \"script.js\";\n      return state;\n    case \"css\":\n      state = \"style.css\";\n      return state;\n    case \"html\":\n      state = \"index.html\";\n      return state;\n    default:\n      return state;\n  }\n};\n\n\nconst languageReducer = (state=\"c\", action) => {\n  switch(action.type){\n    case \"c\":\n      state = \"c\";\n      return state;\n    case \"c99\":\n      state = \"c99\";\n      return state;\n    case \"cpp\":\n      state = \"cpp\";\n      return state;\n    case \"cpp14\":\n      state = \"cpp14\";\n      return state;\n    case \"cpp17\":\n      state = \"cpp17\";\n      return state;\n    case \"python2\":\n      state = \"python2\";\n      return state;\n    case \"python3\":\n      state = \"python3\";\n      return state;\n    default:\n      return state;\n  }\n}\n\nexport default filenameReducer;\n","import files from \"../assets/files\"\n\nconst outputModalReducer = (state = false, action) => {\n\n    switch(action.type){\n        case \"outputtrue\":\n            state = true\n            return state\n        case \"outputfalse\":\n            state = false\n            return state\n        default:\n            return state\n    }\n}\n\nexport const outputSrcReducer = (state = \"\", action) => {\n\n    switch(action.type){\n        case \"setSrcdoc\":\n            state = `\n            <html>\n              <body>${files[\"index.html\"].value}</body>\n              <style>${files[\"style.css\"].value}</style>\n              <script>${files[\"script.js\"].value}</script>\n            </html>\n          `\n            return state\n        default:\n            return state\n    }\n}\n\nexport default outputModalReducer;","const languageReducer = (state=\"c\", action) => {\n    switch(action.type){\n      case \"c\":\n        state = \"c\";\n        return state;\n      case \"c99\":\n        state = \"c99\";\n        return state;\n      case \"cpp\":\n        state = \"cpp\";\n        return state;\n      case \"cpp14\":\n        state = \"cpp14\";\n        return state;\n      case \"cpp17\":\n        state = \"cpp17\";\n        return state;\n      case \"python2\":\n        state = \"python2\";\n        return state;\n      case \"python3\":\n        state = \"python3\";\n        return state;\n      default:\n        return state;\n    }\n  }\n  \n  export default languageReducer;\n  ","import filenameReducer from \"./filenameSelection\";\nimport outputModalReducer, { outputSrcReducer } from \"./outputModalReducer\";\nimport { combineReducers } from \"redux\";\nimport languageReducer from \"./languageSelection\";\nconst allReducers = combineReducers({\n    fileName: filenameReducer,\n    outputModal: outputModalReducer,\n    srcDocs: outputSrcReducer,\n    language:languageReducer\n})\n\nexport default allReducers;\n","import React, {useEffect} from 'react'\nimport {useHistory} from \"react-router-dom\";\nimport './styles.css'\nfunction Card(props) {\n    const history = useHistory();\n    useEffect(() => {\n        const mainWindow = document.getElementById(\"lectureCard\")\n        for(let i=0;i<props.lectures.length;i++){\n            var lecture = document.createElement(\"div\")\n            var playButton = document.createElement(\"button\")\n            playButton.textContent = \"Play Lecture\"\n            var nameHeading = document.createElement(\"h3\")\n            var creator = document.createElement(\"h3\")\n            var language = document.createElement(\"h3\")\n            nameHeading.className = \"nameoflecture\"\n            creator.className = \"nameofcreator\" \n            language.className = \"languageofLecture\"\n            playButton.className = props.lectures[i].type + props.lectures[i].language\n            playButton.id = props.lectures[i].id \n            lecture.appendChild(nameHeading)\n            lecture.appendChild(creator)\n            lecture.appendChild(language)\n            lecture.appendChild(playButton)\n            nameHeading.innerHTML = \"Name - \" + props.lectures[i].name\n            creator.innerHTML = \"Creator - \" + props.lectures[i].creator\n            if(props.lectures[i].language !== ''){\n                language.innerHTML = \"Language- \" + props.lectures[i].language\n            }\n            mainWindow.appendChild(lecture)\n        }\n        \n        mainWindow.addEventListener(\"click\", (e) => {\n            const id =  e.target.id\n            console.log(e)\n            const type =  e.target.className\n            console.log(type)\n             console.log(e.target.id)\n            history.push({\n                pathname:'/videoplayer',\n                state:{id,type}\n            });\n        })\n    },[])   \n\n    return (\n        <>\n        <div id=\"lectureCard\">\n        </div>\n        </>    \n    )\n}\n\nexport default Card","import React , {useEffect, useLayoutEffect, useState} from 'react'\nimport firebase from 'firebase/app'\nimport 'firebase/firestore'\nimport Card from '../Card/card'\nfunction Preloader(){\n    return(\n      <div className = \"loader\">\n      <div className =\"preloader\">\n      <div className =\"box\">\n          <div className =\"box__inner\">\n              <div className =\"box__back-flap\"></div>\n              <div className =\"box__right-flap\"></div>\n              <div className =\"box__front-flap\"></div>\n              <div className =\"box__left-flap\"></div>\n              <div className =\"box__front\"></div>\n          </div>\n      </div>\n      <div className =\"box\">\n          <div className =\"box__inner\">\n              <div className =\"box__back-flap\"></div>\n              <div className =\"box__right-flap\"></div>\n              <div className =\"box__front-flap\"></div>\n              <div className =\"box__left-flap\"></div>\n              <div className =\"box__front\"></div>\n          </div>\n      </div>\n      <div className =\"line\">\n          <div className =\"line__inner\"></div>\n      </div>\n      <div className =\"line\">\n          <div className =\"line__inner\"></div>\n      </div>\n      <div className =\"line\">\n          <div className =\"line__inner\"></div>\n      </div>\n      <div className =\"line\">\n          <div className =\"line__inner\"></div>\n      </div>\n      <div className =\"line\">\n          <div className =\"line__inner\"></div>\n      </div>\n      <div className =\"line\">\n          <div className =\"line__inner\"></div>\n      </div>\n      <div className =\"line\">\n          <div className =\"line__inner\"></div>\n      </div>\n  </div>\n  </div>\n    )\n  }\nfunction AllLectures() {\n    const [lectures, setLectures] = useState('')\n    let lecturesArray = []\n    const [isLoading, setLoading] = useState(false)\n    useEffect(() => {\n        firebase.firestore().collection(\"recordIndex\").orderBy(\"createdAt\", 'desc')\n        .limit(10).get().then((result) => {\n            result.forEach((doc) => {\n                lecturesArray.push(doc.data())\n            })\n            setLectures(lecturesArray)\n            setLoading(true)\n        })\n    }, [])\n    return (\n        <>\n            {isLoading ? <Card lectures={lectures}/>: <Preloader/>}\n        </>\n    )\n}\n\nexport default AllLectures","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport { createStore, compose, applyMiddleware} from 'redux';\nimport { Provider } from 'react-redux';\nimport './index.css';\nimport Recorder from './components/Recorder/Recorder';\nimport Video from './components/Player/Player';\nimport RecorderForm from './components/RecorderForm/recorderForm';\nimport DrawingBoard from './components/DrawingBoard/drawBoard';\nimport allReducer from './reducers';\nimport thunk from 'redux-thunk'\nimport firebase from 'firebase/app';\nimport StartingComponent from './components/StartingComponent/startingCompoent';\nimport AllLectures from './components/Lectures/allLectures';\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyAp2cQvNNp8fUKOv6kO_7wR5IsKROCoh14\",\n  authDomain: \"engage-6ef42.firebaseapp.com\",\n  projectId: \"engage-6ef42\",\n  storageBucket: \"engage-6ef42.appspot.com\",\n  messagingSenderId: \"27842359842\",\n  appId: \"1:27842359842:web:e8f5b15f6a86ac66fa507b\",\n  measurementId: \"G-EVEY2DP36T\",\n};\n\nif (firebase.apps.length===0){\n  firebase.initializeApp(firebaseConfig);\n}\n\nconst middleware = [thunk]\n\nconst composeEnhancer = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst store = createStore(\n  allReducer, \n  composeEnhancer(applyMiddleware(...middleware)),\n);\n\nReactDOM.render(\n  <Provider store={store}>\n  <React.StrictMode>\n    <Router>\n      <Switch>\n        <Route exact path = \"/lectures\" component = {AllLectures} />\n        <Route exact path = \"/drawboard\" component = {DrawingBoard}/>\n        <Route exact path = \"/recordform\" component = {RecorderForm}/>\n        <Route exact path = \"/recorder\" component = {Recorder} ide=\"web\"/>\n        <Route exact path = \"/videoplayer\" component = {Video}/>\n        <Route exact path = \"/\" component = {StartingComponent}/>\n    </Switch>\n    </Router>\n  </React.StrictMode>\n  </Provider>,\n  document.getElementById('root')\n);\n","import React from 'react';\nimport {useHistory} from \"react-router-dom\";\n\nexport default function StartingComponent() {\n\n    const history = useHistory();\n    const navigateToLectureScreen = () => history.push('/lectures')\n    const navigateToDrawBoard = () => history.push('/drawboard')\n    const navigateToRecorderDraw = () => history.push('/recorder/drawboard');\n    const navigateToRecordForm = () => history.push('/recordform');\n    const navigateToPlayerDraw = () => history.push('/videoplayer/drawboard');\n    return (\n        <>\n        <button className = \"recordWebD\" onClick={navigateToRecordForm}>Recorder A Lecture</button>\n        {/* <button className = \"recordOther\" onClick={navigateToRecorderOther}>Recorder with Other</button> */}\n        <button className = \"playWebD\" onClick={navigateToLectureScreen}>Watch lectures </button>\n        {/* <button className = \"playOther\" onClick={navigateToPlayerOther}>Player with Other</button> */}\n        <button onClick={navigateToDrawBoard}>Drawing Board</button>\n        <button className = \"recordWebD\" onClick={navigateToRecorderDraw}>Recorder with Drawing Board</button>\n        {/* <button className = \"recordOther\" onClick={navigateToRecorderOther}>Recorder with Other</button> */}\n        <button className = \"playWebD\" onClick={navigateToPlayerDraw}>Player with Drawing Board</button>\n        </>\n    )\n}"],"sourceRoot":""}