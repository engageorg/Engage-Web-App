(this.webpackJsonpengage=this.webpackJsonpengage||[]).push([[0],{116:function(e,t,n){},121:function(e,t,n){},122:function(e,t,n){},123:function(e,t,n){},125:function(e,t,n){},126:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),r=n(37),o=n.n(r),c=n(38),i=n(10),s=n(36),u=n(23),d=(n(86),n(4)),m=n(69),f=n.n(m),v=n(45),h={"script.js":{name:"script.js",language:"javascript",value:""},"style.css":{name:"style.css",language:"css",value:""},"index.html":{name:"index.html",language:"html",value:""},c:{name:"main.c",language:"cpp",value:""},c99:{name:"main.cpp",language:"cpp",value:""},cpp:{name:"main.cpp",language:"cpp",value:""},cpp14:{name:"main.cpp",language:"cpp",value:""},cpp17:{name:"main.cpp",language:"cpp",value:""},python2:{name:"python",language:"python",value:""},python3:{name:"python",language:"python",value:""}};n(96);var p=function(e){var t=Object(u.c)((function(e){return e.srcDocs})),n=Object(u.c)((function(e){return e.outputModal})),a=Object(u.c)((function(e){return e.fileName})),r=Object(u.b)(),o=h[a];function c(){r({type:"outputfalse"})}return l.a.createElement("div",{className:"text-editor"},l.a.createElement("div",{className:"editor-sidebar"},l.a.createElement("div",{className:"sidebar-heading"},l.a.createElement("span",{id:"explorer-spam"},"Explorer"),l.a.createElement("button",{className:"sidebar-add-file"})),l.a.createElement("div",{className:"sidebar-navbutton"},l.a.createElement("button",{className:"htmlfile",disabled:"index.html"===a,onClick:function(){return r({type:"html"})}},l.a.createElement("i",{className:"fab fa-html5"})," ",l.a.createElement("span",{className:"buttontext html"},h["index.html"].name," ")),l.a.createElement("button",{className:"cssfile",disabled:"style.css"===a,onClick:function(){return r({type:"css"})}},l.a.createElement("i",{className:"fab fa-css3-alt"})," ",l.a.createElement("span",{className:"buttontext style"},h["style.css"].name," ")),l.a.createElement("button",{className:"jsfile",disabled:"script.js"===a,onClick:function(){return r({type:"js"})}},l.a.createElement("i",{className:"fab fa-js-square"})," ",l.a.createElement("span",{className:"buttontext script"},h["script.js"].name," "))),l.a.createElement("div",{className:"sidebar-footer"},l.a.createElement("button",{onClick:function(){r({type:"setSrcdoc"}),r({type:"outputtrue"}),console.log("l")},style:{color:"white",backgroundColor:"green",padding:"5px",borderRadius:"5px"},className:"output"},l.a.createElement("i",{style:{color:"white"},className:"fas fa-play"}),l.a.createElement("span",{className:"outputtext",style:{color:"white",backgroundColor:"green"}}," See Output")))),l.a.createElement("div",{className:"editor"},l.a.createElement(v.a,{height:"100vh",width:"94vw",theme:"vs-light",path:o.name,defaultLanguage:o.language,defaultValue:o.value,saveViewState:!0,onChange:function(e){o.value=e},cursorSmoothCaretAnimation:"true",value:o.value})),l.a.createElement(f.a,{className:"outputModal Modal",isOpen:n,contentLabel:"onRequestClose Example",onRequestClose:c,overlayClassName:"Overlay",ariaHideApp:!1},l.a.createElement("div",{className:"closeButton"},l.a.createElement("i",{className:"fas fa-window-close",onClick:c})),l.a.createElement("iframe",{srcDoc:t,title:"output",className:"outputiframe",sandbox:"allow-scripts",frameBorder:"0"})))},g=n(50),y=n.n(g),E=n(70),w=n(71),b=n.n(w);n(116);var x=function(e){var t=Object(a.useState)(e.language),n=Object(d.a)(t,2),r=n[0],o=(n[1],Object(u.c)((function(e){return e.language})),Object(u.b)()),c=Object(a.useState)(""),i=Object(d.a)(c,2),s=i[0],m=i[1],f=Object(a.useState)(""),p=Object(d.a)(f,2),g=p[0],w=p[1],x=h[r];return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"multilanguageIde"},l.a.createElement("div",{className:"navbar"},l.a.createElement("span",{className:"fileName"},"main","python2"===r||"python3"===r?".py":".cpp"),l.a.createElement("div",{className:"optionButton"},l.a.createElement("button",{className:"showCodeOutput",style:{color:"white",cursor:"pointer",backgroundColor:"green",borderRadius:"5px",padding:"4px"},onClick:function(){for(var e=x.value.split("\r"),t="",n=0;n<e.length;n++)t+=e[n];o(function(e,t,n){return function(){var a=Object(E.a)(y.a.mark((function a(l){var r;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r="https://fierce-reef-05156.herokuapp.com/",a.next=3,b.a.post(r+"api/compile",{language:e,stdin:n,versionIndex:"0",script:t});case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(r,t,g)).then((function(e){m(e.data.output);var t={output:e.data.output},n=new CustomEvent("output",{detail:t});document.documentElement.dispatchEvent(n)}))}},"Run"))),l.a.createElement("div",{className:"editor"},l.a.createElement(v.a,{height:"100vh",width:"80vw",theme:"vs-light",language:"cpp",options:{fontSize:18,fontWeight:400,fontFamily:"cursive"},onChange:function(e){x.value=e},value:x.value,beforeMount:function(e){e.editor.defineTheme("my-cool-theme",{base:"vs-dark",inherit:!0,rules:[],colors:{"editor.background":"#293738"}})}}),l.a.createElement("div",{className:"inputOutput"},l.a.createElement("div",{className:"inputArea"},l.a.createElement("h3",null,"Input"),l.a.createElement("textarea",{rows:"20",cols:"52",className:"userInputArea",onChange:function(e){w(e.target.value)},placeholder:"Enter Input"})),l.a.createElement("div",{className:"outputArea"},l.a.createElement("h3",null,"Output"),l.a.createElement("textarea",{rows:"20",cols:"52",className:"userOutputArea",onChange:function(e){console.log(e)},value:s}))))))};var k=function(e){return l.a.createElement(l.a.Fragment,null,"ide"===e.name?l.a.createElement(p,{refresh:e.refresh}):l.a.createElement(x,{language:e.language,refresh:e.refresh}))},N=n(6),S=n(7),C=n(9),B=n(8),O=n(5),M=n(12),X=n(24);function Y(e,t,n){var a=e[t];e[t]=e[n],e[n]=a}function D(e,t){t.sort((function(e,t){return e-t}));var n=!0;t.forEach((function(t,a){(n=n&&t===a)||Y(e,t-1,t)}))}function L(e,t){var n=t.sort((function(e,t){return t-e})),a=!0;n.forEach((function(t,n){(a=a&&t===e.length-n-1)||Y(e,t+1,t)}))}function _(e,t){t.sort((function(e,t){return e-t}));var n=t.map((function(t){return e[t]})),a=t.reverse().concat([0]);a.forEach((function(t,n){if(0!==n)for(var l=a[n-1]-1;l>=t;--l)e[l+n]=e[l]})),n.forEach((function(t,n){e[n]=t}))}function I(e,t){var n=t.sort((function(e,t){return t-e})),a=n.map((function(t){return e[t]}));(t=n.reverse().concat([e.length])).forEach((function(n,a){if(0!==a)for(var l=t[a-1]+1;l<n;++l)e[l-a]=e[l]})),a.forEach((function(t,n){e[e.length-n-1]=t}))}var j,R=n(32),T=(n(67),Array.of()),A=!1,K=[];function U(){return JSON.stringify(T.map((function(e){return Object(M.a)(Object(M.a)({},e),{},{isSelected:!1})})))}function z(e){var t=JSON.parse(e);T.splice(0,T.length),t.forEach((function(e){oe(e),T.push(e)})),A=!0}j="https://fierce-reef-05156.herokuapp.com/";function J(){return Math.floor(Math.random()*Math.pow(2,31))}function P(e,t){var n=Math.random;Math.random=function(e){return function(){return(Math.pow(2,31)-1&(e=Math.imul(48271,e)))/Math.pow(2,31)}}(e);var a=t();return Math.random=n,a}function H(e,t,n,a,l,r){var o,c,i=l-n,s=r-a,u=i*i+s*s,d=-1;0!==u&&(d=((e-n)*i+(t-a)*s)/u),d<0?(o=n,c=a):d>1?(o=l,c=r):(o=n+d*i,c=a+d*s);var m=e-o,f=t-c;return Math.hypot(m,f)}function W(e,t,n){if("ellipse"===e.type){var a=Math.abs(t-e.x-e.width/2),l=Math.abs(n-e.y-e.height/2),r=.707,o=.707,c=e.width/2,i=e.height/2;return[0,1,2,3].forEach((function(e){var t=c*r,n=i*o,s=(c*c-i*i)*Math.pow(r,3)/c,u=(i*i-c*c)*Math.pow(o,3)/i,d=t-s,m=n-u,f=a-s,v=l-u,h=Math.hypot(m,d),p=Math.hypot(v,f);r=Math.min(1,Math.max(0,(f*h/p+s)/c)),o=Math.min(1,Math.max(0,(v*h/p+u)/i));var g=Math.hypot(o,r);r/=g,o/=g})),Math.hypot(c*r-a,i*o-l)<10}if("rectangle"===e.type){var s=ce(e),u=ie(e),m=se(e),f=ue(e);return H(t,n,s,m,u,m)<10||H(t,n,u,m,u,f)<10||H(t,n,u,f,s,f)<10||H(t,n,s,f,s,m)<10}if("arrow"===e.type){var v=re(e),h=Object(d.a)(v,8),p=h[0],g=h[1],y=h[2],E=h[3],w=h[4],b=h[5],x=h[6],k=h[7];return H(t-=e.x,n-=e.y,w,b,y,E)<10||H(t,n,p,g,y,E)<10||H(t,n,x,k,y,E)<10}if("text"===e.type){var N=ce(e),S=ie(e),C=se(e),B=ue(e);return t>=N&&t<=S&&n>=C&&n<=B}if("selection"===e.type)return console.warn("This should not happen, we need to investigate why it does."),!1;throw new Error("Unimplemented type "+e.type)}function F(e,t,n,a){if("text"===e.type||"arrow"===e.type)return!1;var l=Z(e,a),r=Object.keys(l).filter((function(e){var r=l[e];return t+a.scrollX>=r[0]&&t+a.scrollX<=r[0]+r[2]&&n+a.scrollY>=r[1]&&n+a.scrollY<=r[1]+r[3]}));return r.length>0&&r[0]}function V(e,t,n,a,l){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,c={type:e,x:t,y:n,width:r,height:o,isSelected:!1,strokeColor:a,backgroundColor:l,seed:J(),draw:function(e,t,n){}};return c}function q(e,t,n,a){var l=e*e/(e+Math.abs(n)),r={x:(n>0?0:e-l)+4,y:t-6-4,width:l-8,height:6},o=t*t/(t+Math.abs(a));return{horizontal:r,vertical:{x:e-6-4,y:(a>0?0:t-o)+4,width:6,height:o-12}}}function G(e,t,n,a,l,r){var o=q(n,a,l,r),c=[o.horizontal,o.vertical].map((function(n){return n.x<=e&&e<=n.x+n.width&&n.y<=t&&t<=n.y+n.height})),i=Object(d.a)(c,2);return{isOverHorizontalScrollBar:i[0],isOverVerticalScrollBar:i[1]}}function Z(e,t){var n=e.x,a=e.x+e.width,l=e.y,r=e.y+e.height,o={},c=e.width<0?8:-8,i=e.height<0?8:-8;return Math.abs(a-n)>40&&(o.n=[n+(a-n)/2+t.scrollX-4,l-4+t.scrollY+i,8,8],o.s=[n+(a-n)/2+t.scrollX-4,r-4+t.scrollY-i,8,8]),Math.abs(r-l)>40&&(o.w=[n-4+t.scrollX+c,l+(r-l)/2+t.scrollY-4,8,8],o.e=[a-4+t.scrollX-c,l+(r-l)/2+t.scrollY-4,8,8]),o.nw=[n-4+t.scrollX+c,l-4+t.scrollY+i,8,8],o.ne=[a-4+t.scrollX-c,l-4+t.scrollY+i,8,8],o.sw=[n-4+t.scrollX+c,r-4+t.scrollY-i,8,8],o.se=[a-4+t.scrollX-c,r-4+t.scrollY-i,8,8],o}function Q(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=a.offsetX,r=a.offsetY,o=a.renderScrollbars,c=void 0===o||o,i=a.renderSelection,s=void 0===i||i;if(t){var u=t.getContext("2d"),d=u.fillStyle;"string"===typeof n.viewBackgroundColor?(u.fillStyle=n.viewBackgroundColor,u.fillRect(0,0,t.width,t.height)):u.clearRect(0,0,t.width,t.height),u.fillStyle=d;var m=Be();if(n=Object(M.a)(Object(M.a)({},n),{},{scrollX:"number"===typeof l?l:n.scrollX,scrollY:"number"===typeof r?r:n.scrollY}),T.forEach((function(t){if(t.draw(e,u,n),s&&t.isSelected){var a=ce(t),l=ie(t),r=se(t),o=ue(t),c=u.getLineDash();if(u.setLineDash([8,4]),u.strokeRect(a-4+n.scrollX,r-4+n.scrollY,l-a+8,o-r+8),u.setLineDash(c),"text"!==t.type&&"arrow"!==t.type&&1===m.length){var i=Z(t,n);Object.values(i).forEach((function(e){u.strokeRect(e[0],e[1],e[2],e[3])}))}}})),c){var f=q(u.canvas.width/window.devicePixelRatio,u.canvas.height/window.devicePixelRatio,n.scrollX,n.scrollY);u.fillStyle="rgba(0,0,0,0.3)",u.fillRect(f.horizontal.x,f.horizontal.y,f.horizontal.width,f.horizontal.height),u.fillRect(f.vertical.x,f.vertical.y,f.vertical.width,f.vertical.height),u.fillStyle=d}}}function $(){var e=document.createElement("input"),t=new FileReader;return e.type="file",e.accept=".json",e.onchange=function(){e.files.length?t.readAsText(e.files[0],"utf8"):alert("A file was not selected.")},e.click(),new Promise((function(e){t.onloadend=function(){t.readyState===FileReader.DONE&&(!function(e,t){try{e&&(T.splice.apply(T,[0,T.length].concat(Object(O.a)("string"===typeof e?JSON.parse(e):e))),T.forEach((function(e){return oe(e)}))),t&&JSON.parse(t)}catch(n){return T.splice(0,T.length),null}}(JSON.parse(t.result).elements,null),e())}}))}function ee(e,t){var n=document.createElement("a");n.setAttribute("download",e),n.setAttribute("href",t),n.click(),n.remove()}function te(e,t,n,a,l){return[(e-n)*Math.cos(l)-(t-a)*Math.sin(l)+n,(e-n)*Math.sin(l)+(t-a)*Math.cos(l)+a]}var ne=X.a.generator(null,null);function ae(e){return"text"===e.type}function le(e){return e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement||e instanceof HTMLSelectElement}function re(e){var t=e.width,n=e.height,a=Math.hypot(t-0,n-0),l=Math.min(30,a/2),r=t-(t-0)/a*l,o=n-(n-0)/a*l,c=te(r,o,t,n,-20*Math.PI/180),i=Object(d.a)(c,2),s=i[0],u=i[1],m=te(r,o,t,n,20*Math.PI/180),f=Object(d.a)(m,2);return[0,0,t,n,s,u,f[0],f[1]]}function oe(e){if("selection"===e.type)e.draw=function(t,n,a){var l=a.scrollX,r=a.scrollY,o=n.fillStyle;n.fillStyle="rgba(0, 0, 255, 0.10)",n.fillRect(e.x+l,e.y+r,e.width,e.height),n.fillStyle=o};else if("rectangle"===e.type){var t=P(e.seed,(function(){return ne.rectangle(0,0,e.width,e.height,{stroke:e.strokeColor,fill:e.backgroundColor})}));e.draw=function(n,a,l){var r=l.scrollX,o=l.scrollY;a.translate(e.x+r,e.y+o),n.draw(t),a.translate(-e.x-r,-e.y-o)}}else if("ellipse"===e.type){var n=P(e.seed,(function(){return ne.ellipse(e.width/2,e.height/2,e.width,e.height,{stroke:e.strokeColor,fill:e.backgroundColor})}));e.draw=function(t,a,l){var r=l.scrollX,o=l.scrollY;a.translate(e.x+r,e.y+o),t.draw(n),a.translate(-e.x-r,-e.y-o)}}else{if("arrow"===e.type){var a=re(e),l=Object(d.a)(a,8),r=l[0],o=l[1],c=l[2],i=l[3],s=l[4],u=l[5],m=l[6],f=l[7],v=P(e.seed,(function(){return[ne.line(s,u,c,i,{stroke:e.strokeColor}),ne.line(r,o,c,i,{stroke:e.strokeColor}),ne.line(m,f,c,i,{stroke:e.strokeColor})]}));return void(e.draw=function(t,n,a){var l=a.scrollX,r=a.scrollY;n.translate(e.x+l,e.y+r),v.forEach((function(e){return t.draw(e)})),n.translate(-e.x-l,-e.y-r)})}if(!ae(e))throw new Error("Unimplemented type "+e.type);e.draw=function(t,n,a){var l=a.scrollX,r=a.scrollY,o=n.font;n.font=e.font;var c=n.fillStyle;n.fillStyle=e.strokeColor,n.fillText(e.text,e.x+l,e.y+e.actualBoundingBoxAscent+r),n.fillStyle=c,n.font=o}}}function ce(e){return e.width>=0?e.x:e.x+e.width}function ie(e){return e.width>=0?e.x+e.width:e.x}function se(e){return e.height>=0?e.y:e.y+e.height}function ue(e){return e.height>=0?e.y+e.height:e.y}function de(e){var t=ce(e),n=ie(e),a=se(e),l=ue(e);T.forEach((function(e){var r=ce(e),o=ie(e),c=se(e),i=ue(e);e.isSelected="selection"!==e.type&&t<=r&&a<=c&&n>=o&&l>=i}))}function me(){T.forEach((function(e){e.isSelected=!1}))}function fe(){document.documentElement.style.cursor=""}function ve(){for(var e=T.length-1;e>=0;--e)T[e].isSelected&&T.splice(e,1)}var he="ArrowLeft",pe="ArrowRight",ge="ArrowDown",ye="ArrowUp",Ee="Escape",we="Delete",be="Backspace",xe=[{icon:l.a.createElement("svg",{viewBox:"0 0 320 512"},l.a.createElement("path",{d:"M302.189 329.126H196.105l55.831 135.993c3.889 9.428-.555 19.999-9.444 23.999l-49.165 21.427c-9.165 4-19.443-.571-23.332-9.714l-53.053-129.136-86.664 89.138C18.729 472.71 0 463.554 0 447.977V18.299C0 1.899 19.921-6.096 30.277 5.443l284.412 292.542c11.472 11.179 3.007 31.141-12.5 31.141z"})),value:"selection"},{icon:l.a.createElement("svg",{viewBox:"0 0 448 512"},l.a.createElement("path",{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"})),value:"rectangle"},{icon:l.a.createElement("svg",{viewBox:"0 0 512 512"},l.a.createElement("path",{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"})),value:"ellipse"},{icon:l.a.createElement("svg",{viewBox:"0 0 448 512"},l.a.createElement("path",{d:"M313.941 216H12c-6.627 0-12 5.373-12 12v56c0 6.627 5.373 12 12 12h301.941v46.059c0 21.382 25.851 32.09 40.971 16.971l86.059-86.059c9.373-9.373 9.373-24.569 0-33.941l-86.059-86.059c-15.119-15.119-40.971-4.411-40.971 16.971V216z"})),value:"arrow"},{icon:l.a.createElement("svg",{viewBox:"0 0 448 512"},l.a.createElement("path",{d:"M432 416h-23.41L277.88 53.69A32 32 0 0 0 247.58 32h-47.16a32 32 0 0 0-30.3 21.69L39.41 416H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16h-19.58l23.3-64h152.56l23.3 64H304a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM176.85 272L224 142.51 271.15 272z"})),value:"text"}],ke=xe.map((function(e){return e.value[0]}));function Ne(e){return e.charAt(0).toUpperCase()+e.slice(1)}function Se(e){return xe.reduce((function(t,n){return n.value[0]!==e?t:n.value}),"selection")}function Ce(e){return e===he||e===pe||e===ge||e===ye}function Be(){var e=[];return T.forEach((function(t,n){t.isSelected&&e.push(n)})),e}var Oe=function(){return T.some((function(e){return e.isSelected}))},Me=-1,Xe=-1,Ye=null,De=l.a.createRef();De.current=R.a(j);var Le,_e=function(e){Object(C.a)(n,e);var t=Object(B.a)(n);function n(){var e;return Object(N.a)(this,n),(e=t.apply(this,arguments)).state={draggingElement:null,resizingElement:null,elementType:"selection",exportBackground:!0,currentItemStrokeColor:"#000000",currentItemBackgroundColor:"#ffffff",viewBackgroundColor:"#ffffff",scrollX:0,scrollY:0},e.onResize=function(){e.forceUpdate()},e.onKeyDown=function(t){if(!le(t.target))if(t.key===Ee)me(),e.forceUpdate(),t.preventDefault();else if(t.key===be||t.key===we)ve(),e.forceUpdate(),t.preventDefault();else if(Ce(t.key)){var n=t.shiftKey?5:1;T.forEach((function(e){e.isSelected&&(t.key===he?e.x-=n:t.key===pe?e.x+=n:t.key===ye?e.y-=n:t.key===ge&&(e.y+=n))})),e.forceUpdate(),t.preventDefault()}else if(t.metaKey&&t.shiftKey&&t.altKey&&"KeyB"===t.code)e.moveOneLeft(),t.preventDefault();else if(t.metaKey&&t.shiftKey&&"KeyB"===t.code)e.moveAllLeft(),t.preventDefault();else if(t.metaKey&&t.shiftKey&&t.altKey&&"KeyF"===t.code)e.moveOneRight(),t.preventDefault();else if(t.metaKey&&t.shiftKey&&"KeyF"===t.code)e.moveAllRight(),t.preventDefault();else if(t.metaKey&&"KeyA"===t.code)T.forEach((function(e){e.isSelected=!0})),e.forceUpdate(),t.preventDefault();else if(ke.includes(t.key.toLowerCase()))e.setState({elementType:Se(t.key)});else if(t.metaKey&&"KeyZ"===t.code){var a=K.pop();U()===a&&(a=K.pop()),void 0!==a&&z(a),e.forceUpdate(),t.preventDefault()}},e.deleteSelectedElements=function(){ve(),e.forceUpdate()},e.clearCanvas=function(){window.confirm("This will clear the whole canvas. Are you sure?")&&(T.splice(0,T.length),e.setState({viewBackgroundColor:"#ffffff",scrollX:0,scrollY:0}),e.forceUpdate())},e.moveAllLeft=function(){_(T,Be()),e.forceUpdate()},e.moveOneLeft=function(){D(T,Be()),e.forceUpdate()},e.moveAllRight=function(){I(T,Be()),e.forceUpdate()},e.moveOneRight=function(){L(T,Be()),e.forceUpdate()},e.handleWheel=function(t){t.preventDefault();var n=t.deltaX,a=t.deltaY;e.setState((function(e){return{scrollX:e.scrollX-n,scrollY:e.scrollY-a}}))},e.handlemousedown=function(t){"mousedown"!==t.type&&(t=t.detail);var n=window.innerWidth-250,a=window.innerHeight-0,l=document.getElementById("canvas"),r=(X.a.canvas(l),l.getContext("2d"));if(null!==Ye&&Ye(t),0===t.button){le(document.activeElement)&&document.activeElement.blur();var o=G(t.clientX-250,t.clientY-0,n,a,e.state.scrollX,e.state.scrollY),c=o.isOverHorizontalScrollBar,i=o.isOverVerticalScrollBar,s=t.clientX-250-e.state.scrollX,u=t.clientY-0-e.state.scrollY,d=V(e.state.elementType,s,u,e.state.currentItemStrokeColor,e.state.currentItemBackgroundColor),m=!1,f=!1,v=!1;if("selection"===e.state.elementType){var h=T.find((function(t){return F(t,s,u,{scrollX:e.state.scrollX,scrollY:e.state.scrollY,viewBackgroundColor:e.state.viewBackgroundColor})}));if(e.setState({resizingElement:h||null}),h)m=F(h,s,u,{scrollX:e.state.scrollX,scrollY:e.state.scrollY,viewBackgroundColor:e.state.viewBackgroundColor}),document.documentElement.style.cursor="".concat(m,"-resize"),v=!0;else{for(var p=null,g=T.length-1;g>=0;--g)if(W(T[g],s,u)){p=T[g];break}p?p.isSelected||(t.shiftKey||me(),p.isSelected=!0):me(),(f=Oe())&&(document.documentElement.style.cursor="move")}}if(ae(d)){fe();var y=prompt("What text do you want?");if(null===y)return;d.text=y,d.font="".concat(20,"px Virgil");var E=r.font;r.font=d.font;var w=r.measureText(d.text),b=w.width,x=w.actualBoundingBoxAscent||20,k=w.actualBoundingBoxDescent||0;d.actualBoundingBoxAscent=x,r.font=E;var N=x+k;d.x-=b/2,d.y-=x,d.width=b,d.height=N}De.current=R.a(j),De.current.emit("eventStart",{data:{button:t.button,clientX:t.clientX,clientY:t.clientY,shiftKey:t.shiftKey,target:t.target.className}}),console.log(d),oe(d),T.push(d),"text"===e.state.elementType?(e.setState({draggingElement:null,elementType:"selection"}),d.isSelected=!0):e.setState({draggingElement:d});var S=s,C=u;(c||i)&&(S=t.clientX-250,C=t.clientY-0);var B=function(t){if((console.log(t),"mousemove"!==t.type&&(t=t.detail),"mousemove"===t.type)&&!(t.target instanceof HTMLElement))return;if(c){var n=t.clientX-250,a=n-S;return e.setState((function(e){return{scrollX:e.scrollX-a}})),void(S=n)}if(i){var l=t.clientY-0,r=l-C;return e.setState((function(e){return{scrollY:e.scrollY-r}})),void(C=l)}if(v&&e.state.resizingElement){var o=e.state.resizingElement,s=T.filter((function(e){return e.isSelected}));if(1===s.length){var u=t.clientX-250-e.state.scrollX,d=t.clientY-0-e.state.scrollY;return s.forEach((function(e){switch(m){case"nw":e.width+=e.x-S,e.height+=e.y-C,e.x=S,e.y=C;break;case"ne":e.width=S-e.x,e.height+=e.y-C,e.y=C;break;case"sw":e.width+=e.x-S,e.x=S,e.height=C-e.y;break;case"se":e.width+=u-S,t.shiftKey?e.height=e.width:e.height+=d-C;break;case"n":e.height+=e.y-C,e.y=C;break;case"w":e.width+=e.x-S,e.x=S;break;case"s":e.height=C-e.y;break;case"e":e.width=S-e.x}o.x=e.x,o.y=e.y,oe(o)})),S=u,C=d,A=!0,void e.forceUpdate()}}if(console.log(f),f){var h=T.filter((function(e){return e.isSelected}));if(h.length){var p=t.clientX-250-e.state.scrollX,g=t.clientY-0-e.state.scrollY;return h.forEach((function(e){e.x+=p-S,e.y+=g-C})),S=p,C=g,A=!0,void e.forceUpdate()}}var y=e.state.draggingElement;if(y){var E=t.clientX-250-y.x-e.state.scrollX;console.log(E);var w=t.clientY-0-y.y-e.state.scrollY;y.width=E,y.height=t.shiftKey?Math.abs(E)*Math.sign(w):w,De.current=R.a(j),De.current.emit("eventDrawing",{data:{button:t.button,clientX:t.clientX,clientY:t.clientY,shiftKey:t.shiftKey,target:t.target.className}}),oe(y),"selection"===e.state.elementType&&de(y),A=!0,e.forceUpdate()}},O=function t(n){var a=e.state,l=a.draggingElement,r=a.elementType;if(Ye=null,window.removeEventListener("mousemove",B),window.removeEventListener("mouseup",t),window.removeEventListener("canvasmouseup",t),window.removeEventListener("canvasmousemove",B),fe(),null===l)return me(),void e.forceUpdate();"selection"===r?(f&&(f=!1),T.pop()):l.isSelected=!0,e.setState({draggingElement:null,elementType:"selection"}),De.current.emit("eventEnd",{data:{elementType:"selection"}}),e.forceUpdate()};Ye=O,window.addEventListener("mousemove",B),window.addEventListener("mouseup",O),A=!0,e.forceUpdate()}},e}return Object(S.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.onKeyDown,!1),window.addEventListener("resize",this.onResize,!1),document.getElementById("canvas").addEventListener("canvasmousedown",this.handlemousedown)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onKeyDown,!1),window.removeEventListener("resize",this.onResize,!1)}},{key:"render",value:function(){var e=this,t=window.innerWidth-250,n=window.innerHeight-0;return l.a.createElement("div",{className:"_drawcontainer",onCut:function(t){t.clipboardData.setData("text/plain",JSON.stringify(T.filter((function(e){return e.isSelected})))),ve(),e.forceUpdate(),t.preventDefault()},onCopy:function(e){e.clipboardData.setData("text/plain",JSON.stringify(T.filter((function(e){return e.isSelected})))),e.preventDefault()},onPaste:function(t){var n,a=t.clipboardData.getData("text");try{n=JSON.parse(a)}catch(t){}Array.isArray(n)&&n.length>0&&n[0].type&&(me(),n.forEach((function(e){e.x+=10,e.y+=10,e.seed=J(),oe(e),T.push(e)})),e.forceUpdate()),t.preventDefault()}},l.a.createElement("div",{className:"sidePanel"},l.a.createElement("h4",null,"Shapes"),l.a.createElement("div",{className:"panelTools"},xe.map((function(t){var n=t.value,a=t.icon;return l.a.createElement("label",{key:n,className:"tool",title:"".concat(Ne(n)," - ").concat(Ne(n)[0])},l.a.createElement("input",{type:"radio",className:n,checked:e.state.elementType===n,onChange:function(){!function(e){De.current.emit("changeTool",{data:e})}(n),e.setState({elementType:n}),me(),document.documentElement.style.cursor="text"===n?"text":"crosshair",e.forceUpdate()}}),l.a.createElement("div",{className:"toolIcon"},a))}))),l.a.createElement("h4",null,"Colors"),l.a.createElement("div",{className:"panelColumn"},l.a.createElement("label",null,l.a.createElement("input",{type:"color",value:this.state.viewBackgroundColor,onChange:function(t){e.setState({viewBackgroundColor:t.target.value})}}),"Background"),l.a.createElement("label",null,l.a.createElement("input",{type:"color",value:this.state.currentItemStrokeColor,onChange:function(t){e.setState({currentItemStrokeColor:t.target.value})}}),"Shape Stroke"),l.a.createElement("label",null,l.a.createElement("input",{type:"color",value:this.state.currentItemBackgroundColor,onChange:function(t){e.setState({currentItemBackgroundColor:t.target.value})}}),"Shape Background")),l.a.createElement("h4",null,"Canvas"),l.a.createElement("div",{className:"panelColumn"},l.a.createElement("button",{className:"chalk_button",onClick:this.clearCanvas,title:"Clear the canvas & reset background color"},"Clear canvas")),l.a.createElement("h4",null,"Export"),l.a.createElement("div",{className:"panelColumn"},l.a.createElement("button",{className:"chalk_button",onClick:function(){!function(e){var t=e.exportBackground,n=e.exportPadding,a=void 0===n?10:n,l=e.viewBackgroundColor,r=document.getElementById("canvas");if(X.a.canvas(r),r.getContext("2d"),!T.length)return window.alert("Cannot export empty canvas.");var o=1/0,c=0,i=1/0,s=0;function u(e,t){return Math.abs(e>t?e-t:t-e)}T.forEach((function(e){o=Math.min(o,ce(e)),c=Math.max(c,ie(e)),i=Math.min(i,se(e)),s=Math.max(s,ue(e))}));var d=document.createElement("canvas");d.style.display="none",document.body.appendChild(d),d.width=u(o,c)+2*a,d.height=u(i,s)+2*a,Q(X.a.canvas(d),d,{viewBackgroundColor:t?l:null,scrollX:0,scrollY:0},{offsetX:-o+a,offsetY:-i+a,renderScrollbars:!1,renderSelection:!1}),ee("chalkboard.png",d.toDataURL("image/png")),d!==r&&d.remove()}(e.state)}},"Export to png"),l.a.createElement("label",null,l.a.createElement("input",{type:"checkbox",checked:this.state.exportBackground,onChange:function(t){e.setState({exportBackground:t.target.checked})}}),"background")),l.a.createElement("h4",null,"Save/Load"),l.a.createElement("div",{className:"panelColumn"},l.a.createElement("button",{className:"chalk_button",onClick:function(){!function(){var e=JSON.stringify({version:1,source:window.location.origin,elements:T});ee("chalkboard.json","data:text/plain;charset=utf-8,"+encodeURIComponent(e))}()}},"Save as..."),l.a.createElement("button",{className:"chalk_button",onClick:function(){$().then((function(){return e.forceUpdate()}))}},"Load file...")),Oe()&&l.a.createElement(l.a.Fragment,null,l.a.createElement("h4",null,"Shape options"),l.a.createElement("div",{className:"panelColumn"},l.a.createElement("button",{className:"chalk_button",onClick:this.deleteSelectedElements},"Delete"),l.a.createElement("button",{className:"chalk_button",onClick:this.moveOneRight},"Bring forward"),l.a.createElement("button",{className:"chalk_button",onClick:this.moveAllRight},"Bring to front"),l.a.createElement("button",{className:"chalk_button",onClick:this.moveOneLeft},"Send backward"),l.a.createElement("button",{className:"chalk_button",onClick:this.moveAllLeft},"Send to back")))),l.a.createElement("canvas",{id:"canvas",style:{width:t,height:n},width:t*window.devicePixelRatio,height:n*window.devicePixelRatio,ref:function(a){e.removeWheelEventListener&&(e.removeWheelEventListener(),e.removeWheelEventListener=void 0),a&&(a.addEventListener("wheel",e.handleWheel,{passive:!1}),e.removeWheelEventListener=function(){return a.removeEventListener("wheel",e.handleWheel)},t===Me&&n===Xe||(Me=t,Xe=n,a.getContext("2d").scale(window.devicePixelRatio,window.devicePixelRatio)))},onMouseDown:this.handlemousedown}))}},{key:"componentDidUpdate",value:function(){var e,t=document.getElementById("canvas"),n=X.a.canvas(t);t.getContext("2d");Q(n,t,{scrollX:this.state.scrollX,scrollY:this.state.scrollY,viewBackgroundColor:this.state.viewBackgroundColor}),this.state,A||(e=U(),K.length>0&&K[K.length-1]===e||K.push(e)),A=!1}}]),n}(l.a.Component),Ie=n(75),je=n.n(Ie),Re=n(15);n(49),n(68),n(121);n(122);function Te(){return l.a.createElement("div",{className:"loader"},l.a.createElement("div",{className:"preloader"},l.a.createElement("div",{className:"box"},l.a.createElement("div",{className:"box__inner"},l.a.createElement("div",{className:"box__back-flap"}),l.a.createElement("div",{className:"box__right-flap"}),l.a.createElement("div",{className:"box__front-flap"}),l.a.createElement("div",{className:"box__left-flap"}),l.a.createElement("div",{className:"box__front"}))),l.a.createElement("div",{className:"box"},l.a.createElement("div",{className:"box__inner"},l.a.createElement("div",{className:"box__back-flap"}),l.a.createElement("div",{className:"box__right-flap"}),l.a.createElement("div",{className:"box__front-flap"}),l.a.createElement("div",{className:"box__left-flap"}),l.a.createElement("div",{className:"box__front"}))),l.a.createElement("div",{className:"line"},l.a.createElement("div",{className:"line__inner"})),l.a.createElement("div",{className:"line"},l.a.createElement("div",{className:"line__inner"})),l.a.createElement("div",{className:"line"},l.a.createElement("div",{className:"line__inner"})),l.a.createElement("div",{className:"line"},l.a.createElement("div",{className:"line__inner"})),l.a.createElement("div",{className:"line"},l.a.createElement("div",{className:"line__inner"})),l.a.createElement("div",{className:"line"},l.a.createElement("div",{className:"line__inner"})),l.a.createElement("div",{className:"line"},l.a.createElement("div",{className:"line__inner"}))))}n(123);var Ae=function(){var e,t,n,r,o=Object(i.f)(),c={"Python 2":"python2",C:"c","C-99":"c99","C++":"cpp","C++ 14":"cpp14","C++ 17":"cpp17","Python 3":"python3"};return Object(a.useEffect)((function(){var a=document.getElementById("language");for(var l in c){var o=document.createElement("option");o.text=l,o.value=c[l],o.className=c[l],a.add(o)}var i=document.getElementById("lectureType"),s=document.getElementById("lectureName"),u=document.getElementById("creator");document.getElementById("submit").addEventListener("click",(function(){t=i.value,e=s.value,n=u.value,r="dsa"===t?a.value:""})),i.addEventListener("change",(function(e){"dsa"===e.target.value?a.style.display="block":a.style.display="none"}))}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement("form",null,l.a.createElement("input",{id:"lectureName",placeholder:"Lecture Title"}),l.a.createElement("input",{id:"creator",placeholder:"Creator"}),l.a.createElement("select",{name:"language",id:"language"}),l.a.createElement("select",{id:"lectureType"},l.a.createElement("option",{value:"ide"},"Web Developerment"),l.a.createElement("option",{value:"dsa"},"DSA"),l.a.createElement("option",{value:"dra"},"Chalk Board")),l.a.createElement("button",{type:"button",onClick:function(){return o.push({pathname:"/recorder",state:{lectureType:t,lectureName:e,lectureCreator:n,languageType:r}})},id:"submit"},"Submit")))},Ke=Array.of(),Ue=!1,ze=[];function Je(){return JSON.stringify(Ke.map((function(e){return Object(M.a)(Object(M.a)({},e),{},{isSelected:!1})})))}function Pe(e){var t=JSON.parse(e);Ke.splice(0,Ke.length),t.forEach((function(e){it(e),Ke.push(e)})),Ue=!0}function He(){return Math.floor(Math.random()*Math.pow(2,31))}function We(e,t){var n=Math.random;Math.random=function(e){return function(){return(Math.pow(2,31)-1&(e=Math.imul(48271,e)))/Math.pow(2,31)}}(e);var a=t();return Math.random=n,a}function Fe(e,t,n,a,l,r){var o,c,i=l-n,s=r-a,u=i*i+s*s,d=-1;0!==u&&(d=((e-n)*i+(t-a)*s)/u),d<0?(o=n,c=a):d>1?(o=l,c=r):(o=n+d*i,c=a+d*s);var m=e-o,f=t-c;return Math.hypot(m,f)}function Ve(e,t,n){if("ellipse"===e.type){var a=Math.abs(t-e.x-e.width/2),l=Math.abs(n-e.y-e.height/2),r=.707,o=.707,c=e.width/2,i=e.height/2;return[0,1,2,3].forEach((function(e){var t=c*r,n=i*o,s=(c*c-i*i)*Math.pow(r,3)/c,u=(i*i-c*c)*Math.pow(o,3)/i,d=t-s,m=n-u,f=a-s,v=l-u,h=Math.hypot(m,d),p=Math.hypot(v,f);r=Math.min(1,Math.max(0,(f*h/p+s)/c)),o=Math.min(1,Math.max(0,(v*h/p+u)/i));var g=Math.hypot(o,r);r/=g,o/=g})),Math.hypot(c*r-a,i*o-l)<10}if("rectangle"===e.type){var s=st(e),u=ut(e),m=dt(e),f=mt(e);return Fe(t,n,s,m,u,m)<10||Fe(t,n,u,m,u,f)<10||Fe(t,n,u,f,s,f)<10||Fe(t,n,s,f,s,m)<10}if("arrow"===e.type){var v=ct(e),h=Object(d.a)(v,8),p=h[0],g=h[1],y=h[2],E=h[3],w=h[4],b=h[5],x=h[6],k=h[7];return Fe(t-=e.x,n-=e.y,w,b,y,E)<10||Fe(t,n,p,g,y,E)<10||Fe(t,n,x,k,y,E)<10}if("text"===e.type){var N=st(e),S=ut(e),C=dt(e),B=mt(e);return t>=N&&t<=S&&n>=C&&n<=B}if("selection"===e.type)return console.warn("This should not happen, we need to investigate why it does."),!1;throw new Error("Unimplemented type "+e.type)}function qe(e,t,n,a){if("text"===e.type||"arrow"===e.type)return!1;var l=$e(e,a),r=Object.keys(l).filter((function(e){var r=l[e];return t+a.scrollX>=r[0]&&t+a.scrollX<=r[0]+r[2]&&n+a.scrollY>=r[1]&&n+a.scrollY<=r[1]+r[3]}));return r.length>0&&r[0]}function Ge(e,t,n,a,l){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,c={type:e,x:t,y:n,width:r,height:o,isSelected:!1,strokeColor:a,backgroundColor:l,seed:He(),draw:function(e,t,n){}};return c}function Ze(e,t,n,a){var l=e*e/(e+Math.abs(n)),r={x:(n>0?0:e-l)+4,y:t-6-4,width:l-8,height:6},o=t*t/(t+Math.abs(a));return{horizontal:r,vertical:{x:e-6-4,y:(a>0?0:t-o)+4,width:6,height:o-12}}}function Qe(e,t,n,a,l,r){var o=Ze(n,a,l,r),c=[o.horizontal,o.vertical].map((function(n){return n.x<=e&&e<=n.x+n.width&&n.y<=t&&t<=n.y+n.height})),i=Object(d.a)(c,2);return{isOverHorizontalScrollBar:i[0],isOverVerticalScrollBar:i[1]}}function $e(e,t){var n=e.x,a=e.x+e.width,l=e.y,r=e.y+e.height,o={},c=e.width<0?8:-8,i=e.height<0?8:-8;return Math.abs(a-n)>40&&(o.n=[n+(a-n)/2+t.scrollX-4,l-4+t.scrollY+i,8,8],o.s=[n+(a-n)/2+t.scrollX-4,r-4+t.scrollY-i,8,8]),Math.abs(r-l)>40&&(o.w=[n-4+t.scrollX+c,l+(r-l)/2+t.scrollY-4,8,8],o.e=[a-4+t.scrollX-c,l+(r-l)/2+t.scrollY-4,8,8]),o.nw=[n-4+t.scrollX+c,l-4+t.scrollY+i,8,8],o.ne=[a-4+t.scrollX-c,l-4+t.scrollY+i,8,8],o.sw=[n-4+t.scrollX+c,r-4+t.scrollY-i,8,8],o.se=[a-4+t.scrollX-c,r-4+t.scrollY-i,8,8],o}function et(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=a.offsetX,r=a.offsetY,o=a.renderScrollbars,c=void 0===o||o,i=a.renderSelection,s=void 0===i||i;if(t){var u=t.getContext("2d"),d=u.fillStyle;"string"===typeof n.viewBackgroundColor?(u.fillStyle=n.viewBackgroundColor,u.fillRect(0,0,t.width,t.height)):u.clearRect(0,0,t.width,t.height),u.fillStyle=d;var m=Mt();if(n=Object(M.a)(Object(M.a)({},n),{},{scrollX:"number"===typeof l?l:n.scrollX,scrollY:"number"===typeof r?r:n.scrollY}),Ke.forEach((function(t){if(t.draw(e,u,n),s&&t.isSelected){var a=st(t),l=ut(t),r=dt(t),o=mt(t),c=u.getLineDash();if(u.setLineDash([8,4]),u.strokeRect(a-4+n.scrollX,r-4+n.scrollY,l-a+8,o-r+8),u.setLineDash(c),"text"!==t.type&&"arrow"!==t.type&&1===m.length){var i=$e(t,n);Object.values(i).forEach((function(e){u.strokeRect(e[0],e[1],e[2],e[3])}))}}})),c){var f=Ze(u.canvas.width/window.devicePixelRatio,u.canvas.height/window.devicePixelRatio,n.scrollX,n.scrollY);u.fillStyle="rgba(0,0,0,0.3)",u.fillRect(f.horizontal.x,f.horizontal.y,f.horizontal.width,f.horizontal.height),u.fillRect(f.vertical.x,f.vertical.y,f.vertical.width,f.vertical.height),u.fillStyle=d}}}function tt(){var e=document.createElement("input"),t=new FileReader;return e.type="file",e.accept=".json",e.onchange=function(){e.files.length?t.readAsText(e.files[0],"utf8"):alert("A file was not selected.")},e.click(),new Promise((function(e){t.onloadend=function(){t.readyState===FileReader.DONE&&(!function(e,t){try{e&&(Ke.splice.apply(Ke,[0,Ke.length].concat(Object(O.a)("string"===typeof e?JSON.parse(e):e))),Ke.forEach((function(e){return it(e)}))),t&&JSON.parse(t)}catch(n){return Ke.splice(0,Ke.length),null}}(JSON.parse(t.result).elements,null),e())}}))}function nt(e,t){var n=document.createElement("a");n.setAttribute("download",e),n.setAttribute("href",t),n.click(),n.remove()}function at(e,t,n,a,l){return[(e-n)*Math.cos(l)-(t-a)*Math.sin(l)+n,(e-n)*Math.sin(l)+(t-a)*Math.cos(l)+a]}var lt=X.a.generator(null,null);function rt(e){return"text"===e.type}function ot(e){return e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement||e instanceof HTMLSelectElement}function ct(e){var t=e.width,n=e.height,a=Math.hypot(t-0,n-0),l=Math.min(30,a/2),r=t-(t-0)/a*l,o=n-(n-0)/a*l,c=at(r,o,t,n,-20*Math.PI/180),i=Object(d.a)(c,2),s=i[0],u=i[1],m=at(r,o,t,n,20*Math.PI/180),f=Object(d.a)(m,2);return[0,0,t,n,s,u,f[0],f[1]]}function it(e){if("selection"===e.type)e.draw=function(t,n,a){var l=a.scrollX,r=a.scrollY,o=n.fillStyle;n.fillStyle="rgba(0, 0, 255, 0.10)",n.fillRect(e.x+l,e.y+r,e.width,e.height),n.fillStyle=o};else if("rectangle"===e.type){var t=We(e.seed,(function(){return lt.rectangle(0,0,e.width,e.height,{stroke:e.strokeColor,fill:e.backgroundColor})}));e.draw=function(n,a,l){var r=l.scrollX,o=l.scrollY;a.translate(e.x+r,e.y+o),n.draw(t),a.translate(-e.x-r,-e.y-o)}}else if("ellipse"===e.type){var n=We(e.seed,(function(){return lt.ellipse(e.width/2,e.height/2,e.width,e.height,{stroke:e.strokeColor,fill:e.backgroundColor})}));e.draw=function(t,a,l){var r=l.scrollX,o=l.scrollY;a.translate(e.x+r,e.y+o),t.draw(n),a.translate(-e.x-r,-e.y-o)}}else{if("arrow"===e.type){var a=ct(e),l=Object(d.a)(a,8),r=l[0],o=l[1],c=l[2],i=l[3],s=l[4],u=l[5],m=l[6],f=l[7],v=We(e.seed,(function(){return[lt.line(s,u,c,i,{stroke:e.strokeColor}),lt.line(r,o,c,i,{stroke:e.strokeColor}),lt.line(m,f,c,i,{stroke:e.strokeColor})]}));return void(e.draw=function(t,n,a){var l=a.scrollX,r=a.scrollY;n.translate(e.x+l,e.y+r),v.forEach((function(e){return t.draw(e)})),n.translate(-e.x-l,-e.y-r)})}if(!rt(e))throw new Error("Unimplemented type "+e.type);e.draw=function(t,n,a){var l=a.scrollX,r=a.scrollY,o=n.font;n.font=e.font;var c=n.fillStyle;n.fillStyle=e.strokeColor,n.fillText(e.text,e.x+l,e.y+e.actualBoundingBoxAscent+r),n.fillStyle=c,n.font=o}}}function st(e){return e.width>=0?e.x:e.x+e.width}function ut(e){return e.width>=0?e.x+e.width:e.x}function dt(e){return e.height>=0?e.y:e.y+e.height}function mt(e){return e.height>=0?e.y+e.height:e.y}function ft(e){var t=st(e),n=ut(e),a=dt(e),l=mt(e);Ke.forEach((function(e){var r=st(e),o=ut(e),c=dt(e),i=mt(e);e.isSelected="selection"!==e.type&&t<=r&&a<=c&&n>=o&&l>=i}))}function vt(){Ke.forEach((function(e){e.isSelected=!1}))}function ht(){document.documentElement.style.cursor=""}function pt(){for(var e=Ke.length-1;e>=0;--e)Ke[e].isSelected&&Ke.splice(e,1)}var gt="ArrowLeft",yt="ArrowRight",Et="ArrowDown",wt="ArrowUp",bt="Escape",xt="Delete",kt="Backspace",Nt=[{icon:l.a.createElement("svg",{viewBox:"0 0 320 512"},l.a.createElement("path",{d:"M302.189 329.126H196.105l55.831 135.993c3.889 9.428-.555 19.999-9.444 23.999l-49.165 21.427c-9.165 4-19.443-.571-23.332-9.714l-53.053-129.136-86.664 89.138C18.729 472.71 0 463.554 0 447.977V18.299C0 1.899 19.921-6.096 30.277 5.443l284.412 292.542c11.472 11.179 3.007 31.141-12.5 31.141z"})),value:"selection"},{icon:l.a.createElement("svg",{viewBox:"0 0 448 512"},l.a.createElement("path",{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"})),value:"rectangle"},{icon:l.a.createElement("svg",{viewBox:"0 0 512 512"},l.a.createElement("path",{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"})),value:"ellipse"},{icon:l.a.createElement("svg",{viewBox:"0 0 448 512"},l.a.createElement("path",{d:"M313.941 216H12c-6.627 0-12 5.373-12 12v56c0 6.627 5.373 12 12 12h301.941v46.059c0 21.382 25.851 32.09 40.971 16.971l86.059-86.059c9.373-9.373 9.373-24.569 0-33.941l-86.059-86.059c-15.119-15.119-40.971-4.411-40.971 16.971V216z"})),value:"arrow"},{icon:l.a.createElement("svg",{viewBox:"0 0 448 512"},l.a.createElement("path",{d:"M432 416h-23.41L277.88 53.69A32 32 0 0 0 247.58 32h-47.16a32 32 0 0 0-30.3 21.69L39.41 416H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16h-19.58l23.3-64h152.56l23.3 64H304a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM176.85 272L224 142.51 271.15 272z"})),value:"text"}],St=Nt.map((function(e){return e.value[0]}));function Ct(e){return e.charAt(0).toUpperCase()+e.slice(1)}function Bt(e){return Nt.reduce((function(t,n){return n.value[0]!==e?t:n.value}),"selection")}function Ot(e){return e===gt||e===yt||e===Et||e===wt}function Mt(){var e=[];return Ke.forEach((function(t,n){t.isSelected&&e.push(n)})),e}var Xt,Yt=function(){return Ke.some((function(e){return e.isSelected}))},Dt=-1,Lt=-1,_t=null,It=function(e){Object(C.a)(n,e);var t=Object(B.a)(n);function n(){var e;Object(N.a)(this,n);l.a.createRef();return(e=t.apply(this,arguments)).state={draggingElement:null,resizingElement:null,elementType:"circle",exportBackground:!0,currentItemStrokeColor:"#000000",currentItemBackgroundColor:"#ffffff",viewBackgroundColor:"#ffffff",scrollX:0,scrollY:0},e.onResize=function(){e.forceUpdate()},e.onKeyDown=function(t){if(!ot(t.target))if(t.key===bt)vt(),e.forceUpdate(),t.preventDefault();else if(t.key===kt||t.key===xt)pt(),e.forceUpdate(),t.preventDefault();else if(Ot(t.key)){var n=t.shiftKey?5:1;Ke.forEach((function(e){e.isSelected&&(t.key===gt?e.x-=n:t.key===yt?e.x+=n:t.key===wt?e.y-=n:t.key===Et&&(e.y+=n))})),e.forceUpdate(),t.preventDefault()}else if(t.metaKey&&t.shiftKey&&t.altKey&&"KeyB"===t.code)e.moveOneLeft(),t.preventDefault();else if(t.metaKey&&t.shiftKey&&"KeyB"===t.code)e.moveAllLeft(),t.preventDefault();else if(t.metaKey&&t.shiftKey&&t.altKey&&"KeyF"===t.code)e.moveOneRight(),t.preventDefault();else if(t.metaKey&&t.shiftKey&&"KeyF"===t.code)e.moveAllRight(),t.preventDefault();else if(t.metaKey&&"KeyA"===t.code)Ke.forEach((function(e){e.isSelected=!0})),e.forceUpdate(),t.preventDefault();else if(St.includes(t.key.toLowerCase()))e.setState({elementType:Bt(t.key)});else if(t.metaKey&&"KeyZ"===t.code){var a=ze.pop();Je()===a&&(a=ze.pop()),void 0!==a&&Pe(a),e.forceUpdate(),t.preventDefault()}},e.deleteSelectedElements=function(){pt(),e.forceUpdate()},e.clearCanvas=function(){window.confirm("This will clear the whole canvas. Are you sure?")&&(Ke.splice(0,Ke.length),e.setState({viewBackgroundColor:"#ffffff",scrollX:0,scrollY:0}),e.forceUpdate())},e.moveAllLeft=function(){_(Ke,Mt()),e.forceUpdate()},e.moveOneLeft=function(){D(Ke,Mt()),e.forceUpdate()},e.moveAllRight=function(){I(Ke,Mt()),e.forceUpdate()},e.moveOneRight=function(){L(Ke,Mt()),e.forceUpdate()},e.handleWheel=function(t){t.preventDefault();var n=t.deltaX,a=t.deltaY;e.setState((function(e){return{scrollX:e.scrollX-n,scrollY:e.scrollY-a}}))},e.handlemousedown=function(t){console.log("WORKING"),"mousedown"!==t.type&&(t=t.detail);var n=window.innerWidth-250,a=window.innerHeight-0,l=document.getElementById("canvas"),r=(X.a.canvas(l),l.getContext("2d"));if(null!==_t&&_t(t),0===t.button){ot(document.activeElement)&&document.activeElement.blur();var o=Qe(t.clientX-250,t.clientY-0,n,a,e.state.scrollX,e.state.scrollY),c=o.isOverHorizontalScrollBar,i=o.isOverVerticalScrollBar,s=t.clientX-250-e.state.scrollX,u=t.clientY-0-e.state.scrollY,d=Ge(e.state.elementType,s,u,e.state.currentItemStrokeColor,e.state.currentItemBackgroundColor),m=!1,f=!1,v=!1;if("selection"===e.state.elementType){var h=Ke.find((function(t){return qe(t,s,u,{scrollX:e.state.scrollX,scrollY:e.state.scrollY,viewBackgroundColor:e.state.viewBackgroundColor})}));if(e.setState({resizingElement:h||null}),h)m=qe(h,s,u,{scrollX:e.state.scrollX,scrollY:e.state.scrollY,viewBackgroundColor:e.state.viewBackgroundColor}),document.documentElement.style.cursor="".concat(m,"-resize"),v=!0;else{for(var p=null,g=Ke.length-1;g>=0;--g)if(Ve(Ke[g],s,u)){p=Ke[g];break}p?p.isSelected||(t.shiftKey||vt(),p.isSelected=!0):vt(),(f=Yt())&&(document.documentElement.style.cursor="move")}}if(rt(d)){ht();var y=prompt("What text do you want?");if(null===y)return;d.text=y,d.font="".concat(20,"px Virgil");var E=r.font;r.font=d.font;var w=r.measureText(d.text),b=w.width,x=w.actualBoundingBoxAscent||20,k=w.actualBoundingBoxDescent||0;d.actualBoundingBoxAscent=x,r.font=E;var N=x+k;d.x-=b/2,d.y-=x,d.width=b,d.height=N}it(d),Ke.push(d),"text"===e.state.elementType?(e.setState({draggingElement:null,elementType:"selection"}),d.isSelected=!0):e.setState({draggingElement:d});var S=s,C=u;(c||i)&&(S=t.clientX-250,C=t.clientY-0);var B=function(t){if((console.log(t.clientY),console.log(t.clientX),"mousemove"!==t.type&&(t=t.detail),"mousemove"===t.type)&&!(t.target instanceof HTMLElement))return;if(c){var n=t.clientX-250,a=n-S;return e.setState((function(e){return{scrollX:e.scrollX-a}})),void(S=n)}if(i){var l=t.clientY-0,r=l-C;return e.setState((function(e){return{scrollY:e.scrollY-r}})),void(C=l)}if(v&&e.state.resizingElement){var o=e.state.resizingElement,s=Ke.filter((function(e){return e.isSelected}));if(1===s.length){var u=t.clientX-250-e.state.scrollX,d=t.clientY-0-e.state.scrollY;return s.forEach((function(e){switch(m){case"nw":e.width+=e.x-S,e.height+=e.y-C,e.x=S,e.y=C;break;case"ne":e.width=S-e.x,e.height+=e.y-C,e.y=C;break;case"sw":e.width+=e.x-S,e.x=S,e.height=C-e.y;break;case"se":e.width+=u-S,t.shiftKey?e.height=e.width:e.height+=d-C;break;case"n":e.height+=e.y-C,e.y=C;break;case"w":e.width+=e.x-S,e.x=S;break;case"s":e.height=C-e.y;break;case"e":e.width=S-e.x}o.x=e.x,o.y=e.y,it(o)})),S=u,C=d,Ue=!0,void e.forceUpdate()}}if(f){var h=Ke.filter((function(e){return e.isSelected}));if(h.length){var p=t.clientX-250-e.state.scrollX,g=t.clientY-0-e.state.scrollY;return h.forEach((function(e){e.x+=p-S,e.y+=g-C})),S=p,C=g,Ue=!0,void e.forceUpdate()}}var y=e.state.draggingElement;if(y){var E=t.clientX-250-y.x-e.state.scrollX,w=t.clientY-0-y.y-e.state.scrollY;y.width=E,y.height=t.shiftKey?Math.abs(E)*Math.sign(w):w,console.log("width ",E),console.log("height ",w),it(y),"selection"===e.state.elementType&&ft(y),Ue=!0,e.forceUpdate()}},O=function t(n){var a=e.state,l=a.draggingElement,r=a.elementType;if(_t=null,window.removeEventListener("mousemove",B),window.removeEventListener("mouseup",t),window.removeEventListener("canvasmouseup",t),window.removeEventListener("canvasmousemove",B),ht(),null===l)return vt(),void e.forceUpdate();"selection"===r?(f&&(f=!1),Ke.pop()):l.isSelected=!0,e.setState({draggingElement:null,elementType:"selection"}),e.forceUpdate()};_t=O,window.addEventListener("mousemove",B),window.addEventListener("mouseup",O),Ue=!0,e.forceUpdate()}},e}return Object(S.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.onKeyDown,!1),window.addEventListener("resize",this.onResize,!1),document.getElementById("canvas").addEventListener("canvasmousedown",this.handlemousedown)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onKeyDown,!1),window.removeEventListener("resize",this.onResize,!1);var e=l.a.createRef();e.current=R.a("http://localhost:5000"),e.current.on("liveStart",(function(e){var t=e.event;console.log(t),it(t)}))}},{key:"render",value:function(){var e=this,t=window.innerWidth-250,n=window.innerHeight-0;return l.a.createElement("div",{className:"container",onCut:function(t){t.clipboardData.setData("text/plain",JSON.stringify(Ke.filter((function(e){return e.isSelected})))),pt(),e.forceUpdate(),t.preventDefault()},onCopy:function(e){e.clipboardData.setData("text/plain",JSON.stringify(Ke.filter((function(e){return e.isSelected})))),e.preventDefault()},onPaste:function(t){var n,a=t.clipboardData.getData("text");try{n=JSON.parse(a)}catch(t){}Array.isArray(n)&&n.length>0&&n[0].type&&(vt(),n.forEach((function(e){e.x+=10,e.y+=10,e.seed=He(),it(e),Ke.push(e)})),e.forceUpdate()),t.preventDefault()}},l.a.createElement("div",{className:"sidePanel"},l.a.createElement("h4",null,"Shapes"),l.a.createElement("div",{className:"panelTools"},Nt.map((function(t){var n=t.value,a=t.icon;return l.a.createElement("label",{key:n,className:"tool",title:"".concat(Ct(n)," - ").concat(Ct(n)[0])},l.a.createElement("input",{type:"radio",className:n,checked:e.state.elementType===n,onChange:function(){e.setState({elementType:n}),vt(),document.documentElement.style.cursor="text"===n?"text":"crosshair",e.forceUpdate()}}),l.a.createElement("div",{className:"toolIcon"},a))}))),l.a.createElement("h4",null,"Colors"),l.a.createElement("div",{className:"panelColumn"},l.a.createElement("label",null,l.a.createElement("input",{type:"color",value:this.state.viewBackgroundColor,onChange:function(t){e.setState({viewBackgroundColor:t.target.value})}}),"Background"),l.a.createElement("label",null,l.a.createElement("input",{type:"color",value:this.state.currentItemStrokeColor,onChange:function(t){e.setState({currentItemStrokeColor:t.target.value})}}),"Shape Stroke"),l.a.createElement("label",null,l.a.createElement("input",{type:"color",value:this.state.currentItemBackgroundColor,onChange:function(t){e.setState({currentItemBackgroundColor:t.target.value})}}),"Shape Background")),l.a.createElement("h4",null,"Canvas"),l.a.createElement("div",{className:"panelColumn"},l.a.createElement("button",{onClick:this.clearCanvas,title:"Clear the canvas & reset background color"},"Clear canvas")),l.a.createElement("h4",null,"Export"),l.a.createElement("div",{className:"panelColumn"},l.a.createElement("button",{onClick:function(){!function(e){var t=e.exportBackground,n=e.exportPadding,a=void 0===n?10:n,l=e.viewBackgroundColor,r=document.getElementById("canvas");if(X.a.canvas(r),r.getContext("2d"),!Ke.length)return window.alert("Cannot export empty canvas.");var o=1/0,c=0,i=1/0,s=0;function u(e,t){return Math.abs(e>t?e-t:t-e)}Ke.forEach((function(e){o=Math.min(o,st(e)),c=Math.max(c,ut(e)),i=Math.min(i,dt(e)),s=Math.max(s,mt(e))}));var d=document.createElement("canvas");d.style.display="none",document.body.appendChild(d),d.width=u(o,c)+2*a,d.height=u(i,s)+2*a,et(X.a.canvas(d),d,{viewBackgroundColor:t?l:null,scrollX:0,scrollY:0},{offsetX:-o+a,offsetY:-i+a,renderScrollbars:!1,renderSelection:!1}),nt("chalkboard.png",d.toDataURL("image/png")),d!==r&&d.remove()}(e.state)}},"Export to png"),l.a.createElement("label",null,l.a.createElement("input",{type:"checkbox",checked:this.state.exportBackground,onChange:function(t){e.setState({exportBackground:t.target.checked})}}),"background")),l.a.createElement("h4",null,"Save/Load"),l.a.createElement("div",{className:"panelColumn"},l.a.createElement("button",{onClick:function(){!function(){var e=JSON.stringify({version:1,source:window.location.origin,elements:Ke});nt("chalkboard.json","data:text/plain;charset=utf-8,"+encodeURIComponent(e))}()}},"Save as..."),l.a.createElement("button",{onClick:function(){tt().then((function(){return e.forceUpdate()}))}},"Load file...")),Yt()&&l.a.createElement(l.a.Fragment,null,l.a.createElement("h4",null,"Shape options"),l.a.createElement("div",{className:"panelColumn"},l.a.createElement("button",{onClick:this.deleteSelectedElements},"Delete"),l.a.createElement("button",{onClick:this.moveOneRight},"Bring forward"),l.a.createElement("button",{onClick:this.moveAllRight},"Bring to front"),l.a.createElement("button",{onClick:this.moveOneLeft},"Send backward"),l.a.createElement("button",{onClick:this.moveAllLeft},"Send to back")))),l.a.createElement("canvas",{id:"canvas",style:{width:t,height:n},width:t*window.devicePixelRatio,height:n*window.devicePixelRatio,ref:function(a){e.removeWheelEventListener&&(e.removeWheelEventListener(),e.removeWheelEventListener=void 0),a&&(a.addEventListener("wheel",e.handleWheel,{passive:!1}),e.removeWheelEventListener=function(){return a.removeEventListener("wheel",e.handleWheel)},t===Dt&&n===Lt||(Dt=t,Lt=n,a.getContext("2d").scale(window.devicePixelRatio,window.devicePixelRatio)))},onMouseDown:this.handlemousedown}))}},{key:"componentDidUpdate",value:function(){var e,t=document.getElementById("canvas"),n=X.a.canvas(t);t.getContext("2d");et(n,t,{scrollX:this.state.scrollX,scrollY:this.state.scrollY,viewBackgroundColor:this.state.viewBackgroundColor}),this.state,Ue||(e=Je(),ze.length>0&&ze[ze.length-1]===e||ze.push(e)),Ue=!1}}]),n}(l.a.Component),jt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"index.html",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"js":return e="script.js";case"css":return e="style.css";case"html":return e="index.html";default:return e}},Rt=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"outputtrue":return e=!0;case"outputfalse":return e=!1;default:return e}},Tt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"c",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"c":return e="c";case"c99":return e="c99";case"cpp":return e="cpp";case"cpp14":return e="cpp14";case"cpp17":return e="cpp17";case"python2":return e="python2";case"python3":return e="python3";default:return e}},At=Object(s.b)({fileName:jt,outputModal:Rt,srcDocs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"setSrcdoc":return e="\n            <html>\n              <body>".concat(h["index.html"].value,"</body>\n              <style>").concat(h["style.css"].value,"</style>\n              <script>").concat(h["script.js"].value,"<\/script>\n            </html>\n          ");default:return e}},language:Tt});Xt="https://fierce-reef-05156.herokuapp.com/";var Kt=function(){var e=Object(a.useRef)();return Object(a.useEffect)((function(){e.current=R.a(Xt),e.current.on("liveStart",(function(e){var t=e.event,n=new MouseEvent("mousedown",{bubbles:!0,cancelable:!0,button:t.button,clientX:t.clientX,clientY:t.clientY,shiftKey:t.shiftKey});document.getElementById("canvas")&&document.getElementById("canvas").dispatchEvent(n)})),e.current.on("toolChange",(function(e){var t=e.event;console.log(t),"rectangle"!==t&&"ellipse"!==t&&"arrow"!==t&&"selection"!==t||document.getElementsByClassName(t)[0].click()})),e.current.on("liveDrawing",(function(e){var t=e.event;console.log(t);var n=new MouseEvent("mousemove",{bubbles:!0,cancelable:!0,button:t.button,clientX:t.clientX,clientY:t.clientY,shiftKey:t.shiftKey});document.getElementById("canvas")&&document.getElementById("canvas").dispatchEvent(n)})),e.current.on("liveEnd",(function(e){e.event;var t=new MouseEvent("mouseup",{bubbles:!0,cancelable:!0});document.getElementById("canvas")&&document.getElementById("canvas").dispatchEvent(t)}))}),[e]),l.a.createElement(l.a.Fragment,null,l.a.createElement(It,null))},Ut=n(77);n(125);var zt=function(e){var t=Object(i.f)();return Object(a.useEffect)((function(){for(var n=document.getElementById("lectureCard"),a=0;a<e.lectures.length;a++){var l=document.createElement("div"),r=document.createElement("button");r.textContent="Play Lecture";var o=document.createElement("h3"),c=document.createElement("h3"),i=document.createElement("h3");o.className="nameoflecture",c.className="nameofcreator",i.className="languageofLecture",r.className=e.lectures[a].type+e.lectures[a].language,r.id=e.lectures[a].id,l.appendChild(o),l.appendChild(c),l.appendChild(i),l.appendChild(r),o.innerHTML="Name - "+e.lectures[a].name,c.innerHTML="Creator - "+e.lectures[a].creator,""!==e.lectures[a].language&&(i.innerHTML="Language- "+e.lectures[a].language),n.appendChild(l)}n.addEventListener("click",(function(e){var n=e.target.id;console.log(e);var a=e.target.className;console.log(a),console.log(e.target.id),t.push({pathname:"/videoplayer",state:{id:n,type:a}})}))}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{id:"lectureCard"}))};function Jt(){return l.a.createElement("div",{className:"loader"},l.a.createElement("div",{className:"preloader"},l.a.createElement("div",{className:"box"},l.a.createElement("div",{className:"box__inner"},l.a.createElement("div",{className:"box__back-flap"}),l.a.createElement("div",{className:"box__right-flap"}),l.a.createElement("div",{className:"box__front-flap"}),l.a.createElement("div",{className:"box__left-flap"}),l.a.createElement("div",{className:"box__front"}))),l.a.createElement("div",{className:"box"},l.a.createElement("div",{className:"box__inner"},l.a.createElement("div",{className:"box__back-flap"}),l.a.createElement("div",{className:"box__right-flap"}),l.a.createElement("div",{className:"box__front-flap"}),l.a.createElement("div",{className:"box__left-flap"}),l.a.createElement("div",{className:"box__front"}))),l.a.createElement("div",{className:"line"},l.a.createElement("div",{className:"line__inner"})),l.a.createElement("div",{className:"line"},l.a.createElement("div",{className:"line__inner"})),l.a.createElement("div",{className:"line"},l.a.createElement("div",{className:"line__inner"})),l.a.createElement("div",{className:"line"},l.a.createElement("div",{className:"line__inner"})),l.a.createElement("div",{className:"line"},l.a.createElement("div",{className:"line__inner"})),l.a.createElement("div",{className:"line"},l.a.createElement("div",{className:"line__inner"})),l.a.createElement("div",{className:"line"},l.a.createElement("div",{className:"line__inner"}))))}var Pt=function(){var e=Object(a.useState)(""),t=Object(d.a)(e,2),n=t[0],r=t[1],o=[],c=Object(a.useState)(!1),i=Object(d.a)(c,2),s=i[0],u=i[1];return Object(a.useEffect)((function(){Re.a.firestore().collection("recordIndex").orderBy("createdAt","desc").limit(10).get().then((function(e){e.forEach((function(e){o.push(e.data())})),r(o),u(!0)}))}),[]),l.a.createElement(l.a.Fragment,null,s?l.a.createElement(zt,{lectures:n}):l.a.createElement(Jt,null))};0===Re.a.apps.length&&Re.a.initializeApp({apiKey:"AIzaSyAp2cQvNNp8fUKOv6kO_7wR5IsKROCoh14",authDomain:"engage-6ef42.firebaseapp.com",projectId:"engage-6ef42",storageBucket:"engage-6ef42.appspot.com",messagingSenderId:"27842359842",appId:"1:27842359842:web:e8f5b15f6a86ac66fa507b",measurementId:"G-EVEY2DP36T"});var Ht=[Ut.a],Wt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.c,Ft=Object(s.d)(At,Wt(s.a.apply(void 0,Ht)));o.a.render(l.a.createElement(u.a,{store:Ft},l.a.createElement(l.a.StrictMode,null,l.a.createElement(c.a,null,l.a.createElement(i.c,null,l.a.createElement(i.a,{exact:!0,path:"/lectures",component:Pt}),l.a.createElement(i.a,{exact:!0,path:"/drawboard",component:_e}),l.a.createElement(i.a,{exact:!0,path:"/drawboardlive",component:Kt}),l.a.createElement(i.a,{exact:!0,path:"/recordform",component:Ae}),l.a.createElement(i.a,{exact:!0,path:"/recorder",component:function(e){var t,n,a=e.location.state.lectureType,r=e.location.state.languageType,o={events:[]},c={x:0,y:0},i="";"dsa"===a?t=r:"ide"===a&&(t="index.html");var s="",u=[{eventName:"mouseup",handler:function(e){o.events.push({type:"mouseup",time:Date.now()-Le})}},{eventName:"mousedown",handler:function(e){o.events.push({type:"mousedown",button:e.button,clientX:e.clientX,clientY:e.clientY,shiftKey:e.shiftKey,time:Date.now()-Le})}},{eventName:"mousemove",handler:function(e){c={x:e.pageX,y:e.pageY},o.events.push({type:"mousemove",clientX:e.clientX,clientY:e.clientY,shiftKey:e.shiftKey,target:s,x:e.pageX,fileName:t,y:e.pageY,value:i,time:Date.now()-Le})}},{eventName:"click",handler:function(e){"cssfile"!==e.target.className&&"buttontext style"!==e.target.className&&"fab fa-css3-alt"!==e.target.className||(t="style.css"),"jsfile"!==e.target.className&&"buttontext script"!==e.target.className&&" fa-js-square"!==e.target.className||(t="script.js"),"htmlfile"!==e.target.className&&"buttontext html"!==e.target.className&&"fab fa-html5fab"!==e.target.className||(t="index.html"),o.events.push({type:"click",target:e.target.className,x:e.pageX,fileName:t,y:e.pageY,time:Date.now()-Le})}},{eventName:"keyup",handler:function(e){console.log(h[t]),"ide"!==a&&"dsa"!==a||(i=n,s=e.target.className,o.events.push({type:"keyup",target:e.target.className,x:c.x,y:c.y,fileName:t,value:"userInputArea"===e.target.className?e.target.value:h[t].value,keyCode:e.keyCode,time:Date.now()-Le}))}},{eventName:"click",handler:function(e){"dsa"===a&&("c"!==r&&"c99"!==r&&"cpp"!==r&&"cpp14"!==r&&"cpp17"!==r&&"python2"!==r&&"python3"!==r||(t=r),o.events.push({type:"click",target:e.target.className,x:e.pageX,fileName:t,y:e.pageY,value:h[t].value,time:Date.now()-Le}))}},{eventName:"output",handler:function(e){o.events.push({type:"output",target:"userOutputArea",time:Date.now()-Le,value:e.detail.output})}},{eventName:"drawStart",handler:function(e){o.events.push({type:"drawStart",time:Date.now()-Le,value:e.detail})}},{eventName:"drawEnd",handler:function(e){o.events.push({type:"drawEnd",time:Date.now()-Le,value:e.detail})}},{eventName:"drawing",handler:function(e){o.events.push({type:"drawing",time:Date.now()-Le,value:e.detail})}},{eventName:"movingStart",handler:function(e){o.events.push({type:"movingStart",time:Date.now()-Le,value:e.detail.element})}},{eventName:"moving",handler:function(e){o.events.push({type:"moving",time:Date.now()-Le,value:e.detail})}},{eventName:"resizeStart",handler:function(e){o.events.push({type:"resizeStart",time:Date.now()-Le,value:e.detail})}},{eventName:"resizing",handler:function(e){o.events.push({type:"resizing",time:Date.now()-Le,value:e.detail})}}],m=new je.a({bitRate:128,prefix:"data:audio/wav;base64,"});function f(){Le=Date.now(),o.events=[],u.map((function(e){return t=e.eventName,n=e.handler,document.documentElement.addEventListener(t,n,!0);var t,n})),m.start().then((function(){console.log("Started recording")})).catch((function(e){return console.error(e)}))}function v(){u.map((function(e){return t=e.eventName,n=e.handler,document.documentElement.removeEventListener(t,n,!0);var t,n})),localStorage.setItem("recording",JSON.stringify(o)),document.getElementsByClassName("stop-record")[0].style.display="none",document.getElementsByClassName("record")[0].style.display="block";var t=JSON.stringify(o);console.log(o),Re.a.firestore().collection("events").add({recordingString:t,createdAt:Re.a.firestore.FieldValue.serverTimestamp(),name:e.location.state.lectureName,creator:e.location.state.lectureCreator,type:e.location.state.lectureType}).then((function(t){var n;localStorage.setItem("recordingId",JSON.stringify(t.id)),Re.a.firestore().collection("recordIndex").add({createdAt:Re.a.firestore.FieldValue.serverTimestamp(),name:e.location.state.lectureName,type:e.location.state.lectureType,creator:e.location.state.lectureCreator,language:r,id:t.id}).then((function(e){console.log("Recording Tally Saved")})),console.log("Recording Saved"),m.stop().getMp3().then((function(e){var t=Object(d.a)(e,2),a=t[0],l=t[1];new File(a,"me-at-thevoice.mp3",{type:l.type,lastModified:Date.now()});var r=new FileReader;r.readAsDataURL(l),r.onloadend=function(){n=r.result;var e=Re.a.storage().ref(),t=JSON.parse(localStorage.getItem("recordingId"));localStorage.removeItem("recordingId"),e.child(t).putString(n,"data_url").then((function(e){alert("Audio saved!")})).catch((function(e){console.log(e)}))}})).catch((function(e){return console.log(e)}))}))}return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"recorder"},l.a.createElement("div",{className:"recorder-button"},l.a.createElement("i",{className:"fas fa-microphone record",onClick:function(e){e.preventDefault(),document.getElementsByClassName("record")[0].style.display="none",document.getElementsByClassName("stop-record")[0].style.display="block",f(),console.log("The Button was clicked.")}}),l.a.createElement("i",{className:"fas fa-microphone-slash stop-record",onClick:function(e){e.preventDefault(),v(),console.log("Recording Stopped.")}})),"dra"===a?l.a.createElement(_e,null):l.a.createElement(k,{name:a,language:r,parentCallBack:function(e){n=e}})))},ide:"web"}),l.a.createElement(i.a,{exact:!0,path:"/videoplayer",component:function(e){var t=e.location.state.type.slice(0,3),n=e.location.state.type.slice(3,10),r=Object(a.useState)(""),o=Object(d.a)(r,2),c=o[0],i=o[1],s=Object(a.useState)("loading"),m=Object(d.a)(s,2),f=(m[0],m[1],Object(u.b)()),v=Object(a.useState)(""),p=Object(d.a)(v,2),g=p[0],y=p[1];return Object(a.useEffect)((function(){var t=0;localStorage.setItem("lastSessionTimeStamp",JSON.stringify(t));var n=document.getElementsByClassName("videoplayer")[0],a=document.getElementsByClassName("playButton")[0],l={events:[]},r=localStorage.getItem("recording"),o=e.location.state.id;Re.a.firestore().collection("events").where(Re.a.firestore.FieldPath.documentId(),"==",o).get().then((function(e){e.forEach((function(e){console.log(e.data()),l=JSON.parse(e.data().recordingString)}))})).catch((function(e){console.log(e)})),null!=r&&(l=JSON.parse(r)),Re.a.storage().ref().child(o).getDownloadURL().then((function(e){u.src=e,localStorage.setItem("url",e)})).catch((function(e){console.log(e)}));var c=document.createElement("div");document.getElementById("root").appendChild(c),c.style.display="none";var s,u=document.getElementById("audio_player");u.addEventListener("onclick",(function(e){console.log("Click on the audioPlayer"),console.log(e)})),c.className="customCursor";var d=0,m=!1;function v(){c.style.display="none",m=!0,localStorage.setItem("lastSessionTimeStamp",JSON.stringify(t))}function p(){var e;function n(){var n=l.events[d];n&&(t=null!==localStorage.getItem("lastSessionTimeStamp")?JSON.parse(localStorage.getItem("lastSessionTimeStamp"))+Date.now()-s:1*(Date.now()-s),n.time<=t&&(!function(e,t){if("mousedown"===e.type){var n=new MouseEvent("mousedown",{bubbles:!0,cancelable:!0,button:e.button,clientX:e.clientX,clientY:e.clientY,shiftKey:e.shiftKey});document.getElementById("canvas")&&document.getElementById("canvas").dispatchEvent(n)}else if("mousemove"===e.type){var a=new MouseEvent("mousemove",{bubbles:!0,cancelable:!0,button:e.button,clientX:e.clientX,clientY:e.clientY,shiftKey:e.shiftKey});document.getElementById("canvas")&&document.getElementById("canvas").dispatchEvent(a),t.style.left=JSON.stringify(e.x)+"px",t.style.top=JSON.stringify(e.y)+"px";var l=e.target;g(e.fileName);var r=document.getElementsByClassName(l)[0];null!=r&&r.focus()}else if("mouseup"===e.type){var o=new MouseEvent("mouseup",{bubbles:!0,cancelable:!0});document.getElementById("canvas")&&document.getElementById("canvas").dispatchEvent(o)}else if("click"===e.type)"rectangle"!==e.target&&"ellipse"!==e.target&&"arrow"!==e.target&&"selection"!==e.target||document.getElementsByClassName(e.target)[0].click(),E(t,"click"),null!=(r=document.getElementsByClassName(e.target)[0])&&(g(e.fileName),g(e.target),E(r,"clicked"));else if("keyup"===e.type){var c=e.target;null!=(r=document.getElementsByClassName(c)[0])&&(r.focus(),"userInputArea"===c?r.value=e.value:(h[e.fileName].value=e.value,g(e.fileName),i(e.value)))}else if("output"===e.type){var s=e.target;null!=(r=document.getElementsByClassName(s)[0])&&(r.focus(),"userOutputArea"===s&&(r.value=e.value))}else y(e)}(n,c),d++),(d>=l.events.length||m)&&clearInterval(e))}null!=document.getElementsByClassName("videoscreen")[0]&&(document.getElementsByClassName("videoscreen")[0].className="visiblescreen"),c.style.display="block",s=Date.now(),m=!1,e=setInterval((function(){m||n()}),1)}function g(e){switch(e){case"outputtext":case"output":case"buttontext output":case"fas fa-play":f({type:"setSrcdoc"}),f({type:"outputtrue"});break;case"fas fa-window-close":f({type:"outputfalse"});break;case"style.css":case"buttontext style":f({type:"css"});break;case"index.html":f({type:"html"});break;case"script.js":case"buttontext script":f({type:"js"})}}function E(e,t){e.classList.add(t),setTimeout((function(){e.classList.remove(t)}),200)}u.addEventListener("canplay",(function(){document.getElementsByClassName("player-content")[0].style.display="block",document.getElementsByClassName("loader")[0].style.display="none",console.log("loaded")})),u.addEventListener("play",(function(){a.style.display="none",p(),console.log("audio play")})),u.addEventListener("pause",(function(){console.log("clicked pause"),v()})),u.addEventListener("ended",(function(){v(),console.log("ended audio")})),u.addEventListener("seeking",(function(){c.style.display="none",v(),u.pause();for(var e=u.currentTime,t=0;t<l.events.length;t++)if(l.events[t].time>1e3*e){d=t;break}console.log(d),console.log(l.events[d].time),console.log(e),l.events[d].time>1e3*e?localStorage.setItem("lastSessionTimeStamp",l.events[d].time):localStorage.setItem("lastSessionTimeStamp",1e3*e)})),a.addEventListener("click",(function(){a.style.display="none",n.style.display="flex",u.play(),p()}))}),[]),l.a.createElement("div",null,l.a.createElement(Te,null),l.a.createElement("div",{className:"player-content"},l.a.createElement("div",{className:"videoscreen"},"dra"===t?l.a.createElement(_e,{event:g}):l.a.createElement(k,{name:t,language:n,refresh:c})),l.a.createElement("div",{className:"playButton"},l.a.createElement("div",{className:"container"},l.a.createElement("a",{className:"button button-play"}))),l.a.createElement("div",{className:"videoplayer"},l.a.createElement("audio",{id:"audio_player",controls:"controls",controlsList:"nodownload"}))))}}),l.a.createElement(i.a,{exact:!0,path:"/",component:function(){var e=Object(i.f)();return l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{className:"recordWebD",onClick:function(){return e.push("/recordform")}},"Recorder A Lecture"),l.a.createElement("button",{className:"playWebD",onClick:function(){return e.push("/lectures")}},"Watch lectures "),l.a.createElement("button",{onClick:function(){return e.push("/drawboard")}},"Drawing Board"),l.a.createElement("button",{className:"recordWebD",onClick:function(){return e.push("/recorder/drawboard")}},"Recorder with Drawing Board"),l.a.createElement("button",{className:"playWebD",onClick:function(){return e.push("/drawboardlive")}},"Drawing Board Live"))}}))))),document.getElementById("root"))},67:function(e,t,n){},78:function(e,t,n){e.exports=n(126)},86:function(e,t,n){},96:function(e,t,n){}},[[78,1,2]]]);
//# sourceMappingURL=main.04cd8bcf.chunk.js.map