(this.webpackJsonpengage=this.webpackJsonpengage||[]).push([[0],{100:function(e,t,a){},102:function(e,t,a){},103:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(21),c=a.n(r),i=a(22),o=a(7),s=a(20),u=a(15),m=(a(67),a(3)),d=a(53),p=a.n(d),v=a(27),f={"script.js":{name:"script.js",language:"javascript",value:""},"style.css":{name:"style.css",language:"css",value:""},"index.html":{name:"index.html",language:"html",value:""},c:{name:"main.c",language:"cpp",value:""},c99:{name:"main.cpp",language:"cpp",value:""},cpp:{name:"main.cpp",language:"cpp",value:""},cpp14:{name:"main.cpp",language:"cpp",value:""},cpp17:{name:"main.cpp",language:"cpp",value:""},python2:{name:"python",language:"python",value:""},python3:{name:"python",language:"python",value:""}};a(77);var y=function(e){var t=Object(u.c)((function(e){return e.srcDocs})),a=Object(u.c)((function(e){return e.outputModal})),n=Object(u.c)((function(e){return e.fileName})),r=Object(u.b)(),c=f[n];function i(){r({type:"outputfalse"})}return l.a.createElement("div",{className:"text-editor"},l.a.createElement("div",{className:"editor-sidebar"},l.a.createElement("div",{className:"sidebar-heading"},l.a.createElement("span",{id:"explorer-spam"},"Explorer"),l.a.createElement("button",{className:"sidebar-add-file"})),l.a.createElement("div",{className:"sidebar-navbutton"},l.a.createElement("button",{className:"htmlfile",disabled:"index.html"===n,onClick:function(){return r({type:"html"})}},l.a.createElement("i",{className:"fab fa-html5"})," ",l.a.createElement("span",{className:"buttontext html"},f["index.html"].name," ")),l.a.createElement("button",{className:"cssfile",disabled:"style.css"===n,onClick:function(){return r({type:"css"})}},l.a.createElement("i",{className:"fab fa-css3-alt"})," ",l.a.createElement("span",{className:"buttontext style"},f["style.css"].name," ")),l.a.createElement("button",{className:"jsfile",disabled:"script.js"===n,onClick:function(){return r({type:"js"})}},l.a.createElement("i",{className:"fab fa-js-square"})," ",l.a.createElement("span",{className:"buttontext script"},f["script.js"].name," "))),l.a.createElement("div",{className:"sidebar-footer"},l.a.createElement("button",{onClick:function(){r({type:"setSrcdoc"}),r({type:"outputtrue"}),console.log("l")},style:{color:"white",backgroundColor:"green",padding:"5px",borderRadius:"5px"},className:"output"},l.a.createElement("i",{style:{color:"white"},className:"fas fa-play"}),l.a.createElement("span",{className:"outputtext",style:{color:"white",backgroundColor:"green"}}," See Output")))),l.a.createElement("div",{className:"editor"},l.a.createElement(v.a,{height:"100vh",width:"94vw",theme:"vs-light",path:c.name,defaultLanguage:c.language,defaultValue:c.value,saveViewState:!0,onChange:function(e){c.value=e},cursorSmoothCaretAnimation:"true",value:c.value})),l.a.createElement(p.a,{className:"outputModal Modal",isOpen:a,contentLabel:"onRequestClose Example",onRequestClose:i,overlayClassName:"Overlay",ariaHideApp:!1},l.a.createElement("div",{className:"closeButton"},l.a.createElement("i",{className:"fas fa-window-close",onClick:i})),l.a.createElement("iframe",{srcDoc:t,title:"output",className:"outputiframe",sandbox:"allow-scripts",frameBorder:"0"})))},g=a(34),h=a.n(g),E=a(54),b=a(55),x=a.n(b);a(97);var N=function(){var e=Object(n.useState)("python2"),t=Object(m.a)(e,2),a=t[0],r=t[1],c=Object(u.c)((function(e){return e.language})),i=Object(u.b)(),o=Object(n.useState)(""),s=Object(m.a)(o,2),d=s[0],p=s[1],y=Object(n.useState)(""),g=Object(m.a)(y,2),b=g[0],N=g[1],w=f[c],k={"Python 2":"python2",C:"c","C-99":"c99","C++":"cpp","C++ 14":"cpp14","C++ 17":"cpp17","Python 3":"python3"};return Object(n.useEffect)((function(){var e=document.getElementById("language");for(var t in k){var a=document.createElement("option");a.text=t,a.value=k[t],a.className=k[t],e.add(a)}e.addEventListener("change",(function(t){r(e.value),"c"===e.value&&i({type:"c"}),"c99"===e.value&&i({type:"c99"}),"cpp"===e.value&&i({type:"cpp"}),"cpp"===e.value&&i({type:"cpp"}),"cpp14"===e.value&&i({type:"cpp14"}),"cpp17"===e.value&&i({type:"cpp17"}),"python2"===e.value&&i({type:"python2"}),"python3"===e.value&&i({type:"python3"})}))}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"multilanguageIde"},l.a.createElement("div",{className:"navbar"},l.a.createElement("span",{className:"fileName"},"main.cpp"),l.a.createElement("div",{className:"optionButton"},l.a.createElement("select",{name:"language",id:"language"}),l.a.createElement("button",{className:"showCodeOutput",style:{color:"white",cursor:"pointer",backgroundColor:"green",borderRadius:"5px",padding:"4px"},onClick:function(){for(var e=w.value.split("\r"),t="",n=0;n<e.length;n++)t+=e[n];i(function(e,t,a){return function(){var n=Object(E.a)(h.a.mark((function n(l){var r;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r="https://fierce-reef-05156.herokuapp.com/",n.next=3,x.a.post(r+"api/compile",{language:e,stdin:a,versionIndex:"0",script:t});case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(a,t,b)).then((function(e){p(e.data.output);var t={output:e.data.output},a=new CustomEvent("output",{detail:t});document.documentElement.dispatchEvent(a)}))}},"Run"))),l.a.createElement("div",{className:"editor"},l.a.createElement(v.a,{height:"100vh",width:"80vw",theme:"vs-dark",defaultLanguage:"python",options:{fontSize:18,fontWeight:400,fontFamily:"cursive"},onChange:function(e){w.value=e},value:w.value,beforeMount:function(e){e.editor.defineTheme("my-cool-theme",{base:"vs-dark",inherit:!0,rules:[],colors:{"editor.background":"#293738"}})}}),l.a.createElement("div",{className:"inputOutput"},l.a.createElement("div",{className:"inputArea"},l.a.createElement("h3",null,"Input"),l.a.createElement("textarea",{rows:"20",cols:"52",className:"userInputArea",onChange:function(e){N(e.target.value)},placeholder:"Enter Input"})),l.a.createElement("div",{className:"outputArea"},l.a.createElement("h3",null,"Output"),l.a.createElement("textarea",{rows:"20",cols:"52",className:"userOutputArea",onChange:function(e){console.log(e)},value:d}))))))};var w=function(e){return l.a.createElement(l.a.Fragment,null,"ide"===e.name?l.a.createElement(y,{refresh:e.refresh}):l.a.createElement(N,{refresh:e.refresh}))},k=a(28),O=a(6),j=a(4),S=a(19),C=a(26),_=(a(51),S.a.generator());var I,B=function(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)("transparent"),i=Object(m.a)(c,2),o=i[0],s=i[1],u=Object(n.useState)("solid"),d=Object(m.a)(u,2),p=d[0],v=d[1],f=Object(n.useState)("black"),y=Object(m.a)(f,2),g=y[0],h=y[1],E=Object(n.useState)("1"),b=Object(m.a)(E,2),x=b[0],N=b[1],w=Object(n.useState)(""),I=Object(m.a)(w,2),B=I[0],M=I[1],W=Object(n.useState)("none"),D=Object(m.a)(W,2),L=D[0],T=D[1],X=Object(n.useState)("none"),Y=Object(m.a)(X,2),F=Y[0],A=Y[1],z=Object(n.useState)([]),R=Object(m.a)(z,2),P=R[0],J=R[1];function U(e,t,a,n,l,r){var c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"transparent",i=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"solid",o=arguments.length>8&&void 0!==arguments[8]?arguments[8]:"black",s=arguments.length>9&&void 0!==arguments[9]?arguments[9]:2;switch(r){case"line":case"arrow":return{id:e,x1:t,y1:a,x2:n,y2:l,type:r,roughElement:_.line(t,a,n,l,{strokeWidth:s,stroke:o})};case"rectangle":return{id:e,x1:t,y1:a,x2:n,y2:l,type:r,roughElement:_.rectangle(t,a,n-t,l-a,{fill:c,fillStyle:i,stroke:o,strokeWidth:s})};case"circle":var u={x:t,y:a},m={x:n,y:l},d=Math.round(q(u,m));return{id:e,x1:t,y1:a,x2:n,y2:l,type:r,roughElement:_.circle(Math.round((t+n)/2),Math.round((a+l)/2),d,{fill:c,fillStyle:i,stroke:o,strokeWidth:s})};case"pencil":return{id:e,type:r,points:[{x:t,y:a}]};default:throw new Error("Type not recognised")}}var H=function(e,t,n,l,c,i,o,s,u,m){var d=Object(j.a)(a);switch(i){case"line":case"rectangle":case"circle":case"arrow":var p=U(e,t,n,l,c,i,o,s,u,m);d[e]=p;break;case"pencil":d[e].points=[].concat(Object(j.a)(d[e].points),[{x:l,y:c}]);break;default:throw new Error("Type not recognised")}r(d)},q=function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},V=function(e,t,a,n,l){return Math.abs(e-a)<5&&Math.abs(t-n)<5?l:null},Z=function(e,t,a,n,l,r){var c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,i={x:e,y:t},o={x:a,y:n},s={x:l,y:r},u=q(i,o)-(q(i,s)+q(o,s));return Math.abs(u)<c?"inside":null},K=function(e,t,a){var n=a.type,l=a.x1,r=a.x2,c=a.y1,i=a.y2;if("line"===n){var o=Z(l,c,r,i,e,t),s=V(e,t,l,c,"start"),u=V(e,t,r,i,"end");return s||u||o}if("rectangle"===n){var m=V(e,t,l,c,"tl"),d=V(e,t,r,c,"tr"),p=V(e,t,l,i,"bl"),v=V(e,t,r,i,"br");return m||d||p||v||(e>=l&&e<=r&&t>=c&&t<=i?"inside":null)}if("circle"===n){var f=q({x:l,y:c},{x:r,y:i})/2,y=q({x:(l+r)/2,y:(c+i)/2},{x:e,y:t});return y<f?"inside":y>f&&y-f<3?"circumference":null}if("pencil"===n)return a.points.some((function(n,l){var r=a.points[l+1];return!!r&&null!==Z(n.x,n.y,r.x,r.y,e,t)}))?"inside":null};function Q(e,t,a){return a.map((function(a){return Object(O.a)(Object(O.a)({},a),{},{position:K(e,t,a)})})).find((function(e){return null!==e.position}))}function G(e,t,a){switch(a.type){case"line":case"rectangle":case"circle":e.draw(a.roughElement);break;case"pencil":var n=function(e){if(!e.length)return"";var t=e.reduce((function(e,t,a,n){var l=Object(m.a)(t,2),r=l[0],c=l[1],i=Object(m.a)(n[(a+1)%n.length],2),o=i[0],s=i[1];return e.push(r,c,(r+o)/2,(c+s)/2),e}),["M"].concat(Object(j.a)(e[0]),["Q"]));return t.push("Z"),t.join(" ")}(Object(C.a)(a.points,{size:5}));t.fill(new Path2D(n));break;case"arrow":e.draw(a.roughElement),a.y2>a.y1+10?(e.line(a.x2,a.y2,a.x2-20,a.y2-30,{strokeWidth:x}),e.line(a.x2,a.y2,a.x2+20,a.y2-30,{strokeWidth:x})):a.y2<a.y1?(e.line(a.x2,a.y2,a.x2-20,a.y2+30,{strokeWidth:x}),e.line(a.x2,a.y2,a.x2+20,a.y2+30,{strokeWidth:x})):a.x2>=a.x1?(console.log("THUIS CASE"),e.line(a.x2,a.y2,a.x2-30,a.y2-20,{strokeWidth:x}),e.line(a.x2,a.y2,a.x2-30,a.y2+20,{strokeWidth:x})):a.x1>a.x2&&(e.line(a.x2,a.y2,a.x2+30,a.y2-20,{strokeWidth:x}),e.line(a.x2,a.y2,a.x2+30,a.y2+20,{strokeWidth:x}));break;default:throw new Error("Type not recognised ".concat(a.type))}}return Object(n.useLayoutEffect)((function(){var e=document.getElementById("canvas"),t=e.getContext("2d");t.clearRect(0,0,e.width,e.height);var n=S.a.canvas(e);a.forEach((function(e){return G(n,t,e)}))}),[a]),Object(n.useEffect)((function(){var e=document.getElementById("fill"),t=document.getElementById("stroke"),a=document.getElementById("strokeWidth"),n=document.getElementById("fillStyle");e.addEventListener("change",(function(){s(e.value)})),n.addEventListener("change",(function(){v(n.value)})),t.addEventListener("change",(function(){h(t.value)})),a.addEventListener("change",(function(){N(a.value)}))}),[]),l.a.createElement("div",null,l.a.createElement("div",{className:"drawOptions"},l.a.createElement("div",{className:"allOptions"},l.a.createElement("div",{className:"shapesOptions"},l.a.createElement("div",null,l.a.createElement("input",{type:"radio",id:"selection",checked:"selection"===B,onChange:function(){return M("selection")}}),l.a.createElement("label",{htmlFor:"selection"},"Selection")),l.a.createElement("div",null,l.a.createElement("input",{type:"radio",id:"line",checked:"line"===B,onChange:function(){return M("line")}}),l.a.createElement("label",{htmlFor:"line"},"line")),l.a.createElement("div",null,l.a.createElement("input",{type:"radio",id:"rectangle",checked:"rectangle"===B,onChange:function(){return M("rectangle")}}),l.a.createElement("label",{htmlFor:"rectangle"},"Rectangle")),l.a.createElement("div",null,l.a.createElement("input",{type:"radio",id:"circle",checked:"circle"===B,onChange:function(){return M("circle")}}),l.a.createElement("label",{htmlFor:"circle"},"Circle ")),l.a.createElement("div",null,l.a.createElement("input",{type:"radio",id:"pencil",checked:"pencil"===B,onChange:function(){return M("pencil")}}),l.a.createElement("label",{htmlFor:"pencil"},"Pencil ")),l.a.createElement("div",null,l.a.createElement("input",{type:"radio",id:"arrow",checked:"arrow"===B,onChange:function(){return M("arrow")}}),l.a.createElement("label",{htmlFor:"arrow"},"Arrow"))),l.a.createElement("div",{className:"styleCard"},l.a.createElement("div",null,"Fill",l.a.createElement("select",{id:"fill"},l.a.createElement("option",null,"transparent"),l.a.createElement("option",null,"red"),l.a.createElement("option",null,"green"),l.a.createElement("option",null,"yellow"),"items",l.a.createElement("option",null,"coral"))),l.a.createElement("div",null,"FillStyle",l.a.createElement("select",{id:"fillStyle"},l.a.createElement("option",null,"solid"),l.a.createElement("option",null,"hachure"),l.a.createElement("option",null,"dashed"),l.a.createElement("option",null,"ZigZag"))),l.a.createElement("div",null,"Stroke",l.a.createElement("select",{id:"stroke"},l.a.createElement("option",null,"black"),l.a.createElement("option",null,"red"),l.a.createElement("option",null,"green"),l.a.createElement("option",null,"blue"),l.a.createElement("option",null,"yellow"))),l.a.createElement("div",null,"strokeWidth",l.a.createElement("select",{id:"strokeWidth"},l.a.createElement("option",null,"2"),l.a.createElement("option",null,"6"),l.a.createElement("option",null,"8"),l.a.createElement("option",null,"10")))))),l.a.createElement("main",null,l.a.createElement("canvas",{id:"canvas",width:window.innerWidth,height:window.innerHeight,onMouseDown:function(e){var t=e.clientX,n=e.clientY;if("selection"===B){if(0!==a.length){var l=Q(t,n,a);if(l){if("pencil"===l.type){var c=l.points.map((function(e){return t-e.x})),i=l.points.map((function(e){return n-e.y}));A(Object(O.a)(Object(O.a)({},l),{},{xOffsets:c,yOffsets:i}))}else{var s=t-l.x1,u=n-l.y1;A(Object(O.a)(Object(O.a)({},l),{},{offsetX:s,offsetY:u}))}if("inside"===l.position){T("moving");var m=new CustomEvent("movingStart",{detail:{element:l,fill:o,fillStyle:p,strokeColor:g,strokeWidth:x}});document.documentElement.dispatchEvent(m)}else{T("resize");var d=new CustomEvent("resizeStart",{detail:{element:l,fill:o,fillStyle:p,strokeColor:g,strokeWidth:x}});document.documentElement.dispatchEvent(d)}}}}else{var v,f=a.length,y=U(f,t,n,t,n,B);r((function(e){return[].concat(Object(j.a)(e),[y])})),v="pencil"===y.type?{id:f,clientX:t,clientY:n,type:B}:{id:f,clientX:t,clientY:n,type:B,fill:o,fillStyle:p,strokeColor:g,strokeWidth:x};var h=new CustomEvent("drawStart",{detail:v});document.documentElement.dispatchEvent(h),A(y),T("drawing")}},onMouseMove:function(e){var t=e.clientX,n=e.clientY;if("selection"===B&&0!==a.length){var l=Q(t,n,a);e.target.style.cursor=l?function(e){switch(e){case"tl":case"br":case"start":case"end":return"nwse-resize";case"tr":case"bl":case"circumference":return"nesw-resize";default:return"move"}}(l.position):"default"}if("drawing"===L){var c,i=a.length-1,s=a[i],u=s.x1,m=s.y1;H(i,u,m,t,n,B,o,p,g,x),c="pencil"===a[i].type?{id:i,clientX:t,clientY:n,type:B}:{id:i,x1:u,y1:m,clientX:t,clientY:n,type:B,fill:o,fillStyle:p,strokeColor:g,strokeWidth:x};var d=new CustomEvent("drawing",{detail:c});document.documentElement.dispatchEvent(d)}else if("moving"===L)if("pencil"===F.type){var v=F.points.map((function(e,a){return{x:t-F.xOffsets[a],y:n-F.yOffsets[a]}})),f=Object(j.a)(a);f[F.id].points=v,r(f,!0)}else{var y=F.id,h=F.x1,E=F.x2,b=F.y1,N=F.y2,w=F.type,O=F.offsetX,S=F.offsetY,C=E-h,_=N-b,I=t-O,M=n-S;H(y,I,M,I+C,M+_,w,o,p,g,x);var W=new CustomEvent("moving",{detail:{id:y,newX1:I,newY1:M,newX2:I+C,newY2:M+_,type:w,fill:o,fillStyle:p,strokeColor:g,strokeWidth:x}});document.documentElement.dispatchEvent(W)}else if("resize"===L){var D=F.id,T=F.type,X=F.position,Y=Object(k.a)(F,["id","type","position"]),A=function(e,t,a,n){var l=n.x1,r=n.y1,c=n.x2,i=n.y2;switch(a){case"tl":case"start":return{x1:e,y1:t,x2:c,y2:i};case"tr":return{x1:l,y1:t,x2:e,y2:i};case"bl":return{x1:e,y1:r,x2:c,y2:t};case"br":case"end":return{x1:l,y1:r,x2:e,y2:t};case"circumference":return{x1:e,y1:t,x2:c,y2:i};default:return null}}(t,n,X,Y),z=A.x1,R=A.y1,P=A.x2,J=A.y2,U=new CustomEvent("resizing",{detail:{id:D,x1:z,y1:R,x2:P,y2:J,type:T,fill:o,fillStyle:p,strokeColor:g,strokeWidth:x}});document.documentElement.dispatchEvent(U),H(D,z,R,P,J,T,o,p,g,x)}},onMouseUp:function(){if(0!==a.length&&F){var e=F.id,t=a[e],n=t.id,l=t.type;if(("drawing"===L||"resizing"===L)&&function(e){return["line","rectangle","circle"].includes(e)}(l)){var r=function(e){var t=e.type,a=e.x1,n=e.y1,l=e.x2,r=e.y2;if("rectangle"===t){var c=Math.min(a,l),i=Math.max(a,l);return{x1:c,y1:Math.min(n,r),x2:i,y2:Math.max(n,r)}}return(a<l||a===l)&&n<r?{x1:a,y1:n,x2:l,y2:r}:{x1:l,y1:r,x2:a,y2:n}}(a[e]),c=r.x1,i=r.y1,s=r.x2,u=r.y2;H(n,c,i,s,u,l,o,p,g,x);var m=new CustomEvent("drawEnd",{detail:{id:e,x1:c,y1:i,x2:s,y2:u,type:l,fill:o,fillStyle:p,strokeColor:g,strokeWidth:x}});document.documentElement.dispatchEvent(m)}}T("none"),A(null)},onPointerDown:function(e){e.target.setPointerCapture(e.pointerId),J([[e.pageX,e.pageY,e.pressure]])},onPointerMove:function(e){1===e.buttons&&J([].concat(Object(j.a)(P),[[e.pageX,e.pageY,e.pressure]]))}})))},M=a(56),W=a.n(M),D=a(10);a(33),a(52),a(98);a(99);var L=S.a.generator();var T=function(e){var t=Object(n.useState)([]),a=Object(m.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)([]),o=Object(m.a)(i,2),s=o[0],u=o[1],d=Object(n.useState)("transparent"),p=Object(m.a)(d,2),v=p[0],f=p[1],y=Object(n.useState)("solid"),g=Object(m.a)(y,2),h=g[0],E=g[1],b=Object(n.useState)("black"),x=Object(m.a)(b,2),N=x[0],w=x[1],_=Object(n.useState)("1"),I=Object(m.a)(_,2),B=I[0],M=I[1],W=Object(n.useState)(""),D=Object(m.a)(W,2),T=D[0],X=D[1],Y=Object(n.useState)("none"),F=Object(m.a)(Y,2),A=F[0],z=F[1],R=Object(n.useState)("none"),P=Object(m.a)(R,2),J=(P[0],P[1]),U=Object(n.useState)("none"),H=Object(m.a)(U,2),q=H[0],V=H[1],Z=Object(n.useState)([]),K=Object(m.a)(Z,2),Q=K[0],G=K[1];function $(e,t,a,n,l,r){var c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"transparent",i=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"solid",o=arguments.length>8&&void 0!==arguments[8]?arguments[8]:"black",s=arguments.length>9&&void 0!==arguments[9]?arguments[9]:2;switch(r){case"line":case"arrow":return{id:e,x1:t,y1:a,x2:n,y2:l,type:r,roughElement:L.line(t,a,n,l,{strokeWidth:s,stroke:o})};case"rectangle":return{id:e,x1:t,y1:a,x2:n,y2:l,type:r,roughElement:L.rectangle(t,a,n-t,l-a,{fill:c,fillStyle:i,stroke:o,strokeWidth:s})};case"circle":var u={x:t,y:a},m={x:n,y:l},d=Math.round(te(u,m));return{id:e,x1:t,y1:a,x2:n,y2:l,type:r,roughElement:L.circle(Math.round((t+n)/2),Math.round((a+l)/2),d,{fill:c,fillStyle:i,stroke:o,strokeWidth:s})};case"pencil":return{id:e,type:r,points:[{x:t,y:a}]};default:throw new Error("Type not recognised")}}var ee=function(e,t,a,n,l,i,o,m,d,p){var v;switch(0!==s.length?v=Object(j.a)(s):0===s.length&&(v=Object(j.a)(r)),i){case"line":case"rectangle":case"circle":case"arrow":var f=$(e,t,a,n,l,i,o,m,d,p);v[e]=f;break;case"pencil":v[e].points=[].concat(Object(j.a)(v[e].points),[{x:n,y:l}]);break;default:throw new Error("Type not recognised")}0!==s.length?u(v):0===s.length&&c(v)},te=function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},ae=function(e,t,a,n,l){return Math.abs(e-a)<5&&Math.abs(t-n)<5?l:null},ne=function(e,t,a,n,l,r){var c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,i={x:e,y:t},o={x:a,y:n},s={x:l,y:r},u=te(i,o)-(te(i,s)+te(o,s));return Math.abs(u)<c?"inside":null},le=function(e,t,a){var n=a.type,l=a.x1,r=a.x2,c=a.y1,i=a.y2;if("line"===n){var o=ne(l,c,r,i,e,t),s=ae(e,t,l,c,"start"),u=ae(e,t,r,i,"end");return s||u||o}if("rectangle"===n){var m=ae(e,t,l,c,"tl"),d=ae(e,t,r,c,"tr"),p=ae(e,t,l,i,"bl"),v=ae(e,t,r,i,"br");return m||d||p||v||(e>=l&&e<=r&&t>=c&&t<=i?"inside":null)}if("circle"===n){var f=te({x:l,y:c},{x:r,y:i})/2,y=te({x:(l+r)/2,y:(c+i)/2},{x:e,y:t});return y<f?"inside":y>f&&y-f<3?"circumference":null}if("pencil"===n)return a.points.some((function(n,l){var r=a.points[l+1];return!!r&&null!==ne(n.x,n.y,r.x,r.y,e,t)}))?"inside":null};function re(e,t,a){return a.map((function(a){return Object(O.a)(Object(O.a)({},a),{},{position:le(e,t,a)})})).find((function(e){return null!==e.position}))}function ce(e,t,a){switch(a.type){case"line":case"rectangle":case"circle":e.draw(a.roughElement);break;case"pencil":var n=function(e){if(!e.length)return"";var t=e.reduce((function(e,t,a,n){var l=Object(m.a)(t,2),r=l[0],c=l[1],i=Object(m.a)(n[(a+1)%n.length],2),o=i[0],s=i[1];return e.push(r,c,(r+o)/2,(c+s)/2),e}),["M"].concat(Object(j.a)(e[0]),["Q"]));return t.push("Z"),t.join(" ")}(Object(C.a)(a.points,{size:5}));t.fill(new Path2D(n));break;case"arrow":e.draw(a.roughElement),a.x1===a.x2&&a.y1===a.y2||(a.y2>a.y1+10?(e.line(a.x2,a.y2,a.x2-20,a.y2-30,{strokeWidth:B}),e.line(a.x2,a.y2,a.x2+20,a.y2-30,{strokeWidth:B})):a.y2<a.y1?(e.line(a.x2,a.y2,a.x2-20,a.y2+30,{strokeWidth:B}),e.line(a.x2,a.y2,a.x2+20,a.y2+30,{strokeWidth:B})):a.x2>=a.x1?(console.log("THUIS CASE"),e.line(a.x2,a.y2,a.x2-30,a.y2-20,{strokeWidth:B}),e.line(a.x2,a.y2,a.x2-30,a.y2+20,{strokeWidth:B})):a.x1>a.x2&&(e.line(a.x2,a.y2,a.x2+30,a.y2-20,{strokeWidth:B}),e.line(a.x2,a.y2,a.x2+30,a.y2+20,{strokeWidth:B})));break;default:throw new Error("Type not recognised ".concat(a.type))}}return Object(n.useLayoutEffect)((function(){var e=document.getElementById("canvas"),t=e.getContext("2d");t.clearRect(0,0,e.width,e.height);var a=S.a.canvas(e);s.forEach((function(e){return ce(a,t,e)})),r.forEach((function(e){return ce(a,t,e)}))}),[r,s]),Object(n.useEffect)((function(){var e=document.getElementById("fill"),t=document.getElementById("stroke"),a=document.getElementById("strokeWidth"),n=document.getElementById("fillStyle");e.addEventListener("change",(function(){f(e.value)})),n.addEventListener("change",(function(){E(n.value)})),t.addEventListener("change",(function(){w(t.value)})),a.addEventListener("change",(function(){M(a.value)}))}),[]),Object(n.useEffect)((function(){u([]);var t=document.getElementById("line"),a=document.getElementById("rectangle"),n=document.getElementById("circle"),l=document.getElementById("selection"),i=document.getElementById("pencil");if("drawStart"===e.event.type){if("line"===e.event.value.type){t.click();var o=e.event.value.id,s=e.event.value.clientX,m=e.event.value.clientY,d=e.event.value.type,p=e.event.value.fill,v=e.event.value.fillStyle,f=e.event.value.strokeColor,y=e.event.value.strokeWidth;console.log(o,s,m,s,m,d);var g=$(o,s,m,s,m,d,p,v,f,y);c((function(e){return[].concat(Object(j.a)(e),[g])}))}if("rectangle"===e.event.value.type){a.click();var h=e.event.value.id,E=e.event.value.clientX,b=e.event.value.clientY,x=e.event.value.type,N=e.event.value.fill,w=e.event.value.fillStyle,k=e.event.value.strokeColor,O=e.event.value.strokeWidth;console.log(h,E,b,E,b,x);var S=$(h,E,b,E,b,x,N,w,k,O);c((function(e){return[].concat(Object(j.a)(e),[S])}))}if("circle"===e.event.value.type){n.click();var C=e.event.value.id,_=e.event.value.clientX,I=e.event.value.clientY,B=e.event.value.type,M=e.event.value.fill,W=e.event.value.fillStyle,D=e.event.value.strokeColor,L=e.event.value.strokeWidth;console.log(C,_,I,_,I,B);var T=$(C,_,I,_,I,B,M,W,D,L);c((function(e){return[].concat(Object(j.a)(e),[T])}))}if("pencil"===e.event.value.type){i.click();var X=e.event.value.id,Y=e.event.value.clientX,F=e.event.value.clientY,A=$(X,Y,F,Y,F,e.event.value.type);c((function(e){return[].concat(Object(j.a)(e),[A])}))}}if("drawing"===e.event.type){var R=r.length-1,P=e.event.value.x1,U=e.event.value.y1,H=e.event.value.clientX,q=e.event.value.clientY,V=e.event.value.type,Z=e.event.value.fill,K=e.event.value.fillStyle,Q=e.event.value.strokeColor,G=e.event.value.strokeWidth;ee(R,P,U,H,q,V,Z,K,Q,G)}if("movingStart"===e.event.type&&l.click(),"moving"===e.event.type){var te=e.event.value.id,ae=e.event.value.newX1,ne=e.event.value.newY1,le=e.event.value.newX2,re=e.event.value.newY2,ce=e.event.value.type,ie=e.event.value.fill,oe=e.event.value.fillStyle,se=e.event.value.strokeColor,ue=e.event.value.strokeColor;ee(te,ae,ne,le,re,ce,ie,oe,se,ue)}if("resizeStart"===e.event.type&&l.click(),"resizing"===e.event.type){var me=e.event.value.id,de=e.event.value.x1,pe=e.event.value.y1,ve=e.event.value.x2,fe=e.event.value.y2,ye=e.event.value.type,ge=e.event.value.fill,he=e.event.value.fillStyle,Ee=e.event.value.strokeColor,be=e.event.value.strokeColor;ee(me,de,pe,ve,fe,ye,ge,he,Ee,be)}"drawEnd"===e.event.type&&(z("none"),J(null))}),[e.event]),l.a.createElement("div",null,l.a.createElement("div",{className:"drawOptions"},l.a.createElement("div",{className:"allOptions"},l.a.createElement("div",{className:"shapesOptions"},l.a.createElement("div",null,l.a.createElement("input",{type:"radio",id:"selection",checked:"selection"===T,onChange:function(){return X("selection")}}),l.a.createElement("label",{htmlFor:"selection"},"Selection")),l.a.createElement("div",null,l.a.createElement("input",{type:"radio",id:"line",checked:"line"===T,onChange:function(){return X("line")}}),l.a.createElement("label",{htmlFor:"line"},"line")),l.a.createElement("div",null,l.a.createElement("input",{type:"radio",id:"rectangle",checked:"rectangle"===T,onChange:function(){return X("rectangle")}}),l.a.createElement("label",{htmlFor:"rectangle"},"Rectangle")),l.a.createElement("div",null,l.a.createElement("input",{type:"radio",id:"circle",checked:"circle"===T,onChange:function(){return X("circle")}}),l.a.createElement("label",{htmlFor:"circle"},"Circle ")),l.a.createElement("div",null,l.a.createElement("input",{type:"radio",id:"pencil",checked:"pencil"===T,onChange:function(){return X("pencil")}}),l.a.createElement("label",{htmlFor:"pencil"},"Pencil ")),l.a.createElement("div",null,l.a.createElement("input",{type:"radio",id:"arrow",checked:"arrow"===T,onChange:function(){return X("arrow")}}),l.a.createElement("label",{htmlFor:"arrow"},"Arrow"))),l.a.createElement("div",{className:"styleCard"},l.a.createElement("div",null,"Fill",l.a.createElement("select",{id:"fill"},l.a.createElement("option",null,"transparent"),l.a.createElement("option",null,"red"),l.a.createElement("option",null,"green"),l.a.createElement("option",null,"yellow"),"items",l.a.createElement("option",null,"coral"))),l.a.createElement("div",null,"FillStyle",l.a.createElement("select",{id:"fillStyle"},l.a.createElement("option",null,"solid"),l.a.createElement("option",null,"hachure"),l.a.createElement("option",null,"dashed"),l.a.createElement("option",null,"ZigZag"))),l.a.createElement("div",null,"Stroke",l.a.createElement("select",{id:"stroke"},l.a.createElement("option",null,"black"),l.a.createElement("option",null,"red"),l.a.createElement("option",null,"green"),l.a.createElement("option",null,"blue"),l.a.createElement("option",null,"yellow"))),l.a.createElement("div",null,"strokeWidth",l.a.createElement("select",{id:"strokeWidth"},l.a.createElement("option",null,"2"),l.a.createElement("option",null,"6"),l.a.createElement("option",null,"8"),l.a.createElement("option",null,"10")))))),l.a.createElement("canvas",{id:"canvas",width:window.innerWidth,height:window.innerHeight,onMouseDown:function(e){var t=e.clientX,a=e.clientY;if("selection"===T){if(0!==s.length){var n=re(t,a,r);if(n){if("pencil"===n.type){var l=n.points.map((function(e){return t-e.x})),c=n.points.map((function(e){return a-e.y}));u(Object(O.a)(Object(O.a)({},n),{},{xOffsets:l,yOffsets:c}))}else{var i=t-n.x1,o=a-n.y1;u(Object(O.a)(Object(O.a)({},n),{},{offsetX:i,offsetY:o}))}"inside"===n.position?z("moving"):z("resize")}}}else{var m=$(s.length,t,a,t,a,T);u((function(e){return[].concat(Object(j.a)(e),[m])})),V(m),z("drawing")}},onMouseMove:function(e){var t=e.clientX,a=e.clientY;if("selection"===T&&0!==s.length){var n=re(t,a,s);e.target.style.cursor=n?function(e){switch(e){case"tl":case"br":case"start":case"end":return"nwse-resize";case"tr":case"bl":case"circumference":return"nesw-resize";default:return"move"}}(n.position):"default"}if("drawing"===A){var l=s.length-1,r=s[l],c=r.x1,i=r.y1;ee(l,c,i,t,a,T,v,h,N,B)}else if("moving"===A)if("pencil"===q.type){var o=q.points.map((function(e,n){return{x:t-q.xOffsets[n],y:a-q.yOffsets[n]}})),m=Object(j.a)(s);m[q.id].points=o,u(m,!0)}else{var d=q.id,p=q.x1,f=q.x2,y=q.y1,g=q.y2,E=q.type,b=q.offsetX,x=q.offsetY,w=t-b,O=a-x;ee(d,w,O,w+(f-p),O+(g-y),E,v,h,N,B)}else if("resize"===A){var S=q.id,C=q.type,_=q.position,I=Object(k.a)(q,["id","type","position"]),M=function(e,t,a,n){var l=n.x1,r=n.y1,c=n.x2,i=n.y2;switch(a){case"tl":case"start":return{x1:e,y1:t,x2:c,y2:i};case"tr":return{x1:l,y1:t,x2:e,y2:i};case"bl":return{x1:e,y1:r,x2:c,y2:t};case"br":case"end":return{x1:l,y1:r,x2:e,y2:t};case"circumference":return{x1:e,y1:t,x2:c,y2:i};default:return null}}(t,a,_,I),W=M.x1,D=M.y1,L=M.x2,X=M.y2;ee(S,W,D,L,X,C,v,h,N,B)}},onMouseUp:function(){if(0!==s.length&&q){var e=q.id,t=s[e],a=t.id,n=t.type;if(("drawing"===A||"resizing"===A)&&function(e){return["line","rectangle","circle"].includes(e)}(n)){var l=function(e){var t=e.type,a=e.x1,n=e.y1,l=e.x2,r=e.y2;if("rectangle"===t){var c=Math.min(a,l),i=Math.max(a,l);return{x1:c,y1:Math.min(n,r),x2:i,y2:Math.max(n,r)}}return(a<l||a===l)&&n<r?{x1:a,y1:n,x2:l,y2:r}:{x1:l,y1:r,x2:a,y2:n}}(s[e]),r=l.x1,c=l.y1,i=l.x2,o=l.y2;ee(a,r,c,i,o,n,v,h,N,B)}}z("none"),V(null)},onPointerDown:function(e){e.target.setPointerCapture(e.pointerId),G([[e.pageX,e.pageY,e.pressure]])},onPointerMove:function(e){1===e.buttons&&G([].concat(Object(j.a)(Q),[[e.pageX,e.pageY,e.pressure]]))}}))};function X(){return l.a.createElement("div",{className:"loader"},l.a.createElement("div",{className:"preloader"},l.a.createElement("div",{className:"box"},l.a.createElement("div",{className:"box__inner"},l.a.createElement("div",{className:"box__back-flap"}),l.a.createElement("div",{className:"box__right-flap"}),l.a.createElement("div",{className:"box__front-flap"}),l.a.createElement("div",{className:"box__left-flap"}),l.a.createElement("div",{className:"box__front"}))),l.a.createElement("div",{className:"box"},l.a.createElement("div",{className:"box__inner"},l.a.createElement("div",{className:"box__back-flap"}),l.a.createElement("div",{className:"box__right-flap"}),l.a.createElement("div",{className:"box__front-flap"}),l.a.createElement("div",{className:"box__left-flap"}),l.a.createElement("div",{className:"box__front"}))),l.a.createElement("div",{className:"line"},l.a.createElement("div",{className:"line__inner"})),l.a.createElement("div",{className:"line"},l.a.createElement("div",{className:"line__inner"})),l.a.createElement("div",{className:"line"},l.a.createElement("div",{className:"line__inner"})),l.a.createElement("div",{className:"line"},l.a.createElement("div",{className:"line__inner"})),l.a.createElement("div",{className:"line"},l.a.createElement("div",{className:"line__inner"})),l.a.createElement("div",{className:"line"},l.a.createElement("div",{className:"line__inner"})),l.a.createElement("div",{className:"line"},l.a.createElement("div",{className:"line__inner"}))))}a(100);var Y=function(){var e,t,a,r=Object(o.f)();return Object(n.useEffect)((function(){var n=document.getElementById("lectureType"),l=document.getElementById("lectureName"),r=document.getElementById("creator");document.getElementById("submit").addEventListener("click",(function(){t=n.value,e=l.value,a=r.value}))}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement("form",null,l.a.createElement("input",{id:"lectureName",placeholder:"Lecture Title"}),l.a.createElement("input",{id:"creator",placeholder:"Creator"}),l.a.createElement("select",{id:"lectureType"},l.a.createElement("option",{value:"ide"},"Web Developerment"),l.a.createElement("option",{value:"other"},"DSA"),l.a.createElement("option",{value:"drawboard"},"Other")),l.a.createElement("button",{type:"button",onClick:function(){return r.push({pathname:"/recorder",state:{lectureType:t,lectureName:e,lectureCreator:a}})},id:"submit"},"Submit")))},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"index.html",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"js":return e="script.js";case"css":return e="style.css";case"html":return e="index.html";default:return e}},A=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"outputtrue":return e=!0;case"outputfalse":return e=!1;default:return e}},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"c",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"c":return e="c";case"c99":return e="c99";case"cpp":return e="cpp";case"cpp14":return e="cpp14";case"cpp17":return e="cpp17";case"python2":return e="python2";case"python3":return e="python3";default:return e}},R=Object(s.b)({fileName:F,outputModal:A,srcDocs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"setSrcdoc":return e="\n            <html>\n              <body>".concat(f["index.html"].value,"</body>\n              <style>").concat(f["style.css"].value,"</style>\n              <script>").concat(f["script.js"].value,"<\/script>\n            </html>\n          ");default:return e}},language:z}),P=a(58);a(102);var J=function(e){var t=Object(o.f)();return Object(n.useEffect)((function(){for(var a=document.getElementById("lectureCard"),n=0;n<e.lectures.length;n++){var l=document.createElement("div"),r=document.createElement("button");r.textContent="Play Lecture";var c=document.createElement("h3"),i=document.createElement("h3");c.className="nameoflecture",i.className="nameofcreator",r.className=e.lectures[n].type,r.id=e.lectures[n].id,l.appendChild(c),l.appendChild(i),l.appendChild(r),c.innerHTML="Name - "+e.lectures[n].name,i.innerHTML="Creator - "+e.lectures[n].creator,a.appendChild(l)}a.addEventListener("click",(function(e){var a=e.target.id;console.log(e);var n=e.target.className;console.log(n),console.log(e.target.id),t.push({pathname:"/videoplayer",state:{id:a,type:n}})}))}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{id:"lectureCard"}))};function U(){return l.a.createElement("div",{className:"loader"},l.a.createElement("div",{className:"preloader"},l.a.createElement("div",{className:"box"},l.a.createElement("div",{className:"box__inner"},l.a.createElement("div",{className:"box__back-flap"}),l.a.createElement("div",{className:"box__right-flap"}),l.a.createElement("div",{className:"box__front-flap"}),l.a.createElement("div",{className:"box__left-flap"}),l.a.createElement("div",{className:"box__front"}))),l.a.createElement("div",{className:"box"},l.a.createElement("div",{className:"box__inner"},l.a.createElement("div",{className:"box__back-flap"}),l.a.createElement("div",{className:"box__right-flap"}),l.a.createElement("div",{className:"box__front-flap"}),l.a.createElement("div",{className:"box__left-flap"}),l.a.createElement("div",{className:"box__front"}))),l.a.createElement("div",{className:"line"},l.a.createElement("div",{className:"line__inner"})),l.a.createElement("div",{className:"line"},l.a.createElement("div",{className:"line__inner"})),l.a.createElement("div",{className:"line"},l.a.createElement("div",{className:"line__inner"})),l.a.createElement("div",{className:"line"},l.a.createElement("div",{className:"line__inner"})),l.a.createElement("div",{className:"line"},l.a.createElement("div",{className:"line__inner"})),l.a.createElement("div",{className:"line"},l.a.createElement("div",{className:"line__inner"})),l.a.createElement("div",{className:"line"},l.a.createElement("div",{className:"line__inner"}))))}var H=function(){var e=Object(n.useState)(""),t=Object(m.a)(e,2),a=t[0],r=t[1],c=[],i=Object(n.useState)(!1),o=Object(m.a)(i,2),s=o[0],u=o[1];return Object(n.useEffect)((function(){D.a.firestore().collection("recordIndex").orderBy("createdAt","desc").limit(10).get().then((function(e){e.forEach((function(e){c.push(e.data())})),r(c),u(!0)}))}),[]),l.a.createElement(l.a.Fragment,null,s?l.a.createElement(J,{lectures:a}):l.a.createElement(U,null))};0===D.a.apps.length&&D.a.initializeApp({apiKey:"AIzaSyAp2cQvNNp8fUKOv6kO_7wR5IsKROCoh14",authDomain:"engage-6ef42.firebaseapp.com",projectId:"engage-6ef42",storageBucket:"engage-6ef42.appspot.com",messagingSenderId:"27842359842",appId:"1:27842359842:web:e8f5b15f6a86ac66fa507b",measurementId:"G-EVEY2DP36T"});var q=[P.a],V=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.c,Z=Object(s.d)(R,V(s.a.apply(void 0,q)));c.a.render(l.a.createElement(u.a,{store:Z},l.a.createElement(l.a.StrictMode,null,l.a.createElement(i.a,null,l.a.createElement(o.c,null,l.a.createElement(o.a,{exact:!0,path:"/lectures",component:H}),l.a.createElement(o.a,{exact:!0,path:"/drawboard",component:B}),l.a.createElement(o.a,{exact:!0,path:"/recordform",component:Y}),l.a.createElement(o.a,{exact:!0,path:"/recorder",component:function(e){var t,a,n=e.location.state.lectureType,r={events:[]},c={x:0,y:0},i="";"other"===n?t="c":"ide"===n&&(t="index.html");var o="",s=[{eventName:"mousemove",handler:function(e){c={x:e.pageX,y:e.pageY},r.events.push({type:"mousemove",target:o,x:e.pageX,fileName:t,y:e.pageY,value:i,time:Date.now()-I})}},{eventName:"click",handler:function(e){"ide"!==n&&"other"!==n||("cssfile"!==e.target.className&&"buttontext style"!==e.target.className&&"fab fa-css3-alt"!==e.target.className||(t="style.css"),"jsfile"!==e.target.className&&"buttontext script"!==e.target.className&&" fa-js-square"!==e.target.className||(t="script.js"),"htmlfile"!==e.target.className&&"buttontext html"!==e.target.className&&"fab fa-html5fab"!==e.target.className||(t="index.html"),r.events.push({type:"click",target:e.target.className,x:e.pageX,fileName:t,y:e.pageY,time:Date.now()-I}))}},{eventName:"keyup",handler:function(e){"ide"!==n&&"other"!==n||(i=a,o=e.target.className,r.events.push({type:"keyup",target:e.target.className,x:c.x,y:c.y,fileName:t,value:"userInputArea"===e.target.className?e.target.value:f[t].value,keyCode:e.keyCode,time:Date.now()-I}))}},{eventName:"click",handler:function(e){"ide"!==n&&"other"!==n||("c"!==e.target.value&&"c99"!==e.target.value&&"cpp"!==e.target.value&&"cpp14"!==e.target.value&&"cpp17"!==e.target.value&&"python2"!==e.target.value&&"python3"!==e.target.value||(t=e.target.value),"script.js"===t&&"style.css"===t&&"index.html"===t||r.events.push({type:"click",target:e.target.className,x:e.pageX,fileName:t,y:e.pageY,value:f[t].value,time:Date.now()-I}))}},{eventName:"output",handler:function(e){r.events.push({type:"output",target:"userOutputArea",time:Date.now()-I,value:e.detail.output})}},{eventName:"drawStart",handler:function(e){r.events.push({type:"drawStart",time:Date.now()-I,value:e.detail})}},{eventName:"drawEnd",handler:function(e){r.events.push({type:"drawEnd",time:Date.now()-I,value:e.detail})}},{eventName:"drawing",handler:function(e){r.events.push({type:"drawing",time:Date.now()-I,value:e.detail})}},{eventName:"movingStart",handler:function(e){r.events.push({type:"movingStart",time:Date.now()-I,value:e.detail.element})}},{eventName:"moving",handler:function(e){r.events.push({type:"moving",time:Date.now()-I,value:e.detail})}},{eventName:"resizeStart",handler:function(e){r.events.push({type:"resizeStart",time:Date.now()-I,value:e.detail})}},{eventName:"resizing",handler:function(e){r.events.push({type:"resizing",time:Date.now()-I,value:e.detail})}}],u=new W.a({bitRate:128,prefix:"data:audio/wav;base64,"});function d(){I=Date.now(),r.events=[],s.map((function(e){return t=e.eventName,a=e.handler,document.documentElement.addEventListener(t,a,!0);var t,a})),u.start().then((function(){console.log("Started recording")})).catch((function(e){return console.error(e)}))}function p(){s.map((function(e){return t=e.eventName,a=e.handler,document.documentElement.removeEventListener(t,a,!0);var t,a})),localStorage.setItem("recording",JSON.stringify(r)),document.getElementsByClassName("stop-record")[0].style.display="none",document.getElementsByClassName("record")[0].style.display="block";var t=JSON.stringify(r);console.log(r),D.a.firestore().collection("events").add({recordingString:t,createdAt:D.a.firestore.FieldValue.serverTimestamp(),name:e.location.state.lectureName,creator:e.location.state.lectureCreator,type:e.location.state.lectureType}).then((function(t){var a;localStorage.setItem("recordingId",JSON.stringify(t.id)),D.a.firestore().collection("recordIndex").add({createdAt:D.a.firestore.FieldValue.serverTimestamp(),name:e.location.state.lectureName,type:e.location.state.lectureType,creator:e.location.state.lectureCreator,id:t.id}).then((function(e){console.log("Recording Tally Saved")})),console.log("Recording Saved"),u.stop().getMp3().then((function(e){var t=Object(m.a)(e,2),n=t[0],l=t[1];new File(n,"me-at-thevoice.mp3",{type:l.type,lastModified:Date.now()});var r=new FileReader;r.readAsDataURL(l),r.onloadend=function(){a=r.result;var e=D.a.storage().ref(),t=JSON.parse(localStorage.getItem("recordingId"));localStorage.removeItem("recordingId"),e.child(t).putString(a,"data_url").then((function(e){alert("Audio saved!")})).catch((function(e){console.log(e)}))}})).catch((function(e){return console.log(e)}))}))}return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"recorder"},l.a.createElement("div",{className:"recorder-button"},l.a.createElement("i",{className:"fas fa-microphone record",onClick:function(e){e.preventDefault(),document.getElementsByClassName("record")[0].style.display="none",document.getElementsByClassName("stop-record")[0].style.display="block",d(),console.log("The Button was clicked.")}}),l.a.createElement("i",{className:"fas fa-microphone-slash stop-record",onClick:function(e){e.preventDefault(),p(),console.log("Recording Stopped.")}})),"drawboard"===n?l.a.createElement(B,null):l.a.createElement(w,{name:n,parentCallBack:function(e){a=e}})))},ide:"web"}),l.a.createElement(o.a,{exact:!0,path:"/videoplayer",component:function(e){var t=e.location.state.type,a=Object(n.useState)(""),r=Object(m.a)(a,2),c=r[0],i=r[1],o=Object(n.useState)("loading"),s=Object(m.a)(o,2),d=(s[0],s[1],Object(u.b)()),p=Object(n.useState)(""),v=Object(m.a)(p,2),y=v[0],g=v[1];return Object(n.useEffect)((function(){var t=0;localStorage.setItem("lastSessionTimeStamp",JSON.stringify(t));var a=document.getElementsByClassName("videoplayer")[0],n=document.getElementsByClassName("playButton")[0],l={events:[]},r=localStorage.getItem("recording"),c=e.location.state.id;D.a.firestore().collection("events").where(D.a.firestore.FieldPath.documentId(),"==",c).get().then((function(e){e.forEach((function(e){console.log(e.data()),l=JSON.parse(e.data().recordingString)}))})).catch((function(e){console.log(e)})),null!=r&&(l=JSON.parse(r)),D.a.storage().ref().child(c).getDownloadURL().then((function(e){u.src=e,localStorage.setItem("url",e)})).catch((function(e){console.log(e)}));var o=document.createElement("div");document.getElementById("root").appendChild(o),o.style.display="none";var s,u=document.getElementById("audio_player");u.addEventListener("onclick",(function(e){console.log("Click on the audioPlayer"),console.log(e)})),o.className="customCursor";var m=0,p=!1;function v(){o.style.display="none",p=!0,localStorage.setItem("lastSessionTimeStamp",JSON.stringify(t))}function y(){var e;function a(){var a=l.events[m];a&&(t=null!==localStorage.getItem("lastSessionTimeStamp")?JSON.parse(localStorage.getItem("lastSessionTimeStamp"))+Date.now()-s:1*(Date.now()-s),a.time<=t&&(!function(e,t){if("mousemove"===e.type){t.style.left=JSON.stringify(e.x)+"px",t.style.top=JSON.stringify(e.y)+"px";var a=e.target;h(e.fileName);var n=document.getElementsByClassName(a)[0];null!=n&&n.focus()}"click"===e.type&&(E(t,"click"),null!=(n=document.getElementsByClassName(e.target)[0])&&(h(e.fileName),h(e.target),E(n,"clicked")));if("keyup"===e.type){var l=e.target;null!=(n=document.getElementsByClassName(l)[0])&&(n.focus(),"userInputArea"===l?n.value=e.value:(f[e.fileName].value=e.value,h(e.fileName),i(e.value)))}if("output"===e.type){var r=e.target;null!=(n=document.getElementsByClassName(r)[0])&&(n.focus(),"userOutputArea"===r&&(n.value=e.value))}else g(e)}(a,o),m++),(m>=l.events.length||p)&&clearInterval(e))}null!=document.getElementsByClassName("videoscreen")[0]&&(document.getElementsByClassName("videoscreen")[0].className="visiblescreen"),o.style.display="block",s=Date.now(),p=!1,e=setInterval((function(){p||a()}),1)}function h(e){switch(e){case"outputtext":case"output":case"buttontext output":case"fas fa-play":d({type:"setSrcdoc"}),d({type:"outputtrue"});break;case"fas fa-window-close":d({type:"outputfalse"});break;case"style.css":case"buttontext style":d({type:"css"});break;case"index.html":d({type:"html"});break;case"script.js":case"buttontext script":d({type:"js"})}}function E(e,t){e.classList.add(t),setTimeout((function(){e.classList.remove(t)}),200)}u.addEventListener("canplay",(function(){document.getElementsByClassName("player-content")[0].style.display="block",document.getElementsByClassName("loader")[0].style.display="none",console.log("loaded")})),u.addEventListener("play",(function(){n.style.display="none",y(),console.log("audio play")})),u.addEventListener("pause",(function(){console.log("clicked pause"),v()})),u.addEventListener("ended",(function(){v(),console.log("ended audio")})),u.addEventListener("seeking",(function(){o.style.display="none",v(),u.pause();for(var e=u.currentTime,t=0;t<l.events.length;t++)if(l.events[t].time>1e3*e){m=t;break}console.log(m),console.log(l.events[m].time),console.log(e),l.events[m].time>1e3*e?localStorage.setItem("lastSessionTimeStamp",l.events[m].time):localStorage.setItem("lastSessionTimeStamp",1e3*e)})),n.addEventListener("click",(function(){n.style.display="none",a.style.display="flex",u.play(),y()}))}),[]),l.a.createElement("div",null,l.a.createElement(X,null),l.a.createElement("div",{className:"player-content"},l.a.createElement("div",{className:"videoscreen"},"drawboard"===t?l.a.createElement(T,{event:y}):l.a.createElement(w,{name:t,refresh:c})),l.a.createElement("div",{className:"playButton"},l.a.createElement("div",{className:"container"},l.a.createElement("a",{className:"button button-play"}))),l.a.createElement("div",{className:"videoplayer"},l.a.createElement("audio",{id:"audio_player",controls:"controls",controlsList:"nodownload"}))))}}),l.a.createElement(o.a,{exact:!0,path:"/",component:function(){var e=Object(o.f)();return l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{className:"recordWebD",onClick:function(){return e.push("/recordform")}},"Recorder A Lecture"),l.a.createElement("button",{className:"playWebD",onClick:function(){return e.push("/lectures")}},"Watch lectures "),l.a.createElement("button",{onClick:function(){return e.push("/drawboard")}},"Drawing Board"),l.a.createElement("button",{className:"recordWebD",onClick:function(){return e.push("/recorder/drawboard")}},"Recorder with Drawing Board"),l.a.createElement("button",{className:"playWebD",onClick:function(){return e.push("/videoplayer/drawboard")}},"Player with Drawing Board"))}}))))),document.getElementById("root"))},51:function(e,t,a){},59:function(e,t,a){e.exports=a(103)},67:function(e,t,a){},77:function(e,t,a){},97:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){}},[[59,1,2]]]);
//# sourceMappingURL=main.6a97b34e.chunk.js.map